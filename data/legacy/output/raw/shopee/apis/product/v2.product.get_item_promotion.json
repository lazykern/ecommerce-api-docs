{
  "api_id": 661,
  "api_name": "v2.product.get_item_promotion",
  "api_type": "Shop",
  "common_params": "[{\"name\":\"partner_id\",\"type\":\"int\",\"sample\":\"1\",\"description\":\"Partner ID is assigned upon registration is successful. Required for all requests.\"},{\"name\":\"timestamp\",\"type\":\"timestamp\",\"sample\":\"1610000000\",\"description\":\"This is to indicate the timestamp of the request. Required for all requests. Expires in 5 minutes.\"},{\"name\":\"access_token\",\"type\":\"string\",\"sample\":\"c09222e3fc40ffb25fc947f738b1abf1\",\"description\":\"The token for API access, using to identify your permission to the api. Valid for multiple use and expires in 4 hours.\"},{\"name\":\"shop_id\",\"type\":\"int\",\"sample\":\"600000\",\"description\":\"Shopee's unique identifier for a shop. Required param for most APIs.\"},{\"name\":\"sign\",\"type\":\"string\",\"sample\":\"e318d3e932719916a9f9ebb57e2011961bd47abfa54a36e040d050d8931596e2\",\"description\":\"Signature generated by partner_id, api path, timestamp, access_token, shop_id and partner_key via HMAC-SHA256 hashing algorithm. More details: <a href= https://open.shopee.com/documents?module=87&type=2&id=58&version=2> https://open.shopee.com/documents?module=87&type=2&id=58&version=2</a>\"}]",
  "define": "Get item promotion info.",
  "error_list": [
    {
      "name": "error_param",
      "description": "There is no access_token in query."
    },
    {
      "name": "error_auth",
      "description": "Invalid access_token."
    },
    {
      "name": "error_param",
      "description": "Invalid partner_id."
    },
    {
      "name": "error_param",
      "description": "There is no partner_id in query."
    },
    {
      "name": "error_auth",
      "description": "No permission to current api."
    },
    {
      "name": "error_param",
      "description": "There is no sign in query."
    },
    {
      "name": "error_sign",
      "description": "Wrong sign."
    },
    {
      "name": "error_param",
      "description": "no timestamp"
    },
    {
      "name": "error_param",
      "description": "Invalid timestamp"
    },
    {
      "name": "error_network",
      "description": "Inner http call failed"
    },
    {
      "name": "error_data",
      "description": "parse data failed"
    },
    {
      "name": "error_data",
      "description": "data not exist"
    },
    {
      "name": "error_param",
      "description": "parameter invalid"
    },
    {
      "name": "error_param",
      "description": "The information you queried is not found."
    },
    {
      "name": "error_param",
      "description": "Wrong parameters, detail: {msg}."
    },
    {
      "name": "error_server",
      "description": "Something wrong. Please try later.\t"
    },
    {
      "name": "error_shop",
      "description": "shopid is invalid"
    },
    {
      "name": "error_param",
      "description": "request not from gateway"
    },
    {
      "name": "error_param",
      "description": "Model_id and item_id not match."
    },
    {
      "name": "error_param",
      "description": "Repeat item_id."
    },
    {
      "name": "error_get_shop_fail",
      "description": "Get shop failed. please try later."
    },
    {
      "name": "error_inner",
      "description": "Our system is taking some time to respond, please try later."
    },
    {
      "name": "error_inner",
      "description": "System error, please try again later or contact the OpenAPI support team."
    },
    {
      "name": "error_item_not_found",
      "description": "Product not found"
    },
    {
      "name": "error_inner",
      "description": "Update item failed {{.error_info}}"
    },
    {
      "name": "error_inner",
      "description": "Update item failed {{.error_info}}"
    },
    {
      "name": "error_inner",
      "description": "System error, please try again later or contact the OpenAPI support team."
    },
    {
      "name": "error_inner",
      "description": "System error, please try again later or contact the OpenAPI support team."
    },
    {
      "name": "error_auth",
      "description": "The location_id input is not matched the shop's location_id(more/wrong). Please double check."
    },
    {
      "name": "error_auth",
      "description": "Lack of location_id, please double check."
    },
    {
      "name": "error_auth",
      "description": "Please wait for the holiday mode set then to edit item. Please try later."
    },
    {
      "name": "error_auth",
      "description": "Total stock must be more than reserved stock."
    },
    {
      "name": "error_param",
      "description": "{{.error_info}}"
    },
    {
      "name": "error_auth",
      "description": "Your shop can not use model level dts"
    },
    {
      "name": "error_auth",
      "description": "You do not have right to use seller location_id, please only fill seller_stock filed."
    },
    {
      "name": "error.param",
      "description": "Can not update item with stock less than reserved stock"
    },
    {
      "name": "error_param",
      "description": "Can not update item with different stock structure. Can only update seller stock with location id when existing seller stock have location id. Can only update seller stock without location id when existing seller stock without location id."
    },
    {
      "name": "error_param",
      "description": "Can not update item with stock less than reserve stock"
    },
    {
      "name": "error_auth",
      "description": "Stock should be larger than reserved stock."
    },
    {
      "name": "error_system_busy",
      "description": "Our system is taking some time to respond, please try later."
    },
    {
      "name": "error_param",
      "description": "Can not update item with different stock structure. Can only update seller stock with location id when existing seller stock have location id. Can only update seller stock without location id when existing seller stock without location id."
    }
  ],
  "errors": "",
  "gateway_api_id": 0,
  "is_get_method": 0,
  "method": 2,
  "module_id": 89,
  "module_name": "Product",
  "params": "{\"request_params\":[{\"name\":\"item_id_list\",\"limits\":\"\",\"required\":\"True\",\"sample\":\"13233406680,17924576533\",\"type\":\"int64[]\",\"description\":\"Item ID list, can send 1 to 50 items.\",\"key\":\"BnQnyik\"}],\"response_params\":[{\"sample\":\" product.error_param\",\"type\":\"string\",\"name\":\"error\",\"description\":\"Indicate error type if hit error. Empty if no error happened.\",\"key\":\"FrcWRpB\"},{\"sample\":\"\",\"type\":\"string\",\"name\":\"message\",\"description\":\"Indicate error details if hit error. Empty if no error happened.\",\"key\":\"CmKkkjr\"},{\"sample\":\"\",\"type\":\"string\",\"name\":\"warning\",\"description\":\"Waring message.\",\"key\":\"kpRGPna\"},{\"sample\":\"\",\"type\":\"string\",\"name\":\"request_id\",\"description\":\"The identifier for an API request for error tracking.\",\"key\":\"eKjHmRm\"},{\"sample\":\"\",\"type\":\"object\",\"description\":\"\",\"name\":\"response\",\"children\":[{\"sample\":\"\",\"type\":\"object[]\",\"description\":\"Success item promotion info.\",\"name\":\"success_list\",\"children\":[{\"sample\":\"\",\"type\":\"int\",\"name\":\"item_id\",\"description\":\"The identity of product item.\",\"key\":\"JTmQaca\"},{\"sample\":\"\",\"type\":\"object[]\",\"description\":\"Item promotion info list\",\"name\":\"promotion\",\"children\":[{\"sample\":\"Campaign\",\"type\":\"string\",\"name\":\"promotion_type\",\"description\":\"Promotion type, Applicable values: See Data Definition- PromotionType.\",\"key\":\"fmzPFck\"},{\"sample\":\"\",\"type\":\"int64\",\"name\":\"promotion_id\",\"description\":\"The identity of item promotion.\",\"key\":\"rrymGFA\"},{\"sample\":\"\",\"type\":\"int64\",\"name\":\"model_id\",\"description\":\"The identity of product model.\",\"key\":\"zbRJpNS\"},{\"sample\":\"\",\"type\":\"timestamp\",\"name\":\"start_time\",\"description\":\"Promotion start tiem.\",\"key\":\"wMNGaGC\"},{\"sample\":\"\",\"type\":\"timestamp\",\"name\":\"end_time\",\"description\":\"Promotion end item.\",\"key\":\"hYrwQaB\"},{\"sample\":\"\",\"type\":\"object[]\",\"description\":\"Promotion price info.\",\"name\":\"promotion_price_info\",\"children\":[{\"sample\":\"\",\"type\":\"float\",\"name\":\"promotion_price\",\"description\":\"Promotion price.\",\"key\":\"yNneDBW\"}],\"key\":\"SSeamGQ\"},{\"sample\":\"\",\"type\":\"string\",\"name\":\"promotion_staging\",\"description\":\"Could be ongoing/upcoming\",\"key\":\"ZYCbFZj\"},{\"description\":\"<p>new promotion stock<br /></p>\",\"name\":\"promotion_stock_info_v2\",\"sample\":\"\",\"type\":\"object\",\"required\":null,\"key\":\"ctFdhWa\",\"children\":[{\"description\":\"<p>stock summary info<br /></p>\",\"name\":\"summary_info\",\"sample\":\"\",\"type\":\"object\",\"required\":null,\"key\":\"WAdzkbR\"},{\"description\":\"<p>Total Stock reserved for promotion<br /></p>\",\"name\":\"total_reserved_stock\",\"sample\":\"10\",\"type\":\"int32\",\"required\":null,\"key\":\"dSczGSS\"}]}],\"key\":\"XXxdHhs\"}],\"key\":\"YtxiwD\"},{\"sample\":\"\",\"type\":\"object[]\",\"description\":\"Fail item promotion info.\",\"name\":\"failure_list\",\"children\":[{\"sample\":\"\",\"type\":\"int64\",\"name\":\"item_id\",\"description\":\"The identity of item.\",\"key\":\"NGJpin\"},{\"sample\":\"\",\"type\":\"string\",\"name\":\"failed_reason\",\"description\":\"Fail reason.\",\"key\":\"zRrtCac\"}],\"key\":\"xQaJwTm\"}],\"key\":\"WCynjsW\"}]}",
  "perm_mtime": 1682591753,
  "perm_operator": "tenghui.huang@shopee.com",
  "perm_type": 1,
  "perm_upload_file_name": "",
  "priority": 25,
  "rate_limit": "[0, 0, 0]",
  "request_sample": "[{\"type\":\"Java\",\"value\":\"Unirest.setTimeouts(0, 0);\\nHttpResponse<String> response = Unirest.get(\\\"https://partner.shopeemobile.com/api/v2/product/get_item_promotion?access_token=access_token&item_id_list= 13233406680,17924576533&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp\\\")\\n.asString();\"},{\"type\":\"PHP\",\"value\":\"<?php\\n\\n$curl = curl_init();\\n\\ncurl_setopt_array($curl, array(\\n  CURLOPT_URL => 'https://partner.shopeemobile.com/api/v2/product/get_item_promotion?access_token=access_token&item_id_list= 13233406680,17924576533&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp',\\n  CURLOPT_RETURNTRANSFER => true,\\n  CURLOPT_ENCODING => '',\\n  CURLOPT_MAXREDIRS => 10,\\n  CURLOPT_TIMEOUT => 0,\\n  CURLOPT_FOLLOWLOCATION => true,\\n  CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,\\n  CURLOPT_CUSTOMREQUEST => 'GET',\\n  CURLOPT_HTTPHEADER => array(\\n    'Content-Type: application/json'\\n  ),\\n));\\n\\n$response = curl_exec($curl);\\n\\ncurl_close($curl);\\necho $response;\\n\"},{\"type\":\"cURL\",\"value\":\"curl --location --request GET 'https://partner.shopeemobile.com/api/v2/product/get_item_promotion?access_token=access_token&item_id_list= 13233406680,17924576533&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp' \"},{\"type\":\"Python\",\"value\":\"import requests\\n\\nurl = \\\"https://partner.shopeemobile.com/api/v2/product/get_item_promotion?access_token=access_token&item_id_list= 13233406680,17924576533&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp\\\"\\n\\npayload={}\\nheaders = {\\n\\n}\\nresponse = requests.request(\\\"GET\\\",url,headers=headers, data=payload, allow_redirects=False)\\n\\nprint(response.text)\\n\"}]",
  "response_sample": "[{\"type\":\"JSON\",\"value\":\"{\\n    \\\"error\\\": \\\"\\\",\\n    \\\"message\\\": \\\"\\\",\\n    \\\"warning\\\": \\\"\\\",\\n    \\\"request_id\\\": \\\"c878e05df6313b180d40ba67cac74caf\\\",\\n    \\\"response\\\": {\\n        \\\"success_list\\\": [\\n            {\\n                \\\"item_id\\\": 800188562,\\n                \\\"promotion\\\": [\\n                    {\\n                        \\\"promotion_type\\\": \\\"Discount Promotions\\\",\\n                        \\\"promotion_id\\\": 649305216139969,\\n                        \\\"model_id\\\": 9184960,\\n                        \\\"start_time\\\": 1650609000,\\n                        \\\"end_time\\\": 1650616200,\\n                        \\\"promotion_price_info\\\": [\\n                            {\\n                                \\\"promotion_price\\\": 160\\n                            }\\n                        ],\\n                        \\\"promotion_staging\\\": \\\"upcoming\\\",\\n                        \\\"promotion_stock_info_v2\\\": {\\n                            \\\"summary_info\\\": {\\n                                \\\"total_reserved_stock\\\": 0\\n                            }\\n                        }\\n                    },\\n                    {\\n                        \\\"promotion_type\\\": \\\"Discount Promotions\\\",\\n                        \\\"promotion_id\\\": 649305216139969,\\n                        \\\"model_id\\\": 9182545,\\n                        \\\"start_time\\\": 1650609000,\\n                        \\\"end_time\\\": 1650616200,\\n                        \\\"promotion_price_info\\\": [\\n                            {\\n                                \\\"promotion_price\\\": 160\\n                            }\\n                        ],\\n                        \\\"promotion_staging\\\": \\\"upcoming\\\",\\n                        \\\"promotion_stock_info_v2\\\": {\\n                            \\\"summary_info\\\": {\\n                                \\\"total_reserved_stock\\\": 20\\n                            }\\n                        }\\n                    },\\n                    {\\n                        \\\"promotion_type\\\": \\\"Discount Promotions\\\",\\n                        \\\"promotion_id\\\": 649305216139969,\\n                        \\\"model_id\\\": 9182546,\\n                        \\\"start_time\\\": 1650609000,\\n                        \\\"end_time\\\": 1650616200,\\n                        \\\"promotion_price_info\\\": [\\n                            {\\n                                \\\"promotion_price\\\": 160\\n                            }\\n                        ],\\n                        \\\"promotion_staging\\\": \\\"upcoming\\\",\\n                        \\\"promotion_stock_info_v2\\\": {\\n                            \\\"summary_info\\\": {\\n                                \\\"total_reserved_stock\\\": 20\\n                            }\\n                        }\\n                    }\\n                ]\\n            }\\n        ]\\n    }\\n}\"}]",
  "status": 1,
  "tag": "",
  "test_url": "https://partner.test-stable.shopeemobile.com/api/v2/product/get_item_promotion",
  "update_log_list": [
    {
      "date": "2024-10-23",
      "content": "sunset the reserved_stock_info"
    },
    {
      "date": "2022-06-13",
      "content": "add reminder \"Please use the promotion_stock_info_v2 field instead, we will deprecate this field in the future.\""
    },
    {
      "date": "2021-08-16",
      "content": "update promotion_staging description and example"
    }
  ],
  "url": "https://partner.shopeemobile.com/api/v2/product/get_item_promotion",
  "version": "",
  "error_example": "[{\"type\":\"JSON\",\"value\":\"{\\n    \\\"request_id\\\": \\\"b47087cbd3b2687193e2573dad2f4a3c\\\",\\n    \\\"error\\\": \\\"error_auth\\\",\\n    \\\"message\\\": \\\"Invalid partner_id or shopid.\\\"\\n}\"}]",
  "api_permission": [
    "ERP System",
    "Seller In House System",
    "Product Management",
    "Order Management",
    "Accounting And Finance",
    "Marketing",
    "Customized APP",
    "Ads Service",
    "Swam ERP",
    "Livestream Management",
    "Ads Facil",
    "Affiliate Marketing Solution Management",
    "Shopee Video Management"
  ],
  "path": "/api/v2/product/get_item_promotion"
}