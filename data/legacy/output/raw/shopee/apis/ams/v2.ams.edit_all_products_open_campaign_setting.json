{
  "api_id": 2676,
  "api_name": "v2.ams.edit_all_products_open_campaign_setting",
  "api_type": "Shop",
  "common_params": "[{\"name\":\"partner_id\",\"type\":\"int\",\"sample\":\"1\",\"description\":\"Partner ID is assigned upon registration is successful. Required for all requests.\"},{\"name\":\"timestamp\",\"type\":\"timestamp\",\"sample\":\"1610000000\",\"description\":\"This is to indicate the timestamp of the request. Required for all requests. Expires in 5 minutes.\"},{\"name\":\"access_token\",\"type\":\"string\",\"sample\":\"c09222e3fc40ffb25fc947f738b1abf1\",\"description\":\"The token for API access, using to identify your permission to the api. Valid for multiple use and expires in 4 hours.\"},{\"name\":\"shop_id\",\"type\":\"int\",\"sample\":\"600000\",\"description\":\"Shopee's unique identifier for a shop. Required param for most APIs.\"},{\"name\":\"sign\",\"type\":\"string\",\"sample\":\"e318d3e932719916a9f9ebb57e2011961bd47abfa54a36e040d050d8931596e2\",\"description\":\"Signature generated by partner_id, api path, timestamp, access_token, shop_id and partner_key via HMAC-SHA256 hashing algorithm. More details: <a href= https://open.shopee.com/documents?module=87&type=2&id=58&version=2> https://open.shopee.com/documents?module=87&type=2&id=58&version=2</a>\"}]",
  "define": "Update for all products in the Open Campaign. We will only return the general error that caused the whole task failure, without returning the specific error for each product in the v2.ams.get_open_campaign_batch_task_result API. If you want to get the result for each products, you can use v2.ams.batch_edit_products_open_campaign_setting by pagination manually, or check the product status by using the GET API after the task progress turn to 100%.",
  "error_list": [
    {
      "name": "error_business",
      "description": "Partitial success, please check detail reason"
    },
    {
      "name": "error_business",
      "description": "Total fail, please check"
    },
    {
      "name": "error_auth",
      "description": "Invalid partner_id or shopid."
    },
    {
      "name": "error_server",
      "description": "Something wrong. Please try later."
    },
    {
      "name": "error_param",
      "description": "campaign_ids is blank or exceeded max limit."
    },
    {
      "name": "error_param",
      "description": "invalid commission_rate"
    },
    {
      "name": "error_param",
      "description": "invalid param"
    },
    {
      "name": "error_param",
      "description": "invalid period_end_time"
    },
    {
      "name": "error_param",
      "description": "invalid period_start_time"
    },
    {
      "name": "error_business",
      "description": "Invalid period time. Campaign should last at least 7 full days to have a smooth and effective promotion."
    },
    {
      "name": "error_server",
      "description": "Something wrong. Please try later.\t"
    },
    {
      "name": "error_business",
      "description": "Sorry you don't have access to AMS features."
    },
    {
      "name": "error_business",
      "description": "Please agree to the AMS T&C in Seller Center - Affiliate Marketing Solutions first before using Open API."
    },
    {
      "name": "error_business",
      "description": "The seller commission operation is frozen."
    }
  ],
  "errors": "",
  "gateway_api_id": 0,
  "is_get_method": 0,
  "method": 1,
  "module_id": 127,
  "module_name": "AMS",
  "params": "{\"request_params\":[{\"description\":\"<p>Commission Rate, 1.1 means 1.1%, support two decimal places, if miss, will skip and do not update</p>\",\"name\":\"commission_rate\",\"sample\":\"1.1\",\"type\":\"float\",\"required\":\"False\",\"key\":\"GiTmpRY\"},{\"description\":\"<p>Period start time, in seconds, if missing, will skip and do not update</p><p>Only allow to update on UPCOMING status, when in other status, will skip too</p>\",\"name\":\"period_start_time\",\"sample\":\"1735660800\",\"type\":\"timestamp\",\"required\":\"False\",\"key\":\"nbdBdhN\"},{\"description\":\"<p>Period end time, in seconds, if missing, will skip and do not update</p><p>Can set 32503651199 to make period no limit</p>\",\"name\":\"period_end_time\",\"sample\":\"1735660800\",\"type\":\"timestamp\",\"required\":\"False\",\"key\":\"CYehMnn\"}],\"response_params\":[{\"description\":\"<p>Indicate error type if hit error. Empty if no error happened.</p>\",\"name\":\"error\",\"sample\":\"error_business\",\"type\":\"string\",\"required\":null,\"key\":\"dPyZEX\"},{\"description\":\"<p>Indicate error details if hit error. Empty if no error happened.</p>\",\"name\":\"message\",\"sample\":\"Please agree to the AMS T&C in Seller Center - Affiliate Marketing Solutions first before using Open API.\",\"type\":\"string\",\"required\":null,\"key\":\"GTwFncr\"},{\"description\":\"<p>The identifier for an API request for error tracking.</p>\",\"name\":\"request_id\",\"sample\":\"b937c04e554847789cbf3fe33a0ad5f1\",\"type\":\"string\",\"required\":null,\"key\":\"eiZnnGZ\"},{\"description\":\"\",\"name\":\"response\",\"sample\":\"\",\"type\":\"object\",\"required\":null,\"key\":\"SHXJZes\",\"children\":[{\"description\":\"<p>Task type. Applicable values:&nbsp;</p><p>batch_add_open_campaigns</p><p>batch_remove_open_campaigns</p><p>batch_update_open_campaigns</p><p><br /></p><p>For this API, task type will be&nbsp;batch_update_open_campaigns</p>\",\"name\":\"task_type\",\"sample\":\"batch_update_open_campaigns\",\"type\":\"string\",\"required\":null,\"key\":\"JrFAzaK\"},{\"description\":\"<p>Task id, used to query task progress when calling v2.ams.get_open_campaign_batch_task_result API</p>\",\"name\":\"task_id\",\"sample\":\"abcd-abcd-abcd\",\"type\":\"string\",\"required\":null,\"key\":\"nzZcysN\"}]}]}",
  "perm_mtime": 1763708314,
  "perm_operator": "yan.su@shopee.com",
  "perm_type": 1,
  "perm_upload_file_name": "",
  "priority": 7,
  "rate_limit": "",
  "request_sample": "[{\"type\":\"Payload\",\"value\":\"{\\n\\t\\\"commission_rate\\\": 1.1,\\n\\t\\\"period_start_time\\\": 1735660800,\\n\\t\\\"period_end_time\\\": 1735660800\\n}\"},{\"type\":\"Java\",\"value\":\"Unirest.setTimeouts(0, 0);\\nHttpResponse<String> response = Unirest.post(\\\"https://partner.shopeemobile.com/api/v2/ams/edit_all_products_open_campaign_setting?access_token=access_token&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp\\\")\\n.header(\\\"Content-Type\\\",\\\"application/json\\\")\\n.body(\\\"{\\n   \\\\\\\"commission_rate\\\\\\\": 1.1,\\n   \\\\\\\"period_end_time\\\\\\\": 1735660800,\\n   \\\\\\\"period_start_time\\\\\\\": 1735660800\\n}\\\")\\n.asString();\"},{\"type\":\"PHP\",\"value\":\"<?php\\n\\n$curl = curl_init();\\n\\ncurl_setopt_array($curl, array(\\n  CURLOPT_URL => 'https://partner.shopeemobile.com/api/v2/ams/edit_all_products_open_campaign_setting?access_token=access_token&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp',\\n  CURLOPT_RETURNTRANSFER => true,\\n  CURLOPT_ENCODING => '',\\n  CURLOPT_MAXREDIRS => 10,\\n  CURLOPT_TIMEOUT => 0,\\n  CURLOPT_FOLLOWLOCATION => true,\\n  CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,\\n  CURLOPT_CUSTOMREQUEST => 'POST',\\n  CURLOPT_POSTFIELDS => '{\\n    \\\"commission_rate\\\": 1.1,\\n    \\\"period_end_time\\\": 1735660800,\\n    \\\"period_start_time\\\": 1735660800\\n}',\\n  CURLOPT_HTTPHEADER => array(\\n    'Content-Type: application/json'\\n  ),\\n));\\n\\n$response = curl_exec($curl);\\n\\ncurl_close($curl);\\necho $response;\\n\"},{\"type\":\"cURL\",\"value\":\"curl --location --request POST 'https://partner.shopeemobile.com/api/v2/ams/edit_all_products_open_campaign_setting?access_token=access_token&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp' \\\\\\n--header 'Content-Type: application/json' \\\\\\n--data-raw '{\\n   \\\"commission_rate\\\": 1.1,\\n   \\\"period_end_time\\\": 1735660800,\\n   \\\"period_start_time\\\": 1735660800\\n}'\\n\"},{\"type\":\"Python\",\"value\":\"import requests\\nimport json\\n\\nurl = \\\"https://partner.shopeemobile.com/api/v2/ams/edit_all_products_open_campaign_setting?access_token=access_token&partner_id=partner_id&shop_id=shop_id&sign=sign&timestamp=timestamp\\\"\\n\\npayload=json.dumps({\\n  \\\"commission_rate\\\": 1.1,\\n  \\\"period_end_time\\\": 1735660800,\\n  \\\"period_start_time\\\": 1735660800\\n})\\nheaders = {\\n  'Content-Type': 'application/json'\\n}\\nresponse = requests.RPCRequest(\\\"POST\\\",url,headers=headers, data=payload, allow_redirects=False)\\n\\nprint(response.text)\\n\"}]",
  "response_sample": "[{\"type\":\"JSON\",\"value\":\"{\\n\\t\\\"error\\\": \\\"\\\",\\n\\t\\\"message\\\": \\\"\\\",\\n\\t\\\"request_id\\\": \\\"b937c04e554847789cbf3fe33a0ad5f1\\\",\\n\\t\\\"response\\\": {\\n\\t\\t\\\"task_type\\\": \\\"batch_update_open_campaigns\\\",\\n\\t\\t\\\"task_id\\\": \\\"abcd-abcd-abcd\\\"\\n\\t}\\n}\"}]",
  "status": 1,
  "tag": "",
  "test_url": "https://partner.test-stable.shopeemobile.com/api/v2/ams/edit_all_products_open_campaign_setting",
  "update_log_list": [
    {
      "date": "2025-10-15",
      "content": "New API"
    }
  ],
  "url": "https://partner.shopeemobile.com/api/v2/ams/edit_all_products_open_campaign_setting",
  "version": "",
  "error_example": "[{\"type\":\"JSON\",\"value\":\"{\\n\\t\\\"error\\\": \\\"error_business\\\",\\n\\t\\\"message\\\": \\\"Please agree to the AMS T&C in Seller Center - Affiliate Marketing Solutions first before using Open API.\\\",\\n\\t\\\"request_id\\\": \\\"b937c04e554847789cbf3fe33a0ad5f1\\\"\\n}\\n\"}]",
  "api_permission": [
    "Affiliate Marketing Solution Management"
  ],
  "path": "/api/v2/ams/edit_all_products_open_campaign_setting"
}