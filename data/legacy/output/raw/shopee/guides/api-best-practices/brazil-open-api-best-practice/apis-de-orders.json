{
  "category_name": "API Best Practices / Brazil Open API Best Practice",
  "category_id": 2067,
  "document_id": 383,
  "release_time": 1721793664,
  "update_time": 1721793664,
  "operator": "grace.li@shopee.com",
  "title": "APIs de orders",
  "raw_content": "[{\"name\":\"heading2\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"Fluxo de order\"}]},{\"name\":\"paragraph\"},{\"attributes\":{\"src\":\"https://cf.shopee.sg/file/f2bfc2e016b095f9bc0325e2b3979c10\"},\"name\":\"imageBlock\"},{\"name\":\"heading2\"},{\"name\":\"heading2\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"Identificando uma nova order\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Atualmente existem duas formas de identificarmos uma nova order via API:\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"1 - Push Mechanism (Webhooks):\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Com o Push Mechanism ativado sempre que uma nova order for criada ou mudar de status, um novo Push será enviado para o link informado (callback URL), a qual você precisa configurar para responder de acordo com esses requisitos de resposta HTTP:\"}]},{\"attributes\":{\"listIndent\":0,\"listType\":\"numbered\"},\"name\":\"listItem\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"rgb(255,255,255)\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Incluir código de status 2xx;\"}]},{\"attributes\":{\"listIndent\":0,\"listType\":\"numbered\"},\"name\":\"listItem\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"rgb(255,255,255)\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Incluir um corpo vazio (método POST);\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Atualmente é possível ativar o Push Mechanism:\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"a) API \\\"\"},{\"attributes\":{\"fontBackgroundColor\":\"rgb(255,255,255)\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"v2.push.set_push_config\\\": informando quais Push devem ser ativados, o Push para criação e mudança de status das orders é o \\\"order_status\\\":\"}]},{\"name\":\"paragraph\"},{\"attributes\":{\"listIndent\":0,\"listType\":\"numbered\"},\"name\":\"listItem\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"rgb(255,255,255)\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Segue exemplo de request:\"}]},{\"name\":\"paragraph\"},{\"attributes\":{\"language\":\"java\"},\"name\":\"codeBlock\",\"children\":[{\"data\":\"{\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"\\\"push_config\\\": {\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"\\\"order_status\\\": 1,\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"},\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"\\\"callback_url\\\": \\\"www.site.com.br\\\"\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"}\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"rgb(255,255,255)\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"b) Open Platform: faça login na Open Platform > Console > App Management > Push Mechanism > Set Push e \\\"ligar\\\" nesse botões abaixo os Webhooks que deseja:\"}]},{\"attributes\":{\"src\":\"https://open.shopee.com/opservice/api/v1/image/download/?image_id=1xwkte6qdiCTaaSGeVzOHtm7u9catV5AyyGLACwSS%2F4pRM2ZYtt50Zl2ASUi8Ot8vE12gkqbY0RCESEnsVbINQ%3D%3D&image_type=jpg\"},\"name\":\"imageBlock\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"2 - Pela API \"},{\"attributes\":{\"bold\":true,\"linkHref\":\"https://open.shopee.com/documents/v2/v2.order.get_order_list?module=94&type=1\"},\"data\":\"v2.get_order_list:\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Chamando a API get_order_list, seu response trará todas as order_sn do ShopId e período específico;\"}]},{\"name\":\"paragraph\"},{\"attributes\":{\"listIndent\":0,\"listType\":\"numbered\"},\"name\":\"listItem\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Inserindo o parâmetro opcional \\\"response_optional_fields=order_status\\\", o response também apresentará os status das orders, como no exemplo abaixo:\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"Request:\"}]},{\"attributes\":{\"language\":\"java\"},\"name\":\"codeBlock\",\"children\":[{\"data\":\"curl --location --request GET\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"'https://partner.shopeemobile.com/api/v2/order/get_order_list?timestamp=timestamp&shop_id=shop_id&partner_id=partner_id&access_token=access_token&page_size=2&response_optional_fields=order_status&time_range_field=create_time&time_from=1607235072&time_to=1608271872&sign=sign&cursor=\\\"\\\"'\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"Response:\"}]},{\"attributes\":{\"language\":\"java\"},\"name\":\"codeBlock\",\"children\":[{\"data\":\"{\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"\\\"error\\\": \\\"\\\",\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"\\\"message\\\": \\\"\\\",\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"\\\"response\\\": {\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"\\\"more\\\": true,\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"\\\"next_cursor\\\":\\\"2\\\",\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"\\\"order_list\\\": [{\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"\\\"order_sn\\\": \\\"201218V2Y6E59M\\\",\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"\\\"order_status\\\": “READY_TO_SHIP”\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"},\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"{\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"\\\"order_sn\\\": \\\"201218V2W2SG1E\\\",\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"\\\"order_status\\\": “PENDING_INVOICE”\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"},\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"]\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"},\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"\\\"request_id\\\": \\\"XXXXXXXXXXXXXXXXXX\\\"\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"}\"}]},{\"name\":\"paragraph\"},{\"name\":\"heading2\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"Status das orders na OpenAPI\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"As orders podem ter 8 diferentes status na OpenAPI:\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"1 - UNPAID: \"}]},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Para orders que acabaram de ser criadas e ainda não foi possível validar o pagamento.\"}]},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Normalmente orders de Boleto ou Pix apresentam esse status, pois as orders de Cartão de Crédito são validadas em minutos (às vezes até segundos).\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"2 - INVOICE_PENDING:\"}]},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Esse status atualmente aparece apenas na API \"},{\"attributes\":{\"bold\":true,\"linkHref\":\"https://open.shopee.com/documents/v2/v2.order.get_order_list?module=94&type=1\"},\"data\":\"v2.get_order_list\"},{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\" e faz referência a orders que ainda não foi informado seus dados de invoice (usado apenas para orders não Correios).\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"3 - READY_TO_SHIP:\"}]},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Para orders Correios que já tiveram sua confirmação de pagamento, ou para orders não correios onde os dados de invoice já foram enviados com sucesso.\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Orders nesse status estão prontas para Organização de envio (\"},{\"attributes\":{\"bold\":true,\"linkHref\":\"https://open.shopee.com/documents/v2/v2.logistics.ship_order?module=95&type=1\"},\"data\":\"v2.ship_order\"},{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"). Lembrando que é recomendado iniciar a organização de envio (ship_order) após 1 hora da confirmação de pagamento, pois dentro desse período o Buyer pode cancelar a pedido sem aprovação do Seller.\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"4 - PROCESSED: \"}]},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Orders que já tiveram organização de envio (v2.ship_order) e ainda não foi gerado o tracking Number.\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"5 - SHIPEED:\"}]},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Após o pacote ser entregue ao parceiro logístico.\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"6 - TO_CONFIRM_RECEIVE:\"}]},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Aguardando confirmação do buyer de recebimento.\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"7 - COMPLETED:\"}]},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Quando a order chega a seu destino final, seja ele a casa do buyer, ou nos casos de devolução, retorna ao Seller.\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"8 - TO_RETURN:\"}]},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Status quando buyer abre a solicitação de devolução do pedido.\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"9 - CANCELLED:\"}]},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Quando a order é Cancelada, que pode ocorrer quando o buyer cancela o pedido, quando o Seller não organiza o pedido ou quando o pedido é perdido durante a entrega.\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Segue comparação de status entre OpenAPI e Seller Center (que também pode ser encontrada na nossa \"},{\"attributes\":{\"bold\":true,\"linkHref\":\"https://open.shopee.com/developer-guide/31\"},\"data\":\"Documentação\"},{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"):\"}]},{\"name\":\"paragraph\"},{\"name\":\"table\",\"children\":[{\"name\":\"tableRow\",\"children\":[{\"attributes\":{\"colspan\":1,\"rowspan\":1},\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"OpenAPI\"}]}]},{\"attributes\":{\"colspan\":1,\"rowspan\":1},\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"SellerCenter\"}]}]}]},{\"name\":\"tableRow\",\"children\":[{\"attributes\":{\"colspan\":1,\"rowspan\":1},\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"UNPAID\"}]}]},{\"attributes\":{\"colspan\":1,\"rowspan\":1},\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Não Pago\"}]}]}]},{\"name\":\"tableRow\",\"children\":[{\"attributes\":{\"colspan\":1,\"rowspan\":1},\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"READY_TO_SHIP\"}]}]},{\"attributes\":{\"colspan\":1,\"rowspan\":1},\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"A enviar (A enviar)\"}]}]}]},{\"name\":\"tableRow\",\"children\":[{\"attributes\":{\"colspan\":1,\"rowspan\":1},\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"IN_CANCEL\"}]}]},{\"attributes\":{\"colspan\":1,\"rowspan\":1},\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Cancelado (A responder)\"}]}]}]},{\"name\":\"tableRow\",\"children\":[{\"attributes\":{\"colspan\":1,\"rowspan\":1},\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"CANCELLED\"}]}]},{\"attributes\":{\"colspan\":1,\"rowspan\":1},\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Cancelado (Cancelado)\"}]}]}]},{\"name\":\"tableRow\",\"children\":[{\"attributes\":{\"colspan\":1,\"rowspan\":1},\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"SHIPPED\"}]}]},{\"attributes\":{\"colspan\":1,\"rowspan\":1},\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"A enviar (Processado)\"}]}]}]},{\"name\":\"tableRow\",\"children\":[{\"attributes\":{\"colspan\":1,\"rowspan\":1},\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"TO_RETURN\"}]}]},{\"attributes\":{\"colspan\":1,\"rowspan\":1},\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Enviado\"}]}]}]},{\"name\":\"tableRow\",\"children\":[{\"attributes\":{\"colspan\":1,\"rowspan\":1},\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"TO_CONFIRM_RECEIVE\"}]}]},{\"attributes\":{\"colspan\":1,\"rowspan\":1},\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Devolução Reembolso\"}]}]}]},{\"name\":\"tableRow\",\"children\":[{\"attributes\":{\"colspan\":1,\"rowspan\":1},\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"COMPLETED\"}]}]},{\"attributes\":{\"colspan\":1,\"rowspan\":1},\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Shipping (Shipped)\"}]}]}]}]},{\"name\":\"paragraph\"},{\"name\":\"heading2\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"Cancelamento de pedidos\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Para cancelamento de pedidos do lado do Seller, utilize a API \"},{\"attributes\":{\"bold\":true,\"linkHref\":\"https://open.shopee.com/documents/v2/v2.order.cancel_order?module=94&type=1\"},\"data\":\"v2.cancel_order\"},{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\", algumas regras:\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"1 - Não é possível cancelar uma order após a organização de envio e geração do tracking_number;\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"2 - Existem 4 motivos disponíveis para cancelamento:\"}]},{\"attributes\":{\"listIndent\":0,\"listType\":\"numbered\"},\"name\":\"listItem\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"OUT_OF_STOCK: Para quando o estoque tiver acabado (sempre que esse for o motivo é necessário o envio do array “”item_list”:[“item_id”, “model_id”]” );\"}]},{\"attributes\":{\"listIndent\":0,\"listType\":\"numbered\"},\"name\":\"listItem\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"CUSTOMER_REQUEST: Quando o Buyer solicita e não consegue mais cancelar sem sua autorização;\"}]},{\"attributes\":{\"listIndent\":0,\"listType\":\"numbered\"},\"name\":\"listItem\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"UNDELIVERABLE_AREA: Quando o endereço solicitado não está dentro da sua área de entrega;\"}]},{\"attributes\":{\"listIndent\":0,\"listType\":\"numbered\"},\"name\":\"listItem\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"COD_NOT_SUPPORTED: Cash in Delivery, não disponível para o Brasil.\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Segue exemplo de request body para cancelamento de order:\"}]},{\"name\":\"paragraph\"},{\"attributes\":{\"language\":\"java\"},\"name\":\"codeBlock\",\"children\":[{\"data\":\"{\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"\\\"order_sn\\\": \\\"201020SQQ5K2EP\\\",\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"\\\"cancel_reason\\\": \\\"OUT_OF_STOCK\\\",\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"\\\"item_list\\\": [{\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"\\\"item_id\\\": 1680783,\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"\\\"model_id\\\": 327890123\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"}\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"]\"},{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"}\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Caso receba a mensagem de erro: \"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"\\\"Can not cancel this order.\\\": é porque o pedido não pode ser cancelado por já ter sido gerado seu \\\"tracking_number\\\", ou porque a order já foi cancelada. Qualquer situação diferente dessas duas, por gentileza nos acionar via \"},{\"attributes\":{\"bold\":true,\"linkHref\":\"https://open.shopee.com/myconsole/ticket-system/raise-ticket/\"},\"data\":\"Plataforma de Tickets\"},{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\").\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Já para solicitação de cancelamento de pedido do lado do buyer, utilize a API \"},{\"attributes\":{\"bold\":true,\"linkHref\":\"https://open.shopee.com/documents/v2/v2.order.handle_buyer_cancellation?module=94&type=1\"},\"data\":\"v2.handle_buyer_cancellation\"},{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\" para aceitar ou rejeitar a solicitação de cancelamento.\"}]},{\"name\":\"paragraph\"},{\"name\":\"heading2\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"Dúvidas frequentes (FAQ)\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"1 - Seguem algumas APIs que \"},{\"attributes\":{\"bold\":true},\"data\":\"não são usadas\"},{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\" para integrações no Brasil:\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"italic\":true},\"data\":\"\\\"v2.order.split_order\\\";\"}]},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"italic\":true},\"data\":\"\\\"v2.order.unsplit_order\\\";\"}]},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"italic\":true},\"data\":\"\\\"v2.order.get_buyer_invoice_info\\\";\"}]},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"italic\":true},\"data\":\"\\\"v2.order.get_pending_buyer_invoice_order_list\\\";\"}]},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"italic\":true},\"data\":\"\\\"v2.order.upload_invoice_doc\\\";\"}]},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"italic\":true},\"data\":\"\\\"v2.order.download_invoice_doc\\\";\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"2 - Por que foi possível criar uma order se o estoque foi zerado semana passada?\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontBackgroundColor\":\"transparent\",\"fontColor\":\"rgb(0,0,0)\"},\"data\":\"Existem dois cenários possíveis, um deles é que o Seller tem um estoque separado e reservado para campanhas, a outra possibilidade é que uma order antiga foi cancelada e restaurou o estoque (toda order cancelada restaura o estoque automaticamente).\"}]}]",
  "content": "<h2><strong>Fluxo de order</strong></h2><p>&nbsp;</p><figure class=\"image\"><img src=\"https://cf.shopee.sg/file/f2bfc2e016b095f9bc0325e2b3979c10\"></figure><h2>&nbsp;</h2><h2><strong>Identificando uma nova order</strong></h2><p>&nbsp;</p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">Atualmente existem duas formas de identificarmos uma nova order via API:</span></p><p>&nbsp;</p><p><strong>1 - Push Mechanism (Webhooks):</strong></p><p>&nbsp;</p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">Com o Push Mechanism ativado sempre que uma nova order for criada ou mudar de status, um novo Push será enviado para o link informado (callback URL), a qual você precisa configurar para responder de acordo com esses requisitos de resposta HTTP:</span></p><ol><li><span style=\"background-color:rgb(255,255,255);color:rgb(0,0,0);\">Incluir código de status 2xx;</span></li><li><span style=\"background-color:rgb(255,255,255);color:rgb(0,0,0);\">Incluir um corpo vazio (método POST);</span></li></ol><p>&nbsp;</p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">Atualmente é possível ativar o Push Mechanism:</span></p><p>&nbsp;</p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">a) API \"</span><span style=\"background-color:rgb(255,255,255);color:rgb(0,0,0);\">v2.push.set_push_config\": informando quais Push devem ser ativados, o Push para criação e mudança de status das orders é o \"order_status\":</span></p><p>&nbsp;</p><ol><li><span style=\"background-color:rgb(255,255,255);color:rgb(0,0,0);\">Segue exemplo de request:</span></li></ol><p>&nbsp;</p><pre><code class=\"java hljs\">{\n\n\"push_config\": {\n\n\"order_status\": 1,\n\n},\n\n\"callback_url\": \"www.site.com.br\"\n\n}</code></pre><p>&nbsp;</p><p><span style=\"background-color:rgb(255,255,255);color:rgb(0,0,0);\">b) Open Platform: faça login na Open Platform &gt; Console &gt; App Management &gt; Push Mechanism &gt; Set Push e \"ligar\" nesse botões abaixo os Webhooks que deseja:</span></p><figure class=\"image\"><img src=\"https://open.shopee.com/opservice/api/v1/image/download/?image_id=1xwkte6qdiCTaaSGeVzOHtm7u9catV5AyyGLACwSS%2F4pRM2ZYtt50Zl2ASUi8Ot8vE12gkqbY0RCESEnsVbINQ%3D%3D&amp;image_type=jpg\"></figure><p><strong>2 - Pela API </strong><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://open.shopee.com/documents/v2/v2.order.get_order_list?module=94&amp;type=1\"><strong>v2.get_order_list:</strong></a></p><p>&nbsp;</p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">Chamando a API get_order_list, seu response trará todas as order_sn do ShopId e período específico;</span></p><p>&nbsp;</p><ol><li><span style=\"background-color:transparent;color:rgb(0,0,0);\">Inserindo&nbsp;o parâmetro opcional \"response_optional_fields=order_status\", o response também apresentará os status das orders, como no exemplo abaixo:</span></li></ol><p>&nbsp;</p><p><strong>Request:</strong></p><pre><code class=\"java hljs\">curl --location --request GET\n\n'https://partner.shopeemobile.com/api/v2/order/get_order_list?timestamp=timestamp&amp;shop_id=shop_id&amp;partner_id=partner_id&amp;access_token=access_token&amp;page_size=2&amp;response_optional_fields=order_status&amp;time_range_field=create_time&amp;time_from=1607235072&amp;time_to=1608271872&amp;sign=sign&amp;cursor=\"\"'</code></pre><p>&nbsp;</p><p><strong>Response:</strong></p><pre><code class=\"java hljs\">{\n\n\"error\": \"\",\n\n\"message\": \"\",\n\n\"response\": {\n\n\"more\": true,\n\n\"next_cursor\":\"2\",\n\n\"order_list\": [{\n\n\"order_sn\": \"201218V2Y6E59M\",\n\n\"order_status\": “READY_TO_SHIP”\n\n},\n\n{\n\n\"order_sn\": \"201218V2W2SG1E\",\n\n\"order_status\": “PENDING_INVOICE”\n\n},\n\n]\n\n},\n\n\"request_id\": \"XXXXXXXXXXXXXXXXXX\"\n\n}</code></pre><p>&nbsp;</p><h2><strong>Status das orders na OpenAPI</strong></h2><p>&nbsp;</p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">As orders podem ter 8 diferentes status na OpenAPI:</span></p><p>&nbsp;</p><p><strong>1 - UNPAID:&nbsp;</strong></p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">Para orders que acabaram de ser criadas e ainda não foi possível validar o pagamento.</span></p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">Normalmente orders de Boleto ou Pix apresentam esse status, pois as orders de Cartão de Crédito são validadas em minutos (às vezes até segundos).</span></p><p>&nbsp;</p><p><strong>2 - INVOICE_PENDING:</strong></p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">Esse status atualmente aparece apenas na API </span><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://open.shopee.com/documents/v2/v2.order.get_order_list?module=94&amp;type=1\"><strong>v2.get_order_list</strong></a><span style=\"background-color:transparent;color:rgb(0,0,0);\"> e faz referência a orders que ainda não foi informado seus dados de invoice (usado apenas para orders não Correios).</span></p><p>&nbsp;</p><p><strong>3 - READY_TO_SHIP:</strong></p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">Para orders Correios que já tiveram sua confirmação de pagamento, ou para orders não correios onde os dados de invoice já foram enviados com sucesso.</span></p><p>&nbsp;</p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">Orders nesse status estão prontas para Organização de envio (</span><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://open.shopee.com/documents/v2/v2.logistics.ship_order?module=95&amp;type=1\"><strong>v2.ship_order</strong></a><span style=\"background-color:transparent;color:rgb(0,0,0);\">). Lembrando que é recomendado iniciar a organização de envio (ship_order) após 1 hora da confirmação de pagamento, pois dentro desse período o Buyer pode cancelar a pedido sem aprovação do Seller.</span></p><p>&nbsp;</p><p><strong>4 - PROCESSED:&nbsp;</strong></p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">Orders que já tiveram organização de envio (v2.ship_order) e ainda não foi gerado o tracking Number.</span></p><p>&nbsp;</p><p><strong>5 - SHIPEED:</strong></p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">Após o pacote ser entregue ao parceiro logístico.</span></p><p>&nbsp;</p><p><strong>6 - TO_CONFIRM_RECEIVE:</strong></p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">Aguardando confirmação do buyer de recebimento.</span></p><p>&nbsp;</p><p><strong>7 - COMPLETED:</strong></p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">Quando a order chega a seu destino final, seja ele a casa do buyer, ou nos casos de devolução, retorna ao Seller.</span></p><p>&nbsp;</p><p><strong>8 - TO_RETURN:</strong></p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">Status quando buyer abre a solicitação de devolução do pedido.</span></p><p>&nbsp;</p><p><strong>9 - CANCELLED:</strong></p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">Quando a order é Cancelada, que pode ocorrer quando o buyer cancela o pedido, quando o Seller não organiza o pedido ou quando o pedido é perdido durante a entrega.</span></p><p>&nbsp;</p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">Segue comparação de status entre OpenAPI e Seller Center (que também pode ser encontrada na nossa </span><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://open.shopee.com/developer-guide/31\"><strong>Documentação</strong></a><span style=\"background-color:transparent;color:rgb(0,0,0);\">):</span></p><p>&nbsp;</p><figure class=\"table\"><table><tbody><tr><td colspan=\"1\" rowspan=\"1\"><strong>OpenAPI</strong></td><td colspan=\"1\" rowspan=\"1\"><strong>SellerCenter</strong></td></tr><tr><td colspan=\"1\" rowspan=\"1\"><span style=\"color:rgb(0,0,0);\">UNPAID</span></td><td colspan=\"1\" rowspan=\"1\"><span style=\"background-color:transparent;color:rgb(0,0,0);\">Não Pago</span></td></tr><tr><td colspan=\"1\" rowspan=\"1\"><span style=\"color:rgb(0,0,0);\">READY_TO_SHIP</span></td><td colspan=\"1\" rowspan=\"1\"><span style=\"background-color:transparent;color:rgb(0,0,0);\">A enviar (A enviar)</span></td></tr><tr><td colspan=\"1\" rowspan=\"1\"><span style=\"color:rgb(0,0,0);\">IN_CANCEL</span></td><td colspan=\"1\" rowspan=\"1\"><span style=\"background-color:transparent;color:rgb(0,0,0);\">Cancelado (A responder)</span></td></tr><tr><td colspan=\"1\" rowspan=\"1\"><span style=\"color:rgb(0,0,0);\">CANCELLED</span></td><td colspan=\"1\" rowspan=\"1\"><span style=\"background-color:transparent;color:rgb(0,0,0);\">Cancelado (Cancelado)</span></td></tr><tr><td colspan=\"1\" rowspan=\"1\"><span style=\"color:rgb(0,0,0);\">SHIPPED</span></td><td colspan=\"1\" rowspan=\"1\"><span style=\"background-color:transparent;color:rgb(0,0,0);\">A enviar (Processado)</span></td></tr><tr><td colspan=\"1\" rowspan=\"1\"><span style=\"color:rgb(0,0,0);\">TO_RETURN</span></td><td colspan=\"1\" rowspan=\"1\"><span style=\"background-color:transparent;color:rgb(0,0,0);\">Enviado</span></td></tr><tr><td colspan=\"1\" rowspan=\"1\"><span style=\"color:rgb(0,0,0);\">TO_CONFIRM_RECEIVE</span></td><td colspan=\"1\" rowspan=\"1\"><span style=\"background-color:transparent;color:rgb(0,0,0);\">Devolução Reembolso</span></td></tr><tr><td colspan=\"1\" rowspan=\"1\"><span style=\"color:rgb(0,0,0);\">COMPLETED</span></td><td colspan=\"1\" rowspan=\"1\"><span style=\"background-color:transparent;color:rgb(0,0,0);\">Shipping (Shipped)</span></td></tr></tbody></table></figure><p>&nbsp;</p><h2><strong>Cancelamento de pedidos</strong></h2><p>&nbsp;</p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">Para cancelamento de pedidos do lado do Seller, utilize a API </span><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://open.shopee.com/documents/v2/v2.order.cancel_order?module=94&amp;type=1\"><strong>v2.cancel_order</strong></a><span style=\"background-color:transparent;color:rgb(0,0,0);\">, algumas regras:</span></p><p>&nbsp;</p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">1 - Não é possível cancelar uma order após a organização de envio e geração do tracking_number;</span></p><p>&nbsp;</p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">2 - Existem 4 motivos disponíveis para cancelamento:</span></p><ol><li><span style=\"background-color:transparent;color:rgb(0,0,0);\">OUT_OF_STOCK: Para quando o estoque tiver acabado (sempre que esse for o motivo é necessário o envio do array “”item_list”:[“item_id”, “model_id”]” );</span></li><li><span style=\"background-color:transparent;color:rgb(0,0,0);\">CUSTOMER_REQUEST: Quando o Buyer solicita e não consegue mais cancelar sem sua autorização;</span></li><li><span style=\"background-color:transparent;color:rgb(0,0,0);\">UNDELIVERABLE_AREA: Quando o endereço solicitado não está dentro da sua área de entrega;</span></li><li><span style=\"background-color:transparent;color:rgb(0,0,0);\">COD_NOT_SUPPORTED: Cash in Delivery, não disponível para o Brasil.</span></li></ol><p>&nbsp;</p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">Segue exemplo de request body para cancelamento de order:</span></p><p>&nbsp;</p><pre><code class=\"java hljs\">{\n\n\"order_sn\": \"201020SQQ5K2EP\",\n\n\"cancel_reason\": \"OUT_OF_STOCK\",\n\n\"item_list\": [{\n\n\"item_id\": 1680783,\n\n\"model_id\": 327890123\n\n}\n\n]\n\n}</code></pre><p>&nbsp;</p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">Caso receba a mensagem de erro:&nbsp;</span></p><p>&nbsp;</p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">\"Can not cancel this order.\": é porque o pedido não pode ser cancelado por já ter sido gerado seu \"tracking_number\", ou porque a order já foi cancelada. Qualquer situação diferente dessas duas, por gentileza nos acionar via </span><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://open.shopee.com/myconsole/ticket-system/raise-ticket/\"><strong>Plataforma de Tickets</strong></a><span style=\"background-color:transparent;color:rgb(0,0,0);\">).</span></p><p>&nbsp;</p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">Já para solicitação de cancelamento de pedido do lado do buyer, utilize a API </span><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://open.shopee.com/documents/v2/v2.order.handle_buyer_cancellation?module=94&amp;type=1\"><strong>v2.handle_buyer_cancellation</strong></a><span style=\"background-color:transparent;color:rgb(0,0,0);\"> para aceitar ou rejeitar a solicitação de cancelamento.</span></p><p>&nbsp;</p><h2><strong>Dúvidas frequentes (FAQ)</strong></h2><p>&nbsp;</p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">1 - Seguem algumas APIs que </span><strong>não são usadas</strong><span style=\"background-color:transparent;color:rgb(0,0,0);\"> para integrações no Brasil:</span></p><p>&nbsp;</p><p><i>\"v2.order.split_order\";</i></p><p><i>\"v2.order.unsplit_order\";</i></p><p><i>\"v2.order.get_buyer_invoice_info\";</i></p><p><i>\"v2.order.get_pending_buyer_invoice_order_list\";</i></p><p><i>\"v2.order.upload_invoice_doc\";</i></p><p><i>\"v2.order.download_invoice_doc\";</i></p><p>&nbsp;</p><p><strong>2 - Por que foi possível criar uma order se o estoque foi zerado semana passada?</strong></p><p>&nbsp;</p><p><span style=\"background-color:transparent;color:rgb(0,0,0);\">Existem dois cenários possíveis, um deles é que o Seller tem um estoque separado e reservado para campanhas, a outra possibilidade é que uma order antiga foi cancelada e restaurou o estoque (toda order cancelada restaura o estoque automaticamente).</span></p>",
  "status": 1,
  "language_code": "en",
  "language_list": [
    "en"
  ]
}