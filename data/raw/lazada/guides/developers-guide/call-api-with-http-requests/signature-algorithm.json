{
  "metadata": {},
  "data": {
    "enContent": "<p>Lazada Open Platform verifies the identity of each API request, and the server will also verify whether the call parameters are valid. Therefore, each HTTP request must contain the signature information. The requests with invalid signature will be rejected.</p><p>Lazada Open Platform verifies the identity of the requests by the App Key and Secret that are assigned to your application. The App Secret is used to generate the signature string in the HTTP request URL and server-side signature string. It must be kept strictly confidential.</p><p>If you compose HTTP request manually (instead of using the official SDK), you need to understand the following signature algorithm.</p><p>The process of generating the signature is as follows:</p><ol><li data-list=\"ordered\"><span class=\"ql-ui\" contenteditable=\"false\"></span>Sort all request parameters (including system and application parameters, but except the “sign” and parameters with byte array type) according to the parameter name in ASCII table. For example:</li></ol><div class=\"ql-code-block-container\" spellcheck=\"false\"><select class=\"ql-ui\" contenteditable=\"false\"><option value=\"plain\">Plain</option><option value=\"bash\">Bash</option><option value=\"cpp\">C++</option><option value=\"cs\">C#</option><option value=\"css\">CSS</option><option value=\"diff\">Diff</option><option value=\"xml\">HTML/XML</option><option value=\"java\">Java</option><option value=\"javascript\">Javascript</option><option value=\"markdown\">Markdown</option><option value=\"php\">PHP</option><option value=\"python\">Python</option><option value=\"ruby\">Ruby</option><option value=\"sql\">SQL</option></select><div class=\"ql-code-block\" data-language=\"java\">Before sort: foo=<span class=\"ql-token hljs-number\">1</span>, bar=<span class=\"ql-token hljs-number\">2</span>, foo_bar=<span class=\"ql-token hljs-number\">3</span>, foobar=<span class=\"ql-token hljs-number\">4</span></div><div class=\"ql-code-block\" data-language=\"java\">After sort: bar=<span class=\"ql-token hljs-number\">2</span>, foo=<span class=\"ql-token hljs-number\">1</span>, foo_bar=<span class=\"ql-token hljs-number\">3</span>, foobar=<span class=\"ql-token hljs-number\">4</span></div></div><ol><li data-list=\"ordered\"><span class=\"ql-ui\" contenteditable=\"false\"></span>Concatenate the sorted parameters and their values into a string. For example:</li></ol><div class=\"ql-code-block-container\" spellcheck=\"false\"><select class=\"ql-ui\" contenteditable=\"false\"><option value=\"plain\">Plain</option><option value=\"bash\">Bash</option><option value=\"cpp\">C++</option><option value=\"cs\">C#</option><option value=\"css\">CSS</option><option value=\"diff\">Diff</option><option value=\"xml\">HTML/XML</option><option value=\"java\">Java</option><option value=\"javascript\">Javascript</option><option value=\"markdown\">Markdown</option><option value=\"php\">PHP</option><option value=\"python\">Python</option><option value=\"ruby\">Ruby</option><option value=\"sql\">SQL</option></select><div class=\"ql-code-block\" data-language=\"java\">bar2foo1foo_bar3foobar4</div></div><ol><li data-list=\"ordered\"><span class=\"ql-ui\" contenteditable=\"false\"></span>Add the API name in front of the concatenated string. For example, adding the API name “/test/api”:</li></ol><div class=\"ql-code-block-container\" spellcheck=\"false\"><select class=\"ql-ui\" contenteditable=\"false\"><option value=\"plain\">Plain</option><option value=\"bash\">Bash</option><option value=\"cpp\">C++</option><option value=\"cs\">C#</option><option value=\"css\">CSS</option><option value=\"diff\">Diff</option><option value=\"xml\">HTML/XML</option><option value=\"java\">Java</option><option value=\"javascript\">Javascript</option><option value=\"markdown\">Markdown</option><option value=\"php\">PHP</option><option value=\"python\">Python</option><option value=\"ruby\">Ruby</option><option value=\"sql\">SQL</option></select><div class=\"ql-code-block\" data-language=\"java\">/test/apibar2foo1foo_bar3foobar4</div></div><ol><li data-list=\"ordered\"><span class=\"ql-ui\" contenteditable=\"false\"></span>Encode the concatenated string in UTF-8 format and make a digest by the signature algorithm (using HMAC_SHA256). For example:</li></ol><div class=\"ql-code-block-container\" spellcheck=\"false\"><select class=\"ql-ui\" contenteditable=\"false\"><option value=\"plain\">Plain</option><option value=\"bash\">Bash</option><option value=\"cpp\">C++</option><option value=\"cs\">C#</option><option value=\"css\">CSS</option><option value=\"diff\">Diff</option><option value=\"xml\">HTML/XML</option><option value=\"java\">Java</option><option value=\"javascript\">Javascript</option><option value=\"markdown\">Markdown</option><option value=\"php\">PHP</option><option value=\"python\">Python</option><option value=\"ruby\">Ruby</option><option value=\"sql\">SQL</option></select><div class=\"ql-code-block\" data-language=\"java\">hmac_sha256(/test/apibar2foo1foo_bar3foobar4)</div></div><ol><li data-list=\"ordered\"><span class=\"ql-ui\" contenteditable=\"false\"></span>Convert the digest to hexadecimal format. For example:</li></ol><div class=\"ql-code-block-container\" spellcheck=\"false\"><select class=\"ql-ui\" contenteditable=\"false\"><option value=\"plain\">Plain</option><option value=\"bash\">Bash</option><option value=\"cpp\">C++</option><option value=\"cs\">C#</option><option value=\"css\">CSS</option><option value=\"diff\">Diff</option><option value=\"xml\">HTML/XML</option><option value=\"java\">Java</option><option value=\"javascript\">Javascript</option><option value=\"markdown\">Markdown</option><option value=\"php\">PHP</option><option value=\"python\">Python</option><option value=\"ruby\">Ruby</option><option value=\"sql\">SQL</option></select><div class=\"ql-code-block\" data-language=\"java\">hex(<span class=\"ql-token hljs-string\">\"helloworld\"</span>.getBytes(<span class=\"ql-token hljs-string\">\"utf-8\"</span>)) = <span class=\"ql-token hljs-string\">\"68656C6C6F776F726C64\"</span></div></div><p><br></p><p><strong>Sample code for JAVA</strong></p><div class=\"ql-code-block-container\" spellcheck=\"false\"><select class=\"ql-ui\" contenteditable=\"false\"><option value=\"plain\">Plain</option><option value=\"bash\">Bash</option><option value=\"cpp\">C++</option><option value=\"cs\">C#</option><option value=\"css\">CSS</option><option value=\"diff\">Diff</option><option value=\"xml\">HTML/XML</option><option value=\"java\">Java</option><option value=\"javascript\">Javascript</option><option value=\"markdown\">Markdown</option><option value=\"php\">PHP</option><option value=\"python\">Python</option><option value=\"ruby\">Ruby</option><option value=\"sql\">SQL</option></select><div class=\"ql-code-block\" data-language=\"java\"><span class=\"ql-token hljs-comment\">/**</span></div><div class=\"ql-code-block\" data-language=\"java\"><span class=\"ql-token hljs-comment\">\t * Sign the API request with body.</span></div><div class=\"ql-code-block\" data-language=\"java\"><span class=\"ql-token hljs-comment\">\t */</span></div><div class=\"ql-code-block\" data-language=\"java\">\t<span class=\"ql-token hljs-keyword\">public</span> <span class=\"ql-token hljs-keyword\">static</span> String <span class=\"ql-token hljs-title\">signApiRequest(Map&lt;String, String&gt; params, String body, String appSecret, String signMethod, String apiName)</span> <span class=\"ql-token hljs-keyword\">throws</span> IOException {</div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-comment\">// first: sort all text parameters</span></div><div class=\"ql-code-block\" data-language=\"java\">\t\tString[] keys = params.keySet().toArray(<span class=\"ql-token hljs-keyword\">new</span> <span class=\"ql-token hljs-title\">String</span>[<span class=\"ql-token hljs-number\">0</span>]);</div><div class=\"ql-code-block\" data-language=\"java\">\t\tArrays.sort(keys);</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-comment\">// second: connect all text parameters with key and value</span></div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-type\">StringBuilder</span> <span class=\"ql-token hljs-variable\">query</span> <span class=\"ql-token hljs-operator\">=</span> <span class=\"ql-token hljs-keyword\">new</span> <span class=\"ql-token hljs-title\">StringBuilder</span>();</div><div class=\"ql-code-block\" data-language=\"java\">       query.append(apiName);</div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-keyword\">for</span> (String key : keys) {</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\t<span class=\"ql-token hljs-type\">String</span> <span class=\"ql-token hljs-variable\">value</span> <span class=\"ql-token hljs-operator\">=</span> params.get(key);</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\t<span class=\"ql-token hljs-keyword\">if</span> (areNotEmpty(key, value)) {</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\t\tquery.append(key).append(value);</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\t}</div><div class=\"ql-code-block\" data-language=\"java\">\t\t}</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-comment\">// third：put the body to the end</span></div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-keyword\">if</span> (body != <span class=\"ql-token hljs-literal\">null</span>) {</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\tquery.append(body);</div><div class=\"ql-code-block\" data-language=\"java\">\t\t}</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-comment\">// next : sign the whole request</span></div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-type\">byte</span>[] bytes = <span class=\"ql-token hljs-literal\">null</span>;</div><div class=\"ql-code-block\" data-language=\"java\">\t\t</div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-keyword\">if</span>(signMethod.equals(Constants.SIGN_METHOD_HMAC)) {</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\tbytes = encryptWithHmac(query.toString(), appSecret);</div><div class=\"ql-code-block\" data-language=\"java\">\t\t} <span class=\"ql-token hljs-keyword\">else</span> <span class=\"ql-token hljs-keyword\">if</span>(signMethod.equals(Constants.SIGN_METHOD_SHA256)) {</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\tbytes = encryptHMACSHA256(query.toString(), appSecret);</div><div class=\"ql-code-block\" data-language=\"java\">\t\t}</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-comment\">// finally : transfer sign result from binary to upper hex string</span></div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-keyword\">return</span> byte2hex(bytes);</div><div class=\"ql-code-block\" data-language=\"java\">\t}</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">\t</div><div class=\"ql-code-block\" data-language=\"java\">    <span class=\"ql-token hljs-keyword\">private</span> <span class=\"ql-token hljs-keyword\">static</span> <span class=\"ql-token hljs-type\">byte</span>[] encryptHMACSHA256(String data, String secret) <span class=\"ql-token hljs-keyword\">throws</span> IOException  {</div><div class=\"ql-code-block\" data-language=\"java\">    \t<span class=\"ql-token hljs-type\">byte</span>[] bytes = <span class=\"ql-token hljs-literal\">null</span>;</div><div class=\"ql-code-block\" data-language=\"java\">    \t<span class=\"ql-token hljs-keyword\">try</span> {</div><div class=\"ql-code-block\" data-language=\"java\">\t        <span class=\"ql-token hljs-type\">SecretKey</span> <span class=\"ql-token hljs-variable\">secretKey</span> <span class=\"ql-token hljs-operator\">=</span> <span class=\"ql-token hljs-keyword\">new</span> <span class=\"ql-token hljs-title\">SecretKeySpec</span>(secret.getBytes(Constants.CHARSET_UTF8), Constants.SIGN_METHOD_HMAC_SHA256);</div><div class=\"ql-code-block\" data-language=\"java\">\t        <span class=\"ql-token hljs-type\">Mac</span> <span class=\"ql-token hljs-variable\">mac</span> <span class=\"ql-token hljs-operator\">=</span> Mac.getInstance(secretKey.getAlgorithm());</div><div class=\"ql-code-block\" data-language=\"java\">\t        mac.init(secretKey);</div><div class=\"ql-code-block\" data-language=\"java\">\t        bytes = mac.doFinal(data.getBytes(Constants.CHARSET_UTF8));</div><div class=\"ql-code-block\" data-language=\"java\">    \t} <span class=\"ql-token hljs-keyword\">catch</span> (GeneralSecurityException gse) {</div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-keyword\">throw</span> <span class=\"ql-token hljs-keyword\">new</span> <span class=\"ql-token hljs-title\">IOException</span>(gse.toString());</div><div class=\"ql-code-block\" data-language=\"java\">        }</div><div class=\"ql-code-block\" data-language=\"java\">        <span class=\"ql-token hljs-keyword\">return</span> bytes;</div><div class=\"ql-code-block\" data-language=\"java\">    }</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">\t<span class=\"ql-token hljs-comment\">/**</span></div><div class=\"ql-code-block\" data-language=\"java\"><span class=\"ql-token hljs-comment\">\t * Transfer binary array to HEX string.</span></div><div class=\"ql-code-block\" data-language=\"java\"><span class=\"ql-token hljs-comment\">\t */</span></div><div class=\"ql-code-block\" data-language=\"java\">\t<span class=\"ql-token hljs-keyword\">public</span> <span class=\"ql-token hljs-keyword\">static</span> String <span class=\"ql-token hljs-title\">byte2hex(byte[] bytes)</span> {</div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-type\">StringBuilder</span> <span class=\"ql-token hljs-variable\">sign</span> <span class=\"ql-token hljs-operator\">=</span> <span class=\"ql-token hljs-keyword\">new</span> <span class=\"ql-token hljs-title\">StringBuilder</span>();</div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-keyword\">for</span> (<span class=\"ql-token hljs-type\">int</span> <span class=\"ql-token hljs-variable\">i</span> <span class=\"ql-token hljs-operator\">=</span> <span class=\"ql-token hljs-number\">0</span>; i &lt; bytes.length; i++) {</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\t<span class=\"ql-token hljs-type\">String</span> <span class=\"ql-token hljs-variable\">hex</span> <span class=\"ql-token hljs-operator\">=</span> Integer.toHexString(bytes[i] &amp; <span class=\"ql-token hljs-number\">0xFF</span>);</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\t<span class=\"ql-token hljs-keyword\">if</span> (hex.length() == <span class=\"ql-token hljs-number\">1</span>) {</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\t\tsign.append(<span class=\"ql-token hljs-string\">\"0\"</span>);</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\t}</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\tsign.append(hex.toUpperCase());</div><div class=\"ql-code-block\" data-language=\"java\">\t\t}</div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-keyword\">return</span> sign.toString();</div><div class=\"ql-code-block\" data-language=\"java\">\t}</div></div><p><br></p><p><strong>Sample code for C#</strong></p><div class=\"ql-code-block-container\" spellcheck=\"false\"><select class=\"ql-ui\" contenteditable=\"false\"><option value=\"plain\">Plain</option><option value=\"bash\">Bash</option><option value=\"cpp\">C++</option><option value=\"cs\">C#</option><option value=\"css\">CSS</option><option value=\"diff\">Diff</option><option value=\"xml\">HTML/XML</option><option value=\"java\">Java</option><option value=\"javascript\">Javascript</option><option value=\"markdown\">Markdown</option><option value=\"php\">PHP</option><option value=\"python\">Python</option><option value=\"ruby\">Ruby</option><option value=\"sql\">SQL</option></select><div class=\"ql-code-block\" data-language=\"java\">    <span class=\"ql-token hljs-keyword\">public</span> <span class=\"ql-token hljs-keyword\">static</span> string <span class=\"ql-token hljs-title\">SignRequest(IDictionary&lt;string, string&gt; parameters, string body, string appSecret, string signMethod, string apiName)</span></div><div class=\"ql-code-block\" data-language=\"java\">        {</div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-comment\">// first : sort all key with asci order</span></div><div class=\"ql-code-block\" data-language=\"java\">            IDictionary&lt;string, string&gt; sortedParams = <span class=\"ql-token hljs-keyword\">new</span> <span class=\"ql-token hljs-title\">SortedDictionary</span>&lt;string, string&gt;(parameters, StringComparer.Ordinal);</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-comment\">// second : contact all params with key order</span></div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-type\">StringBuilder</span> <span class=\"ql-token hljs-variable\">query</span> <span class=\"ql-token hljs-operator\">=</span> <span class=\"ql-token hljs-keyword\">new</span> <span class=\"ql-token hljs-title\">StringBuilder</span>();</div><div class=\"ql-code-block\" data-language=\"java\">            query.Append(apiName);</div><div class=\"ql-code-block\" data-language=\"java\">            foreach (KeyValuePair&lt;string, string&gt; kv in sortedParams)</div><div class=\"ql-code-block\" data-language=\"java\">            {</div><div class=\"ql-code-block\" data-language=\"java\">                <span class=\"ql-token hljs-keyword\">if</span> (!string.IsNullOrEmpty(kv.Key) &amp;&amp; !string.IsNullOrEmpty(kv.Value))</div><div class=\"ql-code-block\" data-language=\"java\">                {</div><div class=\"ql-code-block\" data-language=\"java\">                    query.Append(kv.Key).Append(kv.Value);</div><div class=\"ql-code-block\" data-language=\"java\">                }</div><div class=\"ql-code-block\" data-language=\"java\">            }</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-comment\">// third : add body to last</span></div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-keyword\">if</span> (!string.IsNullOrEmpty(body))</div><div class=\"ql-code-block\" data-language=\"java\">            {</div><div class=\"ql-code-block\" data-language=\"java\">                query.Append(body);</div><div class=\"ql-code-block\" data-language=\"java\">            }</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-comment\">// next : sign the string</span></div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-type\">byte</span>[] bytes = <span class=\"ql-token hljs-literal\">null</span>;</div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-keyword\">if</span> (signMethod.Equals(Constants.SIGN_METHOD_SHA256))</div><div class=\"ql-code-block\" data-language=\"java\">            {</div><div class=\"ql-code-block\" data-language=\"java\">                <span class=\"ql-token hljs-type\">HMACSHA256</span> <span class=\"ql-token hljs-variable\">sha256</span> <span class=\"ql-token hljs-operator\">=</span> <span class=\"ql-token hljs-keyword\">new</span> <span class=\"ql-token hljs-title\">HMACSHA256</span>(Encoding.UTF8.GetBytes(appSecret));</div><div class=\"ql-code-block\" data-language=\"java\">                bytes = sha256.ComputeHash(Encoding.UTF8.GetBytes(query.ToString()));</div><div class=\"ql-code-block\" data-language=\"java\">            }</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-comment\">// finally : transfer binary byte to hex string</span></div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-type\">StringBuilder</span> <span class=\"ql-token hljs-variable\">result</span> <span class=\"ql-token hljs-operator\">=</span> <span class=\"ql-token hljs-keyword\">new</span> <span class=\"ql-token hljs-title\">StringBuilder</span>();</div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-keyword\">for</span> (<span class=\"ql-token hljs-type\">int</span> <span class=\"ql-token hljs-variable\">i</span> <span class=\"ql-token hljs-operator\">=</span> <span class=\"ql-token hljs-number\">0</span>; i &lt; bytes.Length; i++)</div><div class=\"ql-code-block\" data-language=\"java\">            {</div><div class=\"ql-code-block\" data-language=\"java\">                result.Append(bytes[i].ToString(<span class=\"ql-token hljs-string\">\"X2\"</span>));</div><div class=\"ql-code-block\" data-language=\"java\">            }</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-keyword\">return</span> result.ToString();</div><div class=\"ql-code-block\" data-language=\"java\">        }</div></div><p><br></p><p><strong>Sample code for PYTHON</strong></p><div class=\"ql-code-block-container\" spellcheck=\"false\"><select class=\"ql-ui\" contenteditable=\"false\"><option value=\"plain\">Plain</option><option value=\"bash\">Bash</option><option value=\"cpp\">C++</option><option value=\"cs\">C#</option><option value=\"css\">CSS</option><option value=\"diff\">Diff</option><option value=\"xml\">HTML/XML</option><option value=\"java\">Java</option><option value=\"javascript\">Javascript</option><option value=\"markdown\">Markdown</option><option value=\"php\">PHP</option><option value=\"python\">Python</option><option value=\"ruby\">Ruby</option><option value=\"sql\">SQL</option></select><div class=\"ql-code-block\" data-language=\"java\">def <span class=\"ql-token hljs-title\">sign(secret,api, parameters)</span>:</div><div class=\"ql-code-block\" data-language=\"java\">    #===========================================================================</div><div class=\"ql-code-block\" data-language=\"java\">    # <span class=\"ql-token hljs-meta\">@param</span> secret</div><div class=\"ql-code-block\" data-language=\"java\">    # <span class=\"ql-token hljs-meta\">@param</span> parameters</div><div class=\"ql-code-block\" data-language=\"java\">    #===========================================================================</div><div class=\"ql-code-block\" data-language=\"java\">    sort_dict = sorted(parameters)</div><div class=\"ql-code-block\" data-language=\"java\">    </div><div class=\"ql-code-block\" data-language=\"java\">    parameters_str = <span class=\"ql-token hljs-string\">\"%s%s\"</span> % (api,</div><div class=\"ql-code-block\" data-language=\"java\">        str().join(<span class=\"ql-token hljs-string\">'%s%s'</span> % (key, parameters[key]) <span class=\"ql-token hljs-keyword\">for</span> key in sort_dict))</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">    h = hmac.new(secret.encode(encoding=<span class=\"ql-token hljs-string\">\"utf-8\"</span>), parameters_str.encode(encoding=<span class=\"ql-token hljs-string\">\"utf-8\"</span>), digestmod=hashlib.sha256)</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">    <span class=\"ql-token hljs-keyword\">return</span> h.hexdigest().upper()</div></div><p>For the signature sample codes in other programming languages, refer to the source code of the official SDK.</p>",
    "cnTags": [],
    "cnTitle": "Signature algorithm",
    "gmtModified": 1722498638000,
    "author": "WB965441",
    "cnContent": "<p>Lazada Open Platform verifies the identity of each API request, and the server will also verify whether the call parameters are valid. Therefore, each HTTP request must contain the signature information. The requests with invalid signature will be rejected.</p><p>Lazada Open Platform verifies the identity of the requests by the App Key and Secret that are assigned to your application. The App Secret is used to generate the signature string in the HTTP request URL and server-side signature string. It must be kept strictly confidential.</p><p>If you compose HTTP request manually (instead of using the official SDK), you need to understand the following signature algorithm.</p><p>The process of generating the signature is as follows:</p><ol><li data-list=\"ordered\"><span class=\"ql-ui\" contenteditable=\"false\"></span>Sort all request parameters (including system and application parameters, but except the “sign” and parameters with byte array type) according to the parameter name in ASCII table. For example:</li></ol><div class=\"ql-code-block-container\" spellcheck=\"false\"><select class=\"ql-ui\" contenteditable=\"false\"><option value=\"plain\">Plain</option><option value=\"bash\">Bash</option><option value=\"cpp\">C++</option><option value=\"cs\">C#</option><option value=\"css\">CSS</option><option value=\"diff\">Diff</option><option value=\"xml\">HTML/XML</option><option value=\"java\">Java</option><option value=\"javascript\">Javascript</option><option value=\"markdown\">Markdown</option><option value=\"php\">PHP</option><option value=\"python\">Python</option><option value=\"ruby\">Ruby</option><option value=\"sql\">SQL</option></select><div class=\"ql-code-block\" data-language=\"java\">Before sort: foo=<span class=\"ql-token hljs-number\">1</span>, bar=<span class=\"ql-token hljs-number\">2</span>, foo_bar=<span class=\"ql-token hljs-number\">3</span>, foobar=<span class=\"ql-token hljs-number\">4</span></div><div class=\"ql-code-block\" data-language=\"java\">After sort: bar=<span class=\"ql-token hljs-number\">2</span>, foo=<span class=\"ql-token hljs-number\">1</span>, foo_bar=<span class=\"ql-token hljs-number\">3</span>, foobar=<span class=\"ql-token hljs-number\">4</span></div></div><ol><li data-list=\"ordered\"><span class=\"ql-ui\" contenteditable=\"false\"></span>Concatenate the sorted parameters and their values into a string. For example:</li></ol><div class=\"ql-code-block-container\" spellcheck=\"false\"><select class=\"ql-ui\" contenteditable=\"false\"><option value=\"plain\">Plain</option><option value=\"bash\">Bash</option><option value=\"cpp\">C++</option><option value=\"cs\">C#</option><option value=\"css\">CSS</option><option value=\"diff\">Diff</option><option value=\"xml\">HTML/XML</option><option value=\"java\">Java</option><option value=\"javascript\">Javascript</option><option value=\"markdown\">Markdown</option><option value=\"php\">PHP</option><option value=\"python\">Python</option><option value=\"ruby\">Ruby</option><option value=\"sql\">SQL</option></select><div class=\"ql-code-block\" data-language=\"java\">bar2foo1foo_bar3foobar4</div></div><ol><li data-list=\"ordered\"><span class=\"ql-ui\" contenteditable=\"false\"></span>Add the API name in front of the concatenated string. For example, adding the API name “/test/api”:</li></ol><div class=\"ql-code-block-container\" spellcheck=\"false\"><select class=\"ql-ui\" contenteditable=\"false\"><option value=\"plain\">Plain</option><option value=\"bash\">Bash</option><option value=\"cpp\">C++</option><option value=\"cs\">C#</option><option value=\"css\">CSS</option><option value=\"diff\">Diff</option><option value=\"xml\">HTML/XML</option><option value=\"java\">Java</option><option value=\"javascript\">Javascript</option><option value=\"markdown\">Markdown</option><option value=\"php\">PHP</option><option value=\"python\">Python</option><option value=\"ruby\">Ruby</option><option value=\"sql\">SQL</option></select><div class=\"ql-code-block\" data-language=\"java\">/test/apibar2foo1foo_bar3foobar4</div></div><ol><li data-list=\"ordered\"><span class=\"ql-ui\" contenteditable=\"false\"></span>Encode the concatenated string in UTF-8 format and make a digest by the signature algorithm (using HMAC_SHA256). For example:</li></ol><div class=\"ql-code-block-container\" spellcheck=\"false\"><select class=\"ql-ui\" contenteditable=\"false\"><option value=\"plain\">Plain</option><option value=\"bash\">Bash</option><option value=\"cpp\">C++</option><option value=\"cs\">C#</option><option value=\"css\">CSS</option><option value=\"diff\">Diff</option><option value=\"xml\">HTML/XML</option><option value=\"java\">Java</option><option value=\"javascript\">Javascript</option><option value=\"markdown\">Markdown</option><option value=\"php\">PHP</option><option value=\"python\">Python</option><option value=\"ruby\">Ruby</option><option value=\"sql\">SQL</option></select><div class=\"ql-code-block\" data-language=\"java\">hmac_sha256(/test/apibar2foo1foo_bar3foobar4)</div></div><ol><li data-list=\"ordered\"><span class=\"ql-ui\" contenteditable=\"false\"></span>Convert the digest to hexadecimal format. For example:</li></ol><div class=\"ql-code-block-container\" spellcheck=\"false\"><select class=\"ql-ui\" contenteditable=\"false\"><option value=\"plain\">Plain</option><option value=\"bash\">Bash</option><option value=\"cpp\">C++</option><option value=\"cs\">C#</option><option value=\"css\">CSS</option><option value=\"diff\">Diff</option><option value=\"xml\">HTML/XML</option><option value=\"java\">Java</option><option value=\"javascript\">Javascript</option><option value=\"markdown\">Markdown</option><option value=\"php\">PHP</option><option value=\"python\">Python</option><option value=\"ruby\">Ruby</option><option value=\"sql\">SQL</option></select><div class=\"ql-code-block\" data-language=\"java\">hex(<span class=\"ql-token hljs-string\">\"helloworld\"</span>.getBytes(<span class=\"ql-token hljs-string\">\"utf-8\"</span>)) = <span class=\"ql-token hljs-string\">\"68656C6C6F776F726C64\"</span></div></div><p><br></p><p><strong>Sample code for JAVA</strong></p><div class=\"ql-code-block-container\" spellcheck=\"false\"><select class=\"ql-ui\" contenteditable=\"false\"><option value=\"plain\">Plain</option><option value=\"bash\">Bash</option><option value=\"cpp\">C++</option><option value=\"cs\">C#</option><option value=\"css\">CSS</option><option value=\"diff\">Diff</option><option value=\"xml\">HTML/XML</option><option value=\"java\">Java</option><option value=\"javascript\">Javascript</option><option value=\"markdown\">Markdown</option><option value=\"php\">PHP</option><option value=\"python\">Python</option><option value=\"ruby\">Ruby</option><option value=\"sql\">SQL</option></select><div class=\"ql-code-block\" data-language=\"java\"><span class=\"ql-token hljs-comment\">/**</span></div><div class=\"ql-code-block\" data-language=\"java\"><span class=\"ql-token hljs-comment\">\t * Sign the API request with body.</span></div><div class=\"ql-code-block\" data-language=\"java\"><span class=\"ql-token hljs-comment\">\t */</span></div><div class=\"ql-code-block\" data-language=\"java\">\t<span class=\"ql-token hljs-keyword\">public</span> <span class=\"ql-token hljs-keyword\">static</span> String <span class=\"ql-token hljs-title\">signApiRequest(Map&lt;String, String&gt; params, String body, String appSecret, String signMethod, String apiName)</span> <span class=\"ql-token hljs-keyword\">throws</span> IOException {</div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-comment\">// first: sort all text parameters</span></div><div class=\"ql-code-block\" data-language=\"java\">\t\tString[] keys = params.keySet().toArray(<span class=\"ql-token hljs-keyword\">new</span> <span class=\"ql-token hljs-title\">String</span>[<span class=\"ql-token hljs-number\">0</span>]);</div><div class=\"ql-code-block\" data-language=\"java\">\t\tArrays.sort(keys);</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-comment\">// second: connect all text parameters with key and value</span></div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-type\">StringBuilder</span> <span class=\"ql-token hljs-variable\">query</span> <span class=\"ql-token hljs-operator\">=</span> <span class=\"ql-token hljs-keyword\">new</span> <span class=\"ql-token hljs-title\">StringBuilder</span>();</div><div class=\"ql-code-block\" data-language=\"java\">       query.append(apiName);</div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-keyword\">for</span> (String key : keys) {</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\t<span class=\"ql-token hljs-type\">String</span> <span class=\"ql-token hljs-variable\">value</span> <span class=\"ql-token hljs-operator\">=</span> params.get(key);</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\t<span class=\"ql-token hljs-keyword\">if</span> (areNotEmpty(key, value)) {</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\t\tquery.append(key).append(value);</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\t}</div><div class=\"ql-code-block\" data-language=\"java\">\t\t}</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-comment\">// third：put the body to the end</span></div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-keyword\">if</span> (body != <span class=\"ql-token hljs-literal\">null</span>) {</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\tquery.append(body);</div><div class=\"ql-code-block\" data-language=\"java\">\t\t}</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-comment\">// next : sign the whole request</span></div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-type\">byte</span>[] bytes = <span class=\"ql-token hljs-literal\">null</span>;</div><div class=\"ql-code-block\" data-language=\"java\">\t\t</div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-keyword\">if</span>(signMethod.equals(Constants.SIGN_METHOD_HMAC)) {</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\tbytes = encryptWithHmac(query.toString(), appSecret);</div><div class=\"ql-code-block\" data-language=\"java\">\t\t} <span class=\"ql-token hljs-keyword\">else</span> <span class=\"ql-token hljs-keyword\">if</span>(signMethod.equals(Constants.SIGN_METHOD_SHA256)) {</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\tbytes = encryptHMACSHA256(query.toString(), appSecret);</div><div class=\"ql-code-block\" data-language=\"java\">\t\t}</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-comment\">// finally : transfer sign result from binary to upper hex string</span></div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-keyword\">return</span> byte2hex(bytes);</div><div class=\"ql-code-block\" data-language=\"java\">\t}</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">\t</div><div class=\"ql-code-block\" data-language=\"java\">    <span class=\"ql-token hljs-keyword\">private</span> <span class=\"ql-token hljs-keyword\">static</span> <span class=\"ql-token hljs-type\">byte</span>[] encryptHMACSHA256(String data, String secret) <span class=\"ql-token hljs-keyword\">throws</span> IOException  {</div><div class=\"ql-code-block\" data-language=\"java\">    \t<span class=\"ql-token hljs-type\">byte</span>[] bytes = <span class=\"ql-token hljs-literal\">null</span>;</div><div class=\"ql-code-block\" data-language=\"java\">    \t<span class=\"ql-token hljs-keyword\">try</span> {</div><div class=\"ql-code-block\" data-language=\"java\">\t        <span class=\"ql-token hljs-type\">SecretKey</span> <span class=\"ql-token hljs-variable\">secretKey</span> <span class=\"ql-token hljs-operator\">=</span> <span class=\"ql-token hljs-keyword\">new</span> <span class=\"ql-token hljs-title\">SecretKeySpec</span>(secret.getBytes(Constants.CHARSET_UTF8), Constants.SIGN_METHOD_HMAC_SHA256);</div><div class=\"ql-code-block\" data-language=\"java\">\t        <span class=\"ql-token hljs-type\">Mac</span> <span class=\"ql-token hljs-variable\">mac</span> <span class=\"ql-token hljs-operator\">=</span> Mac.getInstance(secretKey.getAlgorithm());</div><div class=\"ql-code-block\" data-language=\"java\">\t        mac.init(secretKey);</div><div class=\"ql-code-block\" data-language=\"java\">\t        bytes = mac.doFinal(data.getBytes(Constants.CHARSET_UTF8));</div><div class=\"ql-code-block\" data-language=\"java\">    \t} <span class=\"ql-token hljs-keyword\">catch</span> (GeneralSecurityException gse) {</div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-keyword\">throw</span> <span class=\"ql-token hljs-keyword\">new</span> <span class=\"ql-token hljs-title\">IOException</span>(gse.toString());</div><div class=\"ql-code-block\" data-language=\"java\">        }</div><div class=\"ql-code-block\" data-language=\"java\">        <span class=\"ql-token hljs-keyword\">return</span> bytes;</div><div class=\"ql-code-block\" data-language=\"java\">    }</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">\t<span class=\"ql-token hljs-comment\">/**</span></div><div class=\"ql-code-block\" data-language=\"java\"><span class=\"ql-token hljs-comment\">\t * Transfer binary array to HEX string.</span></div><div class=\"ql-code-block\" data-language=\"java\"><span class=\"ql-token hljs-comment\">\t */</span></div><div class=\"ql-code-block\" data-language=\"java\">\t<span class=\"ql-token hljs-keyword\">public</span> <span class=\"ql-token hljs-keyword\">static</span> String <span class=\"ql-token hljs-title\">byte2hex(byte[] bytes)</span> {</div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-type\">StringBuilder</span> <span class=\"ql-token hljs-variable\">sign</span> <span class=\"ql-token hljs-operator\">=</span> <span class=\"ql-token hljs-keyword\">new</span> <span class=\"ql-token hljs-title\">StringBuilder</span>();</div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-keyword\">for</span> (<span class=\"ql-token hljs-type\">int</span> <span class=\"ql-token hljs-variable\">i</span> <span class=\"ql-token hljs-operator\">=</span> <span class=\"ql-token hljs-number\">0</span>; i &lt; bytes.length; i++) {</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\t<span class=\"ql-token hljs-type\">String</span> <span class=\"ql-token hljs-variable\">hex</span> <span class=\"ql-token hljs-operator\">=</span> Integer.toHexString(bytes[i] &amp; <span class=\"ql-token hljs-number\">0xFF</span>);</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\t<span class=\"ql-token hljs-keyword\">if</span> (hex.length() == <span class=\"ql-token hljs-number\">1</span>) {</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\t\tsign.append(<span class=\"ql-token hljs-string\">\"0\"</span>);</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\t}</div><div class=\"ql-code-block\" data-language=\"java\">\t\t\tsign.append(hex.toUpperCase());</div><div class=\"ql-code-block\" data-language=\"java\">\t\t}</div><div class=\"ql-code-block\" data-language=\"java\">\t\t<span class=\"ql-token hljs-keyword\">return</span> sign.toString();</div><div class=\"ql-code-block\" data-language=\"java\">\t}</div></div><p><br></p><p><strong>Sample code for C#</strong></p><div class=\"ql-code-block-container\" spellcheck=\"false\"><select class=\"ql-ui\" contenteditable=\"false\"><option value=\"plain\">Plain</option><option value=\"bash\">Bash</option><option value=\"cpp\">C++</option><option value=\"cs\">C#</option><option value=\"css\">CSS</option><option value=\"diff\">Diff</option><option value=\"xml\">HTML/XML</option><option value=\"java\">Java</option><option value=\"javascript\">Javascript</option><option value=\"markdown\">Markdown</option><option value=\"php\">PHP</option><option value=\"python\">Python</option><option value=\"ruby\">Ruby</option><option value=\"sql\">SQL</option></select><div class=\"ql-code-block\" data-language=\"java\">    <span class=\"ql-token hljs-keyword\">public</span> <span class=\"ql-token hljs-keyword\">static</span> string <span class=\"ql-token hljs-title\">SignRequest(IDictionary&lt;string, string&gt; parameters, string body, string appSecret, string signMethod, string apiName)</span></div><div class=\"ql-code-block\" data-language=\"java\">        {</div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-comment\">// first : sort all key with asci order</span></div><div class=\"ql-code-block\" data-language=\"java\">            IDictionary&lt;string, string&gt; sortedParams = <span class=\"ql-token hljs-keyword\">new</span> <span class=\"ql-token hljs-title\">SortedDictionary</span>&lt;string, string&gt;(parameters, StringComparer.Ordinal);</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-comment\">// second : contact all params with key order</span></div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-type\">StringBuilder</span> <span class=\"ql-token hljs-variable\">query</span> <span class=\"ql-token hljs-operator\">=</span> <span class=\"ql-token hljs-keyword\">new</span> <span class=\"ql-token hljs-title\">StringBuilder</span>();</div><div class=\"ql-code-block\" data-language=\"java\">            query.Append(apiName);</div><div class=\"ql-code-block\" data-language=\"java\">            foreach (KeyValuePair&lt;string, string&gt; kv in sortedParams)</div><div class=\"ql-code-block\" data-language=\"java\">            {</div><div class=\"ql-code-block\" data-language=\"java\">                <span class=\"ql-token hljs-keyword\">if</span> (!string.IsNullOrEmpty(kv.Key) &amp;&amp; !string.IsNullOrEmpty(kv.Value))</div><div class=\"ql-code-block\" data-language=\"java\">                {</div><div class=\"ql-code-block\" data-language=\"java\">                    query.Append(kv.Key).Append(kv.Value);</div><div class=\"ql-code-block\" data-language=\"java\">                }</div><div class=\"ql-code-block\" data-language=\"java\">            }</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-comment\">// third : add body to last</span></div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-keyword\">if</span> (!string.IsNullOrEmpty(body))</div><div class=\"ql-code-block\" data-language=\"java\">            {</div><div class=\"ql-code-block\" data-language=\"java\">                query.Append(body);</div><div class=\"ql-code-block\" data-language=\"java\">            }</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-comment\">// next : sign the string</span></div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-type\">byte</span>[] bytes = <span class=\"ql-token hljs-literal\">null</span>;</div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-keyword\">if</span> (signMethod.Equals(Constants.SIGN_METHOD_SHA256))</div><div class=\"ql-code-block\" data-language=\"java\">            {</div><div class=\"ql-code-block\" data-language=\"java\">                <span class=\"ql-token hljs-type\">HMACSHA256</span> <span class=\"ql-token hljs-variable\">sha256</span> <span class=\"ql-token hljs-operator\">=</span> <span class=\"ql-token hljs-keyword\">new</span> <span class=\"ql-token hljs-title\">HMACSHA256</span>(Encoding.UTF8.GetBytes(appSecret));</div><div class=\"ql-code-block\" data-language=\"java\">                bytes = sha256.ComputeHash(Encoding.UTF8.GetBytes(query.ToString()));</div><div class=\"ql-code-block\" data-language=\"java\">            }</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-comment\">// finally : transfer binary byte to hex string</span></div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-type\">StringBuilder</span> <span class=\"ql-token hljs-variable\">result</span> <span class=\"ql-token hljs-operator\">=</span> <span class=\"ql-token hljs-keyword\">new</span> <span class=\"ql-token hljs-title\">StringBuilder</span>();</div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-keyword\">for</span> (<span class=\"ql-token hljs-type\">int</span> <span class=\"ql-token hljs-variable\">i</span> <span class=\"ql-token hljs-operator\">=</span> <span class=\"ql-token hljs-number\">0</span>; i &lt; bytes.Length; i++)</div><div class=\"ql-code-block\" data-language=\"java\">            {</div><div class=\"ql-code-block\" data-language=\"java\">                result.Append(bytes[i].ToString(<span class=\"ql-token hljs-string\">\"X2\"</span>));</div><div class=\"ql-code-block\" data-language=\"java\">            }</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">            <span class=\"ql-token hljs-keyword\">return</span> result.ToString();</div><div class=\"ql-code-block\" data-language=\"java\">        }</div></div><p><br></p><p><strong>Sample code for PYTHON</strong></p><div class=\"ql-code-block-container\" spellcheck=\"false\"><select class=\"ql-ui\" contenteditable=\"false\"><option value=\"plain\">Plain</option><option value=\"bash\">Bash</option><option value=\"cpp\">C++</option><option value=\"cs\">C#</option><option value=\"css\">CSS</option><option value=\"diff\">Diff</option><option value=\"xml\">HTML/XML</option><option value=\"java\">Java</option><option value=\"javascript\">Javascript</option><option value=\"markdown\">Markdown</option><option value=\"php\">PHP</option><option value=\"python\">Python</option><option value=\"ruby\">Ruby</option><option value=\"sql\">SQL</option></select><div class=\"ql-code-block\" data-language=\"java\">def <span class=\"ql-token hljs-title\">sign(secret,api, parameters)</span>:</div><div class=\"ql-code-block\" data-language=\"java\">    #===========================================================================</div><div class=\"ql-code-block\" data-language=\"java\">    # <span class=\"ql-token hljs-meta\">@param</span> secret</div><div class=\"ql-code-block\" data-language=\"java\">    # <span class=\"ql-token hljs-meta\">@param</span> parameters</div><div class=\"ql-code-block\" data-language=\"java\">    #===========================================================================</div><div class=\"ql-code-block\" data-language=\"java\">    sort_dict = sorted(parameters)</div><div class=\"ql-code-block\" data-language=\"java\">    </div><div class=\"ql-code-block\" data-language=\"java\">    parameters_str = <span class=\"ql-token hljs-string\">\"%s%s\"</span> % (api,</div><div class=\"ql-code-block\" data-language=\"java\">        str().join(<span class=\"ql-token hljs-string\">'%s%s'</span> % (key, parameters[key]) <span class=\"ql-token hljs-keyword\">for</span> key in sort_dict))</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">    h = hmac.new(secret.encode(encoding=<span class=\"ql-token hljs-string\">\"utf-8\"</span>), parameters_str.encode(encoding=<span class=\"ql-token hljs-string\">\"utf-8\"</span>), digestmod=hashlib.sha256)</div><div class=\"ql-code-block\" data-language=\"java\"><br></div><div class=\"ql-code-block\" data-language=\"java\">    <span class=\"ql-token hljs-keyword\">return</span> h.hexdigest().upper()</div></div><p>For the signature sample codes in other programming languages, refer to the source code of the official SDK.</p>",
    "gmtCreate": 1721368195000,
    "enTags": [],
    "parentId": 10400,
    "enTitle": "Signature algorithm",
    "id": 108068,
    "lastModified": "2024-08-01 15:50:38",
    "views": 9739
  },
  "success": true,
  "httpStatus": "200",
  "errorMessage": "",
  "errorCode": "",
  "errorLevel": ""
}