{
  "title": "Shoppable video",
  "content": "# Widget Introduction\nCompelling videos are at the heart of what drives your success on TikTok Shop. Integrating Shoppable Video hub within your app brings together a wide range of education, inspiration, AI tools, and data to help sellers quickly and easily build shoppable videos.\n# What are the benefits?\n\n* **Grow your business with Shoppable Videos:** Shoppable Video is the fastest way to drive traffic to sellers' stores on TikTok Shop. Now they can get access to our powerful Shoppable Video tools directly from the your App.\n* **Build shoppable videos with** **lightspeed** **efficiency:** We've done heavy lifting for sellers'; the Content Creation tab produces your customized video in three clicks. Select the product, indicate its key selling points, and then let us handle the rest.\n* **Get inspired with insights and best practices:** Check out top trending songs, hashtags, and more to see what's connecting with buyers. Sellers can also explore what shops like their shops are creating.\n* **No prior experience required:** Seller can create a shoppable video with the range of tools and options available in the Shoppable Video Widget.\n\n## Showcase\n![Image](https://sf16-sg.tiktokcdn.com/obj/eden-sg/jvK_ylwvslclK_JWZ%5B%5B/ljhwZthlaukjlkulzlp/Developer_Guide/e5ae4679-98bf-4ed4-85c4-4a17f6246b2f.gif)\n# Integration demo\n## Description\nShoppable Video Widget including three widget which should be used together:\n\n* @tiktokshop-widget/merchant: OverviewWidget\n   * The homepage of Shoppable Videos, provides short video-related educational capabilities, helping new merchants know about short videos and how to grow with short video\n* @tiktokshop-widget/merchant: InspirationWidget\n   * The inspiration page of Shoppable Videos, provides short video inspiration, benchmarking accounts, trending hashtags, etc., to inspire merchants to create creative inspiration\n* @tiktokshop-widget/merchant: MakeContentWidget\n   * The content tools page of Shoppable Videos, provides creative production tools to lower the production barrier and help sellers produce short videos easily\n\nThe common parameters of the three widgets are:\n\n* handleTabChange\n   * Type\n   ```TypeScript\n      type HandleTabChangeType = (\n          tabKey:\n            | 'sv_overview'\n            | 'sv_get_inspired'\n            | 'sv_create_content'\n            | 'product_list',\n          options?: Record<string, any>,\n      )=>void;\n   ```\n\n   * Description: Inside the shoppable video widget, there is a jump behavior between multiple widgets. Here, the callback function is used to help developers get the jump event and its parameters in the page.\n* Options\n   * Type\n   ```TypeScript\n       {\n           pathname?: string;\n           search?: string;\n       }\n   ```\n\n   * Description: The three widgets jump to each other, and each widget has a route inside. So when jumping between widgets, in order to locate the correct route after the jump, some parameters need to be carried through options.\n* example\n   ```TypeScript\n   function Demo(){\n       const optionRef = useRef<any>();\n       const [visibleWidget,setVisibleWidget] = useState<string>('sv_get_inspired');\n       \n       return <>\n           {visibleWidget === 'sv_get_inspired'?<RemoteWidget \n               name={'@tiktokshop-widget/merchant:InspirationWidget'}\n               options={{\n                   handleTabChange(tabKey,options){\n                       if(tabKey==='product_list'){\n                           // Jump to product list page\n                       }else if(tabKey==='sv_overview'){\n                           // Open OverviewWidget\n                           optionRef.current = options;\n                           setVisibleWidget(tabKey);\n                       }\n                   }\n               }} \n           />:null}\n           {visibleWidget === 'sv_overview' ? <RemoteWidget \n               name={'@tiktokshop-widget/merchant:OverviewWidget'}\n               options={{\n                   options:optionRef.current\n               }} \n           />:null}\n       </>\n   }\n   ```\n\n\n## React framework\nConfigure preload in `WidgetConfigProvider` preloadWidgetNames, you can put `WidgetConfigProvider` to the outermost preload time\n```TypeScript\nimport { WidgetConfigProvider,RemoteWidget } from '@tiktokshop/widget-kit-react';\n\nconst getWidgetToken = async () => {\n  const res: any = await get('https://xxx/api/v1/widget/access_token', {\n    outer_shop_id: 'xxx',\n    partner_type: '1',\n  });\n  if (res?.code === 0) {\n    return res?.data;\n  }\n  return {};\n};\n\nconst initOptions = {\n  config: {\n    shopId: 'xxx', //seller id, such as 123456\n    oecRegion: 'xxx', //country,such as US\n    appKey: 'xxx', //The key corresponding to the merchant's creation service\n    isvInfo: {\n      name: 'xxx', //ISV name,such as OPEN_PLATFORM\n    },\n  },\n  getToken: getWidgetToken, //get auth token\n  remotes: [\n    {\n      name: '@tiktokshop-widget/merchant:OverviewWidget',\n    },\n    {\n      name: '@tiktokshop-widget/merchant:InspirationWidget',\n    },\n    {\n      name: '@tiktokshop-widget/merchant:MakeContentWidget',\n    },\n  ],\n};\n\nexport default () => {\n  const [currentWidget,setCurrentWidget] = useState('sv_overview');\n  const optionRef = useRef<any>(undefined);\n  const tempOptionRef = useRef<any>(undefined);\n\n  useEffect(()=>{\n      return ()=>{\n          optionRef.current = tempOptionRef.current;\n          tempOptionRef.current = undefined;\n      }\n  },[currentWidget]);\n  \n  const widgetParams = useMemo()=>({\n      handleTabChange: (\n        tabKey:\n          | 'sv_overview'\n          | 'sv_get_inspired'\n          | 'sv_create_content'\n          | 'product_list',\n        options?: Record<string, any>,\n      ) => {\n          if(tabKey ==='product_list'){\n              // open TikTok Shop list page\n          }else{\n              tempOptionRef.current = options;\n              setCurrentWidget(tabKey);\n          }\n      },\n      options: optionRef.current\n  }),[currentWidget,optionRef])\n\n  return (\n    <WidgetConfigProvider\n      config={initOptions.config}\n      getToken={initOptions.getToken}\n      remotes={initOptions.remotes}\n      preloadWidgetNames={[\n          '@tiktokshop-widget/merchant:OverviewWidget',\n          '@tiktokshop-widget/merchant:InspirationWidget',\n          '@tiktokshop-widget/merchant:MakeContentWidget'\n      ]}>\n        {currentWidget === 'sv_overview' && <RemoteWidget\n            name={'@tiktokshop-widget/merchant:OverviewWidget'}\n            options={widgetParams}\n        />}\n        {currentWidget === 'sv_get_inspired' && <RemoteWidget\n            name={'@tiktokshop-widget/merchant:InspirationWidget'}\n            options={widgetParams}\n        />}\n        {currentWidget === 'sv_create_content' && <RemoteWidget\n            name={'@tiktokshop-widget/merchant:MakeContentWidget'}\n            options={widgetParams}\n        />}\n    </WidgetConfigProvider>\n  );\n};\n```\n\n## Native js\n```JSON\nimport React, { useEffect } from 'react';\nimport { get } from './utils/fetch';\nimport { loadWidget, init, WidgetComponent } from '@tiktokshop/widget-kit';\n\nlet view = null;\n\nconst getWidgetToken = async () => {\n    const res: any = await get('https://xxx/api/v1/widget/access_token', {\n        outer_shop_id: 'xxx',\n        partner_type: '1',\n    });\n    if (res?.code === 0) {\n        return res?.data;\n    }\n    return {};\n};\n\nconst initWidget = () => {//It is recommended to initialize the widget in the outer layer and execute the preloadWidget([name]) method to preload resources.\ninit({\n    config: {\n        shopId: 'xxx',\n        oecRegion: 'US',\n        appKey: 'xxx',\n        isvInfo: {\n            name: 'OPEN_PLATFORM',\n        },\n    },\n    remotes: [\n        {\n            name: '@tiktokshop-widget/merchant:OverviewWidget',\n        },\n        {\n            name: '@tiktokshop-widget/merchant:InspirationWidget',\n        },\n        {\n            name: '@tiktokshop-widget/merchant:MakeContentWidget',\n        },\n    ],\n    getToken: getWidgetToken,\n    });\n};\n\nconst widgetNameMap = {\n    'sv_overview': '@tiktokshop-widget/merchant:OverviewWidget',\n    'sv_get_inspired': '@tiktokshop-widget/merchant:InspirationWidget',\n    'sv_create_content': '@tiktokshop-widget/merchant:MakeContentWidget'\n}\n\nexport default () => {\n  const [currentWidget,setCurrentWidget] = useState('sv_overview');\n  const optionRef = useRef<any>(undefined);\n  const tempOptionRef = useRef<any>(undefined);\n\n\n  useEffect(() => {\n    initWidget();\n  }, []);\n  \n  const widgetParams = useMemo()=>({\n      handleTabChange: (\n        tabKey:\n          | 'sv_overview'\n          | 'sv_get_inspired'\n          | 'sv_create_content'\n          | 'product_list',\n        options?: Record<string, any>,\n      ) => {\n          if(tabKey ==='product_list'){\n              // open TikTok Shop list page\n          }else{\n              tempOptionRef.current = options;\n              setCurrentWidget(tabKey);\n          }\n      },\n      options: optionRef.current\n  }),[currentWidget,optionRef])\n  \n  useEffect(()=>{\n      if(!currentWidget || !widgetNameMap[currentWidget])return\n      loadWidget(widgetNameMap[currentWidget]).then((component: WidgetComponent) => {\n          view = component.create(\n            document.getElementById('widget-preview-container')!,\n          );\n          view?.render(widgetParams);\n      });\n      return ()=>{\n          optionRef.current = tempOptionRef.current;\n          tempOptionRef.current = undefined;\n          view?.unmount();\n      } \n  },[currentWidget])\n  \n  return (\n    <div\n      className=\"widget-preview-container\"\n      id=\"widget-preview-container\"></div>\n  );\n};\n```\n\n# Change log\n| Release date | Update |\n| --- | --- |\n| 2024/8/5 | The first version is launched, provide the basic functions of shoppable video center |\n| 2024/8/15 | Add event tracking & fix campaign banner style. |\n# Widget SDK User Guide\nRefer to [Widget SDK User Guide](widget-sdk-user-guide).\n\n",
  "update_time": "1751449939",
  "view_count": 0,
  "prev_document_id": "66acadfe53170602fb35d322",
  "prev_document_path": "return-and-refund",
  "next_document_id": "6719e5f6d99b7d02fdf5b67e",
  "next_document_path": "responsible-person-and-manufacturer-widget",
  "is_api_doc": false,
  "document_id": "66c83a2bfa604902fc4db178",
  "doc_type": 2,
  "keywords": [
    {
      "keyword": "",
      "font_color": "#141414",
      "background_color": "#E6E6E6"
    }
  ]
}