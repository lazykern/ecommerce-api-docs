{
  "title": "Integrate Node.js SDK",
  "content": "Follow the guide to install the Node.js SDK to your project and make your first API call using SDK. The commonly-used API [Search Products](search-products) is used as an example.\n## Prerequisites\nBefore integrating TikTok Shop API SDK into your project and making your first API call with the SDK, you must [create a test seller account](create-test-seller-account).\nAfter the account is created, go to your account, consent to share data with your test TikTok Shop App, and retrieve the **authorization code** in the return URL that you specified when you created your test TikTok Shop App. For guidance, refer to [Generate a test access token](generate-test-access-token).\n## Environment\nEnsure your project meets all of the following conditions:\n\n* Node.js 16+\n\n## Installation\nRefer to the following steps to integrate the SDK into your project.\n\n1. Add the unzipped folder to your project directory.\n2. Configure dependencies in `package.json`:\n\n```json\n{\n  \"dependencies\": {\n    \"request\":\"2.88.2\"\n  },\n  \"devDependencies\": {\n    \"@types/request\":\"2.48.12\",\n    \"@types/node\": \"16\",\n    \"tslib\":\"2.6.2\",\n    \"typescript\": \"^4.9.5\",\n  }\n}\n```\n\n\n3. Add the following to your `tsconfig.json` file:\n\n```json\n{\n    \"esModuleInterop\": true,\n}\n```\n\n\n4. Install dependencies using your preferred package manager:\n\n```shell\n// npm\nnpm install\n// yarn\nyarn install\n// pnpm\npnpm i\n```\n\n## Get Access Token\nYou can use the method included in the SDK to get Access Token:\n```Javascript\nconst auth_code = \"your_auth_code\";\nconst { body } = await AccessTokenTool.getAccessToken(auth_code);\nconsole.log('getAccessToken resp data := ', JSON.stringify(body, null, 2));\nconst access_token = body.data?.access_token;\nif (!access_token) {\n    throw new Error(\"Failed to get access token\");\n}\n```\n\n## Get Shop Cipher\n`shop_cipher` is a parameter in the query of the API request of Search Products. You'll need to use this property to pass shop information when requesting to search for products.\nTo get `shop_cipher`, you'll need to call the API [Get Authorized Shops](get-authorized-shops) which is also included in the SDK as a method.\n```Javascript\nconst contentType = 'application/json';\nconst { body: shopsGetBody } = await client.api.AuthorizationV202309Api.ShopsGet(access_token, contentType);\nconsole.log('ShopsGet resp data := ', JSON.stringify(shopsGetBody, null, 2));\nconst shopList = shopsGetBody.data.shops || [];\nif (shopList.length === 0) {\n    throw new Error(\"No authorized shops found.\");\n}\nshopList.forEach((shop, index) => {\n    const shopId = shop.id;\n    const shopCipher = shop.cipher;\n    console.log(`shop_id: ${shopId}, shop_cipher: ${shopCipher}`);\n});\n```\n\n## Search Products\nWith Access Token and Shop Cipher, you can call the API to retrieve a list of products that meet the specified conditions. Every time you make an API request, TikTok Shop sends you back a response. Access the response and handle possible errors.\n```Javascript\nconst result = await client.api.ProductV202502Api.ProductsSearchPost(1,access_token,'application/json',undefined,undefined, shop_cipher);\nconsole.log('resp data := ',JSON.stringify(result.body, null, 2));\n```\n\n## Code Demo\n```Javascript\nimport { ClientConfiguration, TikTokShopNodeApiClient,AccessTokenTool } from \".\";\n\nClientConfiguration.globalConfig.app_key = \"XXXXXXXXX\";\nClientConfiguration.globalConfig.app_secret =\n  \"XXXXXXXXX\";\n \nconst access_token = \"XXXXXXXXX\"\nconst shop_cipher=\"XXXXXXXXX\"\n\nconst client = new TikTokShopNodeApiClient({\n  config: {\n    sandbox: false,\n  },\n});\n\nconst main = async () => {\n  // 1. get access token\n  const auth_code = \"your_auth_code\";\n  const { body } = await AccessTokenTool.getAccessToken(auth_code);\n  console.log('getAccessToken resp data := ', JSON.stringify(body, null, 2));\n  const access_token = body.data?.access_token;\n  if (!access_token) {\n    throw new Error(\"Failed to get access token\");\n  }\n  \n  // 2. get shop cipher\n  const contentType = 'application/json';\n  const { body: shopsGetBody } = await client.api.AuthorizationV202309Api.ShopsGet(access_token, contentType);\n  console.log('ShopsGet resp data := ', JSON.stringify(shopsGetBody, null, 2));\n  const shopList = shopsGetBody.data.shops || [];\n  if (shopList.length === 0) {\n    throw new Error(\"No authorized shops found.\");\n  }\n  shopList.forEach((shop, index) => {\n    const shopId = shop.id;\n    const shopCipher = shop.cipher;\n    console.log(`shop_id: ${shopId}, shop_cipher: ${shopCipher}`);\n  });\n  \n  // 3. search products\n  const result = await client.api.ProductV202502Api.ProductsSearchPost(1,access_token,'application/json',undefined,undefined, shop_cipher);\n  console.log('resp data := ',JSON.stringify(result.body, null, 2));\n};\n\nmain();  \n```\n\n\n",
  "update_time": "1751449726",
  "view_count": 0,
  "prev_document_id": "67c83e0eb764e204a918f426",
  "prev_document_path": "integrate-golang-sdk",
  "next_document_id": "67c83e13bc0b7d049fb53726",
  "next_document_path": "update-sdk",
  "is_api_doc": false,
  "document_id": "67c83e11bc0b7d049fb53715",
  "doc_type": 2,
  "keywords": [
    {
      "keyword": "",
      "font_color": "#141414",
      "background_color": "#E6E6E6"
    }
  ]
}