{
  "document_id": "update-package-delivery-status-202309",
  "document_api_meta": {
    "interface_path": "/fulfillment/202309/packages/deliver",
    "title": "Update Package Delivery Status",
    "env_desc": "Use this API to update the delivery status of the package from in transit status. Please note that only sellers utilizing the SOF( Seller Own Fleet) capability can use this API to update the package status to 'DELIVERED'. This API is only available for the SEA region.",
    "method": 1,
    "query": "https://open-api.tiktokglobalshop.com/fulfillment/202309/packages/deliver?app_key=123abc&sign=5361235029d141222525e303d742f9e38aea052d10896d3197ab9d6233730b8c&timestamp=1625484268&shop_cipher=ROW_RHkDDABBAAB8tKAVoAqsMTjsQZFLyNfY",
    "request_header_param": [
      {
        "name": "content-type",
        "type": "string",
        "required": "Y",
        "desc": "Allowed type: application/json"
      },
      {
        "name": "x-tts-access-token",
        "type": "string",
        "required": "Y",
        "desc": "The seller access_token value from [Get Access Token](https://partner.tiktokshop.com/docv2/page/678e3a3292b0f40314a92d75#Get%20Access%20Token%20API), when user_type = 0. Follow this [guide](https://partner.tiktokshop.com/docv2/page/678e3a344ddec3030b238fa0) to get seller access_token."
      }
    ],
    "request_query_param": [
      {
        "name": "app_key",
        "type": "string",
        "required": "Y",
        "desc": "Every single app will have a unique key. Please use the specific key assigned to your app."
      },
      {
        "name": "sign",
        "type": "string",
        "required": "Y",
        "desc": "Signature generated by gen algorithm. When you send API requests to TTS, you must sign them so that TTS can identify the senders. "
      },
      {
        "name": "timestamp",
        "type": "int",
        "required": "Y",
        "desc": "Unix timestamp GMT (UTC+00:00). This timestamp is used across all API requests. Developers can use this convert to local time."
      },
      {
        "name": "shop_cipher",
        "type": "string",
        "required": "Y",
        "desc": "Use this property to pass shop information in requesting the API. Failure in passing the correct value when requesting the API for cross-border shops will return incorrect response. \nGet by API [Get Authorization Shop](https://partner.tiktokshop.com/docv2/page/6507ead7b99d5302be949ba9?external_id=6507ead7b99d5302be949ba9)"
      }
    ],
    "request_body_param": [
      {
        "name": "packages",
        "type": "[]object",
        "required": "Y",
        "desc": "The return list of packages."
      },
      {
        "name": "^id",
        "type": "string",
        "required": "Y",
        "desc": "The package ID."
      },
      {
        "name": "^delivery_type",
        "type": "string",
        "required": "Y",
        "desc": "Delivery status of the package.\nPossible values:\n- `DELIVERY_SUCCESS`: Package has been successfully delivered.\n- `DELIVERY_FAILED`: Package delivery has been unsuccessful.\n- `UPDATE_POD`: For packages that have been delivered, but you would like to update an attachment."
      },
      {
        "name": "^fail_delivery_reason",
        "type": "string",
        "required": "N",
        "desc": "Delivery failure reasons.\n\nWhen `delivery_type = DELIVERY_FAILED`, this field is required. For other delivery types, this field is not required.\n\nPossible values:\n- `INVALID_ADDRESS`: The buyer shipping address is invalid.\n- `UNABLE_RECEIVE`: The buyer is currently unable to receive the delivery.\n- `UNABLE_CONTACT_BUYER`: Unable to contact the buyer.\n- `BUYER_REFUSED`: The buyer has refused to receive the product.\n- `DELAY_DELIVERY`: Delay in delivery.\n- `PACKAGE_LOST`: The package is lost.\n- `PACKAGE_DAMAGE`: The package is damaged.\n- `FORCE_MAJEURE`: An unforeseeable event of force majeure has occurred.\n- `OTHER`: Other reason.\n"
      },
      {
        "name": "^file_type",
        "type": "string",
        "required": "N",
        "desc": "Attachment type:\n- `IMG`\n- `PDF`"
      },
      {
        "name": "^file_url",
        "type": "string",
        "required": "N",
        "desc": "Attachment URL.\nThe seller can use the [Upload Delivery File](https://partner.tiktokshop.com/docv2/page/650aa6e04a0bb702c06dcd34?external_id=650aa6e04a0bb702c06dcd34#Back%20To%20Top) and [Upload Delivery Image](https://partner.tiktokshop.com/docv2/page/650aa70d0fcef602bf32772f?external_id=650aa70d0fcef602bf32772f) APIs to generate the URL. The attachment will be used by TikTok Shop to verify the package delivery."
      }
    ],
    "response_param": [
      {
        "name": "code",
        "type": "int",
        "required": "N",
        "example": "0",
        "desc": "The success or failure status code returned in API response."
      },
      {
        "name": "message",
        "type": "string",
        "required": "N",
        "example": "Success",
        "desc": "The success or failure messages returned in API response. Reasons of failure will be described in the message."
      },
      {
        "name": "request_id",
        "type": "string",
        "required": "N",
        "example": "202203070749000101890810281E8C70B7",
        "desc": "Request log"
      },
      {
        "name": "data",
        "type": "object",
        "required": "N",
        "example": "",
        "desc": "Specific return information"
      },
      {
        "name": "^errors",
        "type": "[]object",
        "required": "N",
        "example": "",
        "desc": "Specific return information (returns multiple errors and reasons)."
      },
      {
        "name": "^^code",
        "type": "int",
        "required": "N",
        "example": "10007014",
        "desc": "The failure reason code."
      },
      {
        "name": "^^message",
        "type": "string",
        "required": "N",
        "example": "order not in sof service",
        "desc": "Fulfillment failure reason."
      },
      {
        "name": "^^detail",
        "type": "object",
        "required": "N",
        "example": "",
        "desc": "Error detail."
      },
      {
        "name": "^^^package_id",
        "type": "string",
        "required": "N",
        "example": "1231231231231",
        "desc": "Package ID."
      }
    ],
    "error_code_list": [
      {
        "code": "36009003",
        "msg": "Internal error. Please try again. If the issue persists after multiple attempts, please contact platform support."
      },
      {
        "code": "21001011",
        "msg": "System process error, please try again later."
      },
      {
        "code": "21011028",
        "msg": "The package does not belong to the current shop.   "
      }
    ],
    "request_body": "{\"packages\":[{\"id\":\"11529598723402\",\"delivery_type\":\"DELIVERY_SUCCESS\",\"fail_delivery_reason\":\"INVALID_ADDRESS\",\"file_type\":\"IMG\",\"file_url\":\"https://tiktok.shopcenter.cn/file/CWvBsBZ9mhbMiHtmbZecKshon6f?table=tblTW\"}]}",
    "response_body": "{\"code\":0,\"data\":{\"errors\":[{\"code\":10007014,\"message\":\"order not in sof service\",\"detail\":{\"package_id\":\"1231231231231\"}}]},\"message\":\"Success\",\"request_id\":\"202203070749000101890810281E8C70B7\"}",
    "title_list": [
      "Common Require / 公共入参",
      "API Require / API入参",
      "Require Sample / 请求示例",
      "API Response / API出参",
      "ResponseSample / 响应示例",
      "Error Code / 错误码",
      "Feedback / 文档反馈"
    ],
    "error_code_sheet": {
      "header_list": [
        "Code",
        "Message"
      ],
      "value_sheet": []
    },
    "api_request_header_sheet": {
      "header_list": [
        "Properties",
        "Type",
        "Required",
        "Properties description"
      ],
      "value_sheet": []
    },
    "api_request_query_sheet": {
      "header_list": [
        "Properties",
        "Type",
        "Required",
        "Properties description"
      ],
      "value_sheet": []
    },
    "api_request_body_sheet": {
      "header_list": [
        "Properties",
        "Type",
        "Required",
        "Properties description"
      ],
      "value_sheet": []
    },
    "api_response_sheet": {
      "header_list": [
        "Properties",
        "Type",
        "Sample",
        "Properties description"
      ],
      "value_sheet": []
    },
    "is_post_method": true,
    "is_request_path_exist": false,
    "is_request_query_exist": true,
    "is_request_body_exist": true,
    "api_auth_info_sheet": {
      "header_list": [
        "API Scope",
        "API Scope Type"
      ],
      "value_sheet": []
    },
    "api_auth_info_list": [
      {
        "package": "Update Delivery Status ",
        "package_type": "Public"
      }
    ],
    "is_shop_chiper_exist": true,
    "is_v2": true,
    "dynamic_configuration": {
      "common_error_code_link": "https://partner.tiktokshop.com/docv2/page/678e3a45786253031531b942",
      "common_param_link": "https://partner.tiktokshop.com/docv2/page/678e3a4278f4c20311b8b57e"
    },
    "sample_code": [
      {
        "label": "Curl",
        "key": "curl",
        "value": "curl -X POST \\\n 'https://open-api.tiktokglobalshop.com/fulfillment/202309/packages/deliver?sign=5361235029d141222525e303d742f9e38aea052d10896d3197ab9d6233730b8c&timestamp=1623812664&app_key=38abcd&shop_cipher=GCP_XF90igAAAABh00qsWgtvOiGFNqyubMt3' \\\n-H 'x-tts-access-token: TTP_pwSm2AAAAABmmtFz1xlyKMnwg74T2GJ5s0uQbS8jPjb_GkdFVCxPqzQXSyuyfXdQa0AqyDsea2tYFNVf4XeqgZHFfPyv0Vs659QqyLYfsGzanZ5XZAin3_ZkcIxxS0_In6u6XDeU96k' \\\n-H 'content-type: application/json' \\\n-d '{\n  \"packages\": [\n    {\n      \"id\": \"11529598723402\",\n      \"delivery_type\": \"DELIVERY_SUCCESS\",\n      \"fail_delivery_reason\": \"INVALID_ADDRESS\",\n      \"file_type\": \"IMG\",\n      \"file_url\": \"https://tiktok.shopcenter.cn/file/CWvBsBZ9mhbMiHtmbZecKshon6f?table=tblTW\"\n    }\n  ]\n}'",
        "language": "shell"
      },
      {
        "label": "Go",
        "key": "go",
        "value": "// For more details about the SDK, refer to the documentation:\n// https://partner.tiktokshop.com/docv2/page/67c83e0799a75104986ae498\nfunc fulfillment202309UpdatePackageDeliveryStatusPost() {\n    configuration := apis.NewConfiguration()\n    configuration.AddAppInfo(appKey, appSecret)\n    apiClient := apis.NewAPIClient(configuration)\n    request := apiClient.FulfillmentV202309API.Fulfillment202309PackagesDeliverPost(context.Background())\n    request = request.XTtsAccessToken(\"your access token\")\n    request = request.ContentType(\"application/json\")\n    request = request.ShopCipher(\"your shop cipher\")\n    fulfillment202309UpdatePackageDeliveryStatusRequestBody := fulfillment_v202309.NewFulfillment202309UpdatePackageDeliveryStatusRequestBody()\n    fulfillment202309UpdatePackageDeliveryStatusRequestBodyPackages := fulfillment_v202309.NewFulfillment202309UpdatePackageDeliveryStatusRequestBodyPackages()\n    fulfillment202309UpdatePackageDeliveryStatusRequestBodyPackages.SetId(\"11529598723402\")\n    fulfillment202309UpdatePackageDeliveryStatusRequestBodyPackages.SetDeliveryType(\"DELIVERY_SUCCESS\")\n    fulfillment202309UpdatePackageDeliveryStatusRequestBodyPackages.SetFailDeliveryReason(\"INVALID_ADDRESS\")\n    fulfillment202309UpdatePackageDeliveryStatusRequestBodyPackages.SetFileType(\"IMG\")\n    fulfillment202309UpdatePackageDeliveryStatusRequestBodyPackages.SetFileUrl(\"https://tiktok.shopcenter.cn/file/CWvBsBZ9mhbMiHtmbZecKshon6f?table=tblTW\")\n    fulfillment202309UpdatePackageDeliveryStatusRequestBodyPackagesList := []fulfillment_v202309.Fulfillment202309UpdatePackageDeliveryStatusRequestBodyPackages{*fulfillment202309UpdatePackageDeliveryStatusRequestBodyPackages}\n    fulfillment202309UpdatePackageDeliveryStatusRequestBody.SetPackages(fulfillment202309UpdatePackageDeliveryStatusRequestBodyPackagesList)\n    request = request.Fulfillment202309UpdatePackageDeliveryStatusRequestBody(*fulfillment202309UpdatePackageDeliveryStatusRequestBody)\n    resp, httpResp, err := request.Execute()\n    if err != nil || httpResp.StatusCode != 200 {\n        fmt.Printf(\"productsRequest err:%v resbody:%s\", err, httpResp.Body)\n        return\n    }\n    if resp == nil {\n        fmt.Printf(\"response is nil\")\n        return\n    }\n    if resp.GetCode()!= 0 {\n        fmt.Printf(\"response business is error, errorCode:%d errorMessage:%s\", resp.GetCode(), resp.GetMessage())\n        return\n    }\n    respDataJson, _ := json.MarshalIndent(resp.GetData(), \"\", \"  \")\n    fmt.Println(\"response data:\", string(respDataJson))\n    return\n}\n",
        "language": "go"
      },
      {
        "label": "Node.js",
        "key": "node",
        "value": "// For more details about the SDK, refer to the documentation:\n// https://partner.tiktokshop.com/docv2/page/67c83e0799a75104986ae498\nasync function fulfillment202309UpdatePackageDeliveryStatusPost() {\n    const fulfillment202309UpdatePackageDeliveryStatusRequestBody = new Fulfillment202309UpdatePackageDeliveryStatusRequestBody();\n    const fulfillment202309UpdatePackageDeliveryStatusRequestBodyPackages = new Fulfillment202309UpdatePackageDeliveryStatusRequestBodyPackages();\n    fulfillment202309UpdatePackageDeliveryStatusRequestBodyPackages.id = \"11529598723402\";\n    fulfillment202309UpdatePackageDeliveryStatusRequestBodyPackages.deliveryType = \"DELIVERY_SUCCESS\";\n    fulfillment202309UpdatePackageDeliveryStatusRequestBodyPackages.failDeliveryReason = \"INVALID_ADDRESS\";\n    fulfillment202309UpdatePackageDeliveryStatusRequestBodyPackages.fileType = \"IMG\";\n    fulfillment202309UpdatePackageDeliveryStatusRequestBodyPackages.fileUrl = \"https://tiktok.shopcenter.cn/file/CWvBsBZ9mhbMiHtmbZecKshon6f?table=tblTW\";\n    fulfillment202309UpdatePackageDeliveryStatusRequestBody.packages = [fulfillment202309UpdatePackageDeliveryStatusRequestBodyPackages];\n    const result = await client.api.FulfillmentV202309Api.PackagesDeliverPost(\"your access token\", \"application/json\", \"your shop cipher\", fulfillment202309UpdatePackageDeliveryStatusRequestBody);\n    console.log('response: ', JSON.stringify(result, null, 2));\n}\n",
        "language": "typescript"
      },
      {
        "label": "Java",
        "key": "java",
        "value": "// For more details about the SDK, refer to the documentation:\n// https://partner.tiktokshop.com/docv2/page/67c83e0799a75104986ae498\npublic void fulfillment202309UpdatePackageDeliveryStatusPost() throws Exception {\n    ApiClient defaultClient = Configuration.getDefaultApiClient()\n            .setAppkey(\"your appKey\")\n            .setSecret(\"your secret\")\n            .setBasePath(\"https://open-api.tiktokglobalshop.com\");\n    FulfillmentV202309Api apiInstance = new FulfillmentV202309Api(defaultClient);\n    UpdatePackageDeliveryStatusRequestBody updatePackageDeliveryStatusRequestBody = new UpdatePackageDeliveryStatusRequestBody();\n    UpdatePackageDeliveryStatusRequestBodyPackages updatePackageDeliveryStatusRequestBodyPackages = new tiktokshop.open.sdk_java.model.Fulfillment.V202309.UpdatePackageDeliveryStatusRequestBodyPackages();\n    updatePackageDeliveryStatusRequestBodyPackages.setId(\"11529598723402\");\n    updatePackageDeliveryStatusRequestBodyPackages.setDeliveryType(\"DELIVERY_SUCCESS\");\n    updatePackageDeliveryStatusRequestBodyPackages.setFailDeliveryReason(\"INVALID_ADDRESS\");\n    updatePackageDeliveryStatusRequestBodyPackages.setFileType(\"IMG\");\n    updatePackageDeliveryStatusRequestBodyPackages.setFileUrl(\"https://tiktok.shopcenter.cn/file/CWvBsBZ9mhbMiHtmbZecKshon6f?table=tblTW\");\n    List<UpdatePackageDeliveryStatusRequestBodyPackages> updatePackageDeliveryStatusRequestBodyPackagesList = new ArrayList<>(Arrays.asList(updatePackageDeliveryStatusRequestBodyPackages));\n    updatePackageDeliveryStatusRequestBody.setPackages(updatePackageDeliveryStatusRequestBodyPackagesList);\n    UpdatePackageDeliveryStatusResponse result = apiInstance.fulfillment202309PackagesDeliverPost(\"your access token\", \"application/json\", \"your shop cipher\", updatePackageDeliveryStatusRequestBody);\n    System.out.println(result);\n}\n",
        "language": "java"
      }
    ],
    "scenario": 1,
    "document_path": "update-package-delivery-status-202309",
    "scope_list": [
      {
        "package_id": 431876,
        "package_name": "Update Delivery Status ",
        "package_name_starling_key": "apipackage_pkg_name_431876",
        "package_description": "The Partner will be able to push a package to delivered status for seller which has transport capacity.",
        "package_status": 200,
        "package_type": 100,
        "auth_info_starling_key": "apipackage_pkg_authinfo_431876",
        "auth_info": "The Partner will be able to push a package to delivered status for seller which has transport capacity.",
        "auth_type": 1,
        "launch_time": 1677493326377,
        "update_time": 1739950452203,
        "create_time": 1677493326377,
        "operator": "liangxinsheng@bytedance.com",
        "package_description_starling_key": "apipackage_pkg_desc_431876",
        "scope_tags": [],
        "scope_key": "seller.delivery.status.write",
        "data_source_list": [
          100
        ]
      }
    ],
    "request_path_param": [],
    "api_request_path_sheet": {
      "header_list": [
        "Properties",
        "Type",
        "Required",
        "Properties description"
      ],
      "value_sheet": []
    }
  }
}