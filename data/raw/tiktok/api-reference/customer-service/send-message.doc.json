{
  "title": "Send Message",
  "content": "# Path: /customer_service/202309/conversations/{conversation_id}/messages\n# Method: [POST]\n# Function Description\nUse this API to send a message to the buyer in a conversation.\n\n---\n\n\n# Common Parameters\nFor common parameters, refer to [How to call TikTok Shop APIs - Common Parameters](https://partner.tiktokshop.com/docv2/page/64f199679495ef0281851ee5#Back%20To%20Top)\n| Properties <!-- width:110px --> | Location <!-- width:75px --> | Type <!-- width:75px --> | Require <!-- width:60px --> | Sample <!-- width:254px --> | Properties description <!-- width:254px --> |\n| --- | --- | --- | --- | --- | --- |\n| shop_cipher | query | string | Y | GCP_XF90igAAAABh00qsWgtvOiGFNqyubMt3 | Use this property to pass shop information in requesting the API. Failure in passing the correct value when requesting the API for cross-border shops will return incorrect response. |\n| Get by API [Get Authorization Shop](https://partner.tiktokshop.com/docv2/page/6507ead7b99d5302be949ba9?external_id=6507ead7b99d5302be949ba9) |  |  |  |  |  |\n| content-type | header | string | Y | application/json | Allowed type: application/json |\n# Request Path Parameters\n| Properties <!-- width:110px --> | Type <!-- width:90px --> | Require <!-- width:90px --> | Sample <!-- width:254px --> | Properties description <!-- width:254px --> |\n| --- | --- | --- | --- | --- |\n| conversation_id | string | Y | 7494560109732334262 | Conversation ID |\n# Request Query Parameters\n| Properties <!-- width:110px --> | Type <!-- width:90px --> | Require <!-- width:90px --> | Sample <!-- width:254px --> | Properties description <!-- width:254px --> |\n| --- | --- | --- | --- | --- |\n| app_key | string | Y | 38abcd | Every single app will have a unique key. Please use the specific key assigned to your app. |\n| sign | string | Y | 5361235029d141222525e303d742f9e38aea052d10896d3197ab9d6233730b8c | Signature generated by gen algorithm. When you send API requests to TTS, you must sign them so that TTS can identify the senders. |\n| timestamp | int | Y | 1623812664 | Unix timestamp GMT (UTC+00:00). This timestamp is used across all API requests. Developers can use this convert to local time. |\n# Request Body Parameters\n| Properties <!-- width:110px --> | Type <!-- width:90px --> | Require <!-- width:90px --> | Sample <!-- width:254px --> | Properties description <!-- width:254px --> |\n| --- | --- | --- | --- | --- |\n| type | string | Y | TEXT | Message type. Possible enumerations: |\n\n* `TEXT`\n* `IMAGE`\n* `PRODUCT_CARD`\n* `ORDER_CARD`\n* `RETURN_REFUND_CARD`\n* `COUPON_CARD` |\n   content |string |Y |{\"content\": \"test\"} |Message content, in JSON serialized string.\n\nExamples of content for each type of message are listed below:\n\n* TEXT:\n   {\n   \"content\": \"hi, I want to get refunded.\"\n   }\n   (Note: Max 2000 characters. Do not use sensitive words that violate TikTok Shop terms & policies.)\n* PRODUCT_CARD\n   {\n   \"product_id\": \"7494560109732334265\"\n   }\n* ORDER_CARD:\n   {\n   \"order_id\": \"7494560109732334267\"\n   }\n* RETURN_REFUND_CARD:\n   {\n   \"order_id\": \"7494560109732334267\",\n   \"sku_id\": \"7494560109732363423\"\n   }\n   Note: The order of the RETURN_REFUND_CARD to send must meet after-sale conditions. To check the eligibility, use [Get Aftersale Eligibility](650ab645c16ffe02b8f2e1c1).\n* IMAGE:\n   {\n   \"url\":\"https://p16-oec-va.ibyteimg.com/tos-maliva-i-o3syd03w52-us/2ca53c34ad8443e6b39f4e0153d3aed4~tplv-o3syd03w52-origin-image.image?from=1320446476\",\n   \"width\": 1280,\n   \"height\": 720\n   }\n\nNote: You can get the value of `url` by calling [Upload Buyer Messages Image](650a599d0fcef602bf2a1dc8).\n\n* COUPON_CARD:\n   {\n   \"coupon_id\": \"7262992004278206762\"\n   }\n   Note: Coupons that can be sent in a message must meet all the following conditions:\n1. `display_type==CHAT` or `display_type==REGULAR`\n2. `status==ONGOING`\n3. `creation_source==SELLER_CENTER`\n4. `target_buyer_segment!=REPEAT_CUSTOMERS` |\n\n# Request Sample\n**Query**\n```Plain Text\nhttps://open-api.tiktokglobalshop.com/customer_service/202309/conversations/7494560109732334262/messages?app_key=123abc&sign=5361235029d141222525e303d742f9e38aea052d10896d3197ab9d6233730b8c&timestamp=1625484268&shop_cipher=ROW_RHkDDABBAAB8tKAVoAqsMTjsQZFLyNfY\n```\n\n**Body**\n```json\n{\"type\":\"TEXT\",\"content\":\"{\\\"content\\\": \\\"test\\\"}\"}\n```\n\n# Response Parameters\n| Properties <!-- width:110px --> | Type <!-- width:90px --> | Sample <!-- width:289px --> | Properties description <!-- width:289px --> |\n| --- | --- | --- | --- |\n| code | int | 0 | The success or failure status code returned in API response. |\n| message | string | Success | The success or failure messages returned in API response. Reasons of failure will be described in the message. |\n| request_id | string | 202203070749000101890810281E8C70B7 | Request log |\n| data | object |  | Specific return information |\n| ^message_id | string | 7494560109732334261 | Message ID |\n# Response Sample\n```json\n{\"code\":0,\"data\":{\"message_id\":\"7494560109732334261\"},\"message\":\"Success\",\"request_id\":\"202203070749000101890810281E8C70B7\"}\n```\n\n# Error Code\nFor common error codes, refer to [How to call TikTok Shop APIs - Common Error Code](https://partner.tiktokshop.com/docv2/page/64f199679495ef0281851ee5#Back%20To%20Top)\n| Code <!-- width:250px --> | Message <!-- width:553px --> |\n| --- | --- |\n| 45101001 | Invalid parameter. Please check the parameters. |\n| 45101002 | Invalid params. The RETURN_REFUND_CARD must meet the conditions listed above. |\n| 45101003 | Record not found. Please check the parameters. |\n| 45101004 | The query quota has been reached (10000 request per day). Please try again tomorrow. |\n| 45101006 | You cannot send the message containing sensitive content. Please check the message. |\n| 36009003 | Internal error. Please try again. If the issue persists after multiple attempts, please contact platform support. |\n| 45102007 | No permission to access this conversation. There may be data corruption. Please try again later or contact the technical support team for help. |\n| 45109001 | Unable to send messages due to conversation rules. For details, please refer to [Customer Service API overview](659645f9a46cdd02bc8aeacf#Important%20Concepts). |\n| 45111001 | not support |\n| 45111012 | Failed to send the coupon card message due to exceeding the QPS limit. The QPS limit of sending coupon card messages is 0.5. |\n| 45111017 | Invalid params. The COUPON_CARD must meet the conditions listed above. |\n\n",
  "update_time": "1762482975",
  "view_count": 0,
  "prev_document_id": "650a599d0fcef602bf2a1dc8",
  "prev_document_path": "upload-buyer-messages-image-202309",
  "next_document_id": "650a59f7c16ffe02b8e8db3f",
  "next_document_path": "read-message-202309",
  "is_api_doc": true,
  "document_id": "650a58bbbace3e02b7556286",
  "doc_type": 1,
  "keywords": [
    {
      "keyword": "",
      "font_color": "#141414",
      "background_color": "#E6E6E6"
    }
  ]
}