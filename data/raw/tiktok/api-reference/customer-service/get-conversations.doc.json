{
  "title": "Get Conversations",
  "content": "# Path: /customer_service/202309/conversations\n# Method: [GET]\n# Function Description\nUse this API to retrieve a shop's conversations with buyers.\n\n---\n\n\n# Common Parameters\nFor common parameters, refer to [How to call TikTok Shop APIs - Common Parameters](https://partner.tiktokshop.com/docv2/page/64f199679495ef0281851ee5#Back%20To%20Top)\n| Properties <!-- width:110px --> | Location <!-- width:75px --> | Type <!-- width:75px --> | Require <!-- width:60px --> | Sample <!-- width:254px --> | Properties description <!-- width:254px --> |\n| --- | --- | --- | --- | --- | --- |\n| shop_cipher | query | string | Y | GCP_XF90igAAAABh00qsWgtvOiGFNqyubMt3 | Use this property to pass shop information in requesting the API. Failure in passing the correct value when requesting the API for cross-border shops will return incorrect response. |\n| Get by API [Get Authorization Shop](https://partner.tiktokshop.com/docv2/page/6507ead7b99d5302be949ba9?external_id=6507ead7b99d5302be949ba9) |  |  |  |  |  |\n| content-type | header | string | Y | application/json | Allowed type: application/json |\n# Request Query Parameters\n| Properties <!-- width:110px --> | Type <!-- width:90px --> | Require <!-- width:90px --> | Sample <!-- width:254px --> | Properties description <!-- width:254px --> |\n| --- | --- | --- | --- | --- |\n| app_key | string | Y | 38abcd | Every single app will have a unique key. Please use the specific key assigned to your app. |\n| sign | string | Y | 5361235029d141222525e303d742f9e38aea052d10896d3197ab9d6233730b8c | Signature generated by gen algorithm. When you send API requests to TTS, you must sign them so that TTS can identify the senders. |\n| timestamp | int | Y | 1623812664 | Unix timestamp GMT (UTC+00:00). This timestamp is used across all API requests. Developers can use this convert to local time. |\n| page_token | string | N | 1612356123 | Paging cursor, this means where this query should start. |\n| For the next page, use \"next_page_token\" in response. |  |  |  |  |\n| page_size | int | Y | 10 | Number of conversations on one page |\n| Max 20. |  |  |  |  |\n| locale | string | N | en | System message's display language. The messages sent by System will be returned in the setting language; The messages sent by the buyer, the shop, the CS agent will not be affected. The default value is en (English). |\nPossible enumerations:\n\n* de-DE (German, Germany)\n* en (English)\n* en-GB (English, United Kingdom)\n* es-ES (Spanish, Spain)\n* es-MX (Spanish, Latin America)\n* fr-FR (French, France)\n* id-ID (Indonesian, Indonesia)\n* it-IT (Italian, Italy)\n* ja-JP (Japanese)\n* ms-MY (Malay, Malaysia)\n* th-TH (Thai, Thailand)\n* vi-VN (Vietnamese, Vietnam)\n* pt-BR (Portuguese, Brazil)\n* zh-CN (Simplified Chinese, China) |\n\n# Request Sample\n**Query**\n```Plain Text\nhttps://open-api.tiktokglobalshop.com/customer_service/202309/conversations?app_key=123abc&sign=5361235029d141222525e303d742f9e38aea052d10896d3197ab9d6233730b8c&timestamp=1625484268&shop_cipher=ROW_RHkDDABBAAB8tKAVoAqsMTjsQZFLyNfY&page_token=1612356123&page_size=10&locale=en\n```\n\n# Response Parameters\n| Properties <!-- width:110px --> | Type <!-- width:90px --> | Sample <!-- width:289px --> | Properties description <!-- width:289px --> |\n| --- | --- | --- | --- |\n| code | int | 0 | The success or failure status code returned in API response. |\n| message | string | Success | The success or failure messages returned in API response. Reasons of failure will be described in the message. |\n| request_id | string | 202203070749000101890810281E8C70B7 | Request log |\n| data | object |  | Specific return information |\n| ^next_page_token | string | 1612353423 | The index indicates where we should start on the next page. |\n| If there is no more record, this field will be \"\"(empty string). |  |  |  |\n| Put this value to request param \"page_token\" for the next page query. |  |  |  |\n| ^conversations | []object |  | Conversation info. |\n|  |  |  |  |\n| ^^id | string | 7494560109732334261 | Conversation ID |\n| ^^participant_count | int | 3 | Number of participants in the conversation. |\n\n* If there has been no customer service agent in the conversation, the value is `2`: the shop and the buyer;\n* Otherwise, the value is `3`: the shop, the buyer, and the customer service agent. |\n   ^^can_send_message |bool |true |Whether customer service agent can send message in this conversation. Under any of the following circumstances, the CS agent can send messages:\n1. There has been a prior conversation between the buyer and the shop within the last 30 days.\n2. The buyer placed an order at the shop within the past 60 days.\n3. The buyer has a history of returns or refunds at the shop. |\n   ^^unread_count |int |0 |Number of messages unread by the customer service agent. |\n   ^^create_time |int |1691411573 |Unix timestamp when the conversation was created. In seconds. |\n   ^^participants |[]object | |Conversation participants. |\n   ^^^im_user_id |string |7494560109732334261 |Participant's ID, in IM system. This ID is used in IM system and can not be used to query orders. To query orders, use `user_id` instead. |\n   ^^^avatar |string |https://p16-oec-ttp.tiktokcdn-us.com/tos-useast5-i-omjb5zjo8w-tx/566c497faaaf4491a84d3ce55d9cb095~tplv-omjb5zjo8w-origin-image.image? |Participant's avatar URL.\n   |\n   ^^^user_id |string |7494560109732334262 |Participant's ID. |\n   ^^^role |string |BUYER |Participant's role.\n   Possible enumerations:\n* `BUYER`\n* `SHOP`\n* `CUSTOMER_SERVICE` |\n   ^^^nickname |string |Albert |Participant's nickname. |\n   ^^^buyer_platform |string |TIKTOK_SHOP |Which platform is the buyer from.\n   This field will only be returned when the role is `BUYER` and the region is Indonesia. Possible enumerations:\n* TIKTOK_SHOP\n* TOKOPEDIA\n   You cannot send platform-specific content to the buyer from a different platform. For example, when you send a product card to the Tokopedia buyer, you must ensure the product is listed on Tokopedia. |\n   ^^latest_message |object | |The latest message in conversation. |\n   ^^^id |string |7494560109732334263 |Message ID. |\n   ^^^type |string |TEXT |Message type.\n   Possible enumerations:\n* TEXT\n* IMAGE\n* ALLOCATED_SERVICE - A customer service agent joins the conversation.\n* NOTIFICATION - Notification from the system.\n* BUYER_ENTER_FROM_TRANSFER : The conversation is transferred to another customer service agent.\n* BUYER_ENTER_FROM_PRODUCT : The buyer is viewing a product before sending this message.\n* BUYER_ENTER_FROM_ORDER : The buyer is viewing an order before sending this message.\n* PRODUCT_CARD\n* EMOTICONS\n* ORDER_CARD\n* VIDEO\n* RETURN_REFUND_CARD: Return/refund card.\n* COUPON_CARD\n* OTHER: Messages of types not supported in this API. |\n   ^^^content |string |{\"content\": \"simple text message\"} |Message content, in JSON serialized string.\n   Examples of content for each type of message are listed below:\n* TEXT:\n\n```Plain Text\n{\n    \"content\": \"simple text\"\n}\n```\n\n\n* IMAGE:\n\n```Plain Text\n{\n    \"height\": \"290\",\n    \"url\": \"https://tosv.boei18n.byted.org/obj/temai-im/FszkJ53nSapYG6KDaJQmqR3jjoZGwww304-290\",\n    \"width\": \"304\"\n}\n```\n\n\n* PRODUCT_CARD, BUYER_ENTER_FROM_PRODUCT:\n\n```Plain Text\n{\n    \"product_id\": \"12345\"\n}\n```\n\n\n* ORDER_CARD, BUYER_ENTER_FROM_ORDER :\n\n```Plain Text\n{\n    \"order_id\": \"12345\"\n}\n```\n\n\n* RETURN_REFUND_CARD:\n\n```Plain Text\n{\n    \"order_id\": \"12345\",\n    \"sku_id\": \"45678\"\n}\n```\n\n\n* VIDEO:\n\n```Plain Text\n{\n    \"url\": \"https://video-boei18n.byted.org/storage/v1/tos-boei18n-v-c72c01/e8240f35244646428df9c3244d1a7408?x-tos-algorithm=v2&x-tos-authkey=5bf25627da095a5cba28ace592de46cc&x-tos-expires=1681980481&x-tos-signature=r_bRxtrvGhXAuZgMmNhlZ_Upqzg\",\n    \"cover\": \"https://p-boei18n.byted.org/tos-boei18n-v-c72c01/o8keEOhzTcNCcJyAbkWZwpLIyTfkJxcGbRBvLP~tplv-jvtte31kaf-origin-jpeg.jpeg?\",\n    \"width\": 640,\n    \"height\": 360,\n    \"duration\": \"20.504\",\n    \"vid\": \"v0e30cg700f7cgcmu8jc77u9e2bdp95g\",\n    \"expire_time\": \"1681980481\",\n    \"format\": \"mp4\",\n    \"size\": 400000,\n    \"bit_rate\": 156067,\n    \"quality\": \"original\",\n    \"codec_type\": \"h264\"\n}\n```\n\n\n* ALLOCATED_SERVICE, NOTIFICATION, BUYER_ENTER_FROM_TRANSFER, OTHER:\n\n```Plain Text\n{\n    \"content\": \"simple text\"\n}\n```\n\n\n* COUPON_CARD:\n\n```Plain Text\n{\n    \"coupon_id\": \"7262992004278206762\"\n}\n```\n\nNote: Use [Get Coupon](6699dce0de15e502ed219e37) for the details of the coupon. |\n^^^create_time |int |1691411573 |Unix timestamp for creating the message in seconds. |\n^^^is_visible |bool |true |Whether this message should be displayed to customer service.\nFor example, the buyer will receive a rating request message at the end of the conversation from the system. You should not present this type of message to the seller or the customer support agents. |\n^^^sender |object | |Sender of the message. |\n^^^^im_user_id |string |7494560109732334261 |Sender's IM ID. Sender's unique identifier in TikTok Shop's IM system. |\n^^^^avatar |string |https://p16-oec-ttp.tiktokcdn-us.com/tos-useast5-i-omjb5zjo8w-tx/566c497faaaf4491a84d3ce55d9cb095~tplv-omjb5zjo8w-origin-image.image? |Sender's avatar URL.\n|\n^^^^role |string |BUYER |Sender's role. Possible enumerations:\n\n* `BUYER`\n* `SHOP`\n* `CUSTOMER_SERVICE`\n* `SYSTEM`\n* `ROBOT`\n   For `SYSTEM` and `ROBOT` role, the value of `im_user_id`, `nickname`, and `avatar` are the same as those of the `SHOP` role. |\n   ^^^^nickname |string |Albert |Sender's nickname.\n* For shops, the nickname is the shop's name.\n* For customer service, the nickname is the customer service's name.\n* For buyers, the nickname is the buyer's nickname on TikTok.\n   You can set the nicknames for shops and customer service agents on Seller Center. |\n   ^^^index |string |7494560109732334274 |Message index. This field can be used to sort messages.\n   \"index\" means the order of the message in the conversation. This value is unique for every message in a conversation. This value is time-related, meaning a newer message will get a larger \"index\". But it is not strictly increasing. |\n\n# Response Sample\n```json\n{\"code\":0,\"data\":{\"next_page_token\":\"1612353423\",\"conversations\":[{\"id\":\"7494560109732334261\",\"participant_count\":3,\"can_send_message\":true,\"unread_count\":0,\"create_time\":1691411573,\"participants\":[{\"im_user_id\":\"7494560109732334261\",\"avatar\":\"https://p16-oec-ttp.tiktokcdn-us.com/tos-useast5-i-omjb5zjo8w-tx/566c497faaaf4491a84d3ce55d9cb095~tplv-omjb5zjo8w-origin-image.image?\",\"user_id\":\"7494560109732334262\",\"role\":\"BUYER\",\"nickname\":\"Albert\",\"buyer_platform\":\"TIKTOK_SHOP\"}],\"latest_message\":{\"id\":\"7494560109732334263\",\"type\":\"TEXT\",\"content\":\"{\\\"content\\\": \\\"simple text message\\\"}\",\"create_time\":1691411573,\"is_visible\":true,\"sender\":{\"im_user_id\":\"7494560109732334261\",\"avatar\":\"https://p16-oec-ttp.tiktokcdn-us.com/tos-useast5-i-omjb5zjo8w-tx/566c497faaaf4491a84d3ce55d9cb095~tplv-omjb5zjo8w-origin-image.image?\",\"role\":\"BUYER\",\"nickname\":\"Albert\"},\"index\":\"7494560109732334274\"}}]},\"message\":\"Success\",\"request_id\":\"202203070749000101890810281E8C70B7\"}\n```\n\n# Error Code\nFor common error codes, refer to [How to call TikTok Shop APIs - Common Error Code](https://partner.tiktokshop.com/docv2/page/64f199679495ef0281851ee5#Back%20To%20Top)\n| Code <!-- width:250px --> | Message <!-- width:553px --> |\n| --- | --- |\n| 45101001 | Internal error. Please try again later or contact the technical support team for help. |\n| 45101003 | Record not found. Please check the parameters. |\n| 45101004 | The query quota has been reached (10000 request per day). Please try again tomorrow. |\n| 36009003 | Internal error. Please try again. If the issue persists after multiple attempts, please contact platform support. |\n\n",
  "update_time": "1762482978",
  "view_count": 0,
  "prev_document_id": "650a5a0bf1fd3102b9245b8d",
  "prev_document_path": "create-conversation-202309",
  "next_document_id": "650a587edefece02be664cd2",
  "next_document_path": "get-conversation-messages-202309",
  "is_api_doc": true,
  "document_id": "650a589f0fcef602bf29fecf",
  "doc_type": 1,
  "keywords": [
    {
      "keyword": "",
      "font_color": "#141414",
      "background_color": "#E6E6E6"
    }
  ]
}