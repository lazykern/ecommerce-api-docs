{
  "document_id": "search-order-by-external-order-reference-202406",
  "document_api_meta": {
    "interface_path": "/order/202406/orders/external_order_search",
    "title": "Search Order By External Order Reference",
    "env_desc": "If you have used the `Add External Order References` API to sync information from your external order management system (OMS) to corresponding orders in TikTok Shop, you may call this API to search for order information in TikTok Shop based on information in your OMS.",
    "method": 1,
    "query": "https://open-api.tiktokglobalshop.com/order/202406/orders/external_order_search?app_key=123abc&sign=5361235029d141222525e303d742f9e38aea052d10896d3197ab9d6233730b8c&timestamp=1625484268&shop_cipher=ROW_RHkDDABBAAB8tKAVoAqsMTjsQZFLyNfY&platform=SHOPIFY&external_order_id=676461413038785752",
    "request_header_param": [
      {
        "name": "content-type",
        "type": "string",
        "required": "Y",
        "desc": "Allowed type: application/json"
      },
      {
        "name": "x-tts-access-token",
        "type": "string",
        "required": "Y",
        "desc": "The seller access_token value from [Get Access Token](https://partner.tiktokshop.com/docv2/page/678e3a3292b0f40314a92d75#Get%20Access%20Token%20API), when user_type = 0. Follow this [guide](https://partner.tiktokshop.com/docv2/page/678e3a344ddec3030b238fa0) to get seller access_token."
      }
    ],
    "request_query_param": [
      {
        "name": "app_key",
        "type": "string",
        "required": "Y",
        "desc": "Every single app will have a unique key. Please use the specific key assigned to your app."
      },
      {
        "name": "sign",
        "type": "string",
        "required": "Y",
        "desc": "Signature generated by gen algorithm. When you send API requests to TTS, you must sign them so that TTS can identify the senders. "
      },
      {
        "name": "timestamp",
        "type": "int",
        "required": "Y",
        "desc": "Unix timestamp GMT (UTC+00:00). This timestamp is used across all API requests. Developers can use this convert to local time."
      },
      {
        "name": "platform",
        "type": "string",
        "required": "Y",
        "desc": "The alias of your external order management system (OMS).\nPossible values:\n- SHOPIFY\n- WOOCOMMERCE\n- BIGCOMMERCE\n- MAGENTO\n- SALESFORCE_COMMERCE_CLOUD\n- CHANNEL_ADVISOR\n- AMAZON\n- ORDER_MANAGEMENT_SYSTEM\n- WAREHOUSE_MANAGEMENT_SYSTEM\n- ERP_SYSTEM"
      },
      {
        "name": "external_order_id",
        "type": "string",
        "required": "Y",
        "desc": "Order ID in your OMS."
      },
      {
        "name": "shop_cipher",
        "type": "string",
        "required": "Y",
        "desc": "Use this property to pass shop information in requesting the API. Failure in passing the correct value when requesting the API for cross-border shops will return incorrect response. \nGet by API [Get Authorization Shop](https://partner.tiktokshop.com/docv2/page/6507ead7b99d5302be949ba9?external_id=6507ead7b99d5302be949ba9)"
      }
    ],
    "request_body_param": [],
    "response_param": [
      {
        "name": "code",
        "type": "int",
        "required": "N",
        "example": "0",
        "desc": "The success or failure status code returned in API response."
      },
      {
        "name": "message",
        "type": "string",
        "required": "N",
        "example": "Success",
        "desc": "The success or failure messages returned in API response. Reasons of failure will be described in the message."
      },
      {
        "name": "request_id",
        "type": "string",
        "required": "N",
        "example": "202203070749000101890810281E8C70B7",
        "desc": "Request log"
      },
      {
        "name": "data",
        "type": "object",
        "required": "N",
        "example": "",
        "desc": "Specific return information"
      },
      {
        "name": "^orders",
        "type": "[]object",
        "required": "N",
        "example": "",
        "desc": "A list of returned orders.\n"
      },
      {
        "name": "^^id",
        "type": "string",
        "required": "N",
        "example": "576461413038785752",
        "desc": "The unique identifier for a TikTok Shop order.\n"
      },
      {
        "name": "^^external_order",
        "type": "object",
        "required": "N",
        "example": "",
        "desc": "Order in your OMS.\n"
      },
      {
        "name": "^^^id",
        "type": "string",
        "required": "N",
        "example": "676461413038785752",
        "desc": "Order ID in your OMS.\n"
      },
      {
        "name": "^^^platform",
        "type": "string",
        "required": "N",
        "example": "SHOPIFY",
        "desc": "The alias of your OMS.\n"
      },
      {
        "name": "^^^line_items",
        "type": "[]object",
        "required": "N",
        "example": "",
        "desc": "Line items in the order.\n"
      },
      {
        "name": "^^^^id",
        "type": "string",
        "required": "N",
        "example": "577086512123755123",
        "desc": "Line item ID in your OMS.\n"
      },
      {
        "name": "^^^^origin_id",
        "type": "string",
        "required": "N",
        "example": "677086512123755123",
        "desc": "Line item ID in TikTok Shop.\n"
      }
    ],
    "error_code_list": [],
    "request_body": "{}",
    "response_body": "{\"code\":0,\"data\":{\"orders\":[{\"id\":\"576461413038785752\",\"external_order\":{\"id\":\"676461413038785752\",\"platform\":\"SHOPIFY\",\"line_items\":[{\"id\":\"577086512123755123\",\"origin_id\":\"677086512123755123\"}]}}]},\"message\":\"Success\",\"request_id\":\"202203070749000101890810281E8C70B7\"}",
    "title_list": [
      "Common Require / 公共入参",
      "API Require / API入参",
      "Require Sample / 请求示例",
      "API Response / API出参",
      "ResponseSample / 响应示例",
      "Error Code / 错误码",
      "Feedback / 文档反馈"
    ],
    "error_code_sheet": {
      "header_list": [
        "Code",
        "Message"
      ],
      "value_sheet": []
    },
    "api_request_header_sheet": {
      "header_list": [
        "Properties",
        "Type",
        "Required",
        "Properties description"
      ],
      "value_sheet": []
    },
    "api_request_query_sheet": {
      "header_list": [
        "Properties",
        "Type",
        "Required",
        "Properties description"
      ],
      "value_sheet": []
    },
    "api_request_body_sheet": {
      "header_list": [
        "Properties",
        "Type",
        "Required",
        "Properties description"
      ],
      "value_sheet": []
    },
    "api_response_sheet": {
      "header_list": [
        "Properties",
        "Type",
        "Sample",
        "Properties description"
      ],
      "value_sheet": []
    },
    "is_post_method": true,
    "is_request_path_exist": false,
    "is_request_query_exist": true,
    "is_request_body_exist": false,
    "api_auth_info_sheet": {
      "header_list": [
        "API Scope",
        "API Scope Type"
      ],
      "value_sheet": []
    },
    "api_auth_info_list": [
      {
        "package": "QA test EU",
        "package_type": "Private"
      }
    ],
    "is_shop_chiper_exist": true,
    "is_v2": true,
    "dynamic_configuration": {
      "common_error_code_link": "https://partner.tiktokshop.com/docv2/page/678e3a45786253031531b942",
      "common_param_link": "https://partner.tiktokshop.com/docv2/page/678e3a4278f4c20311b8b57e"
    },
    "sample_code": [
      {
        "label": "Curl",
        "key": "curl",
        "value": "curl -X POST \\\n 'https://open-api.tiktokglobalshop.com/order/202406/orders/external_order_search?external_order_id=676461413038785752&app_key=38abcd&sign=5361235029d141222525e303d742f9e38aea052d10896d3197ab9d6233730b8c&timestamp=1623812664&shop_cipher=GCP_XF90igAAAABh00qsWgtvOiGFNqyubMt3&platform=SHOPIFY' \\\n-H 'content-type: application/json' \\\n-H 'x-tts-access-token: TTP_pwSm2AAAAABmmtFz1xlyKMnwg74T2GJ5s0uQbS8jPjb_GkdFVCxPqzQXSyuyfXdQa0AqyDsea2tYFNVf4XeqgZHFfPyv0Vs659QqyLYfsGzanZ5XZAin3_ZkcIxxS0_In6u6XDeU96k' \\\n-d '{}'",
        "language": "shell"
      },
      {
        "label": "Go",
        "key": "go",
        "value": "// For more details about the SDK, refer to the documentation:\n// https://partner.tiktokshop.com/docv2/page/67c83e0799a75104986ae498\nfunc order202406SearchOrderByExternalOrderReferencePost() {\n    configuration := apis.NewConfiguration()\n    configuration.AddAppInfo(appKey, appSecret)\n    apiClient := apis.NewAPIClient(configuration)\n    request := apiClient.OrderV202406API.Order202406OrdersExternalOrderSearchPost(context.Background())\n    request = request.XTtsAccessToken(\"your access token\")\n    request = request.ContentType(\"application/json\")\n    request = request.Platform(\"SHOPIFY\")\n    request = request.ExternalOrderId(\"676461413038785752\")\n    request = request.ShopCipher(\"your shop cipher\")\n    resp, httpResp, err := request.Execute()\n    if err != nil || httpResp.StatusCode != 200 {\n        fmt.Printf(\"productsRequest err:%v resbody:%s\", err, httpResp.Body)\n        return\n    }\n    if resp == nil {\n        fmt.Printf(\"response is nil\")\n        return\n    }\n    if resp.GetCode()!= 0 {\n        fmt.Printf(\"response business is error, errorCode:%d errorMessage:%s\", resp.GetCode(), resp.GetMessage())\n        return\n    }\n    respDataJson, _ := json.MarshalIndent(resp.GetData(), \"\", \"  \")\n    fmt.Println(\"response data:\", string(respDataJson))\n    return\n}\n",
        "language": "go"
      },
      {
        "label": "Node.js",
        "key": "node",
        "value": "// For more details about the SDK, refer to the documentation:\n// https://partner.tiktokshop.com/docv2/page/67c83e0799a75104986ae498\nasync function order202406SearchOrderByExternalOrderReferencePost() {\n    const result = await client.api.OrderV202406Api.OrdersExternalOrderSearchPost(\"SHOPIFY\", \"676461413038785752\", \"your access token\", \"application/json\", \"your shop cipher\");\n    console.log('response: ', JSON.stringify(result, null, 2));\n}\n",
        "language": "typescript"
      },
      {
        "label": "Java",
        "key": "java",
        "value": "// For more details about the SDK, refer to the documentation:\n// https://partner.tiktokshop.com/docv2/page/67c83e0799a75104986ae498\npublic void order202406SearchOrderByExternalOrderReferencePost() throws Exception {\n    ApiClient defaultClient = Configuration.getDefaultApiClient()\n            .setAppkey(\"your appKey\")\n            .setSecret(\"your secret\")\n            .setBasePath(\"https://open-api.tiktokglobalshop.com\");\n    OrderV202406Api apiInstance = new OrderV202406Api(defaultClient);\n    SearchOrderByExternalOrderReferenceResponse result = apiInstance.order202406OrdersExternalOrderSearchPost(\"SHOPIFY\", \"676461413038785752\", \"your access token\", \"application/json\", \"your shop cipher\");\n    System.out.println(result);\n}\n",
        "language": "java"
      }
    ],
    "scenario": 1,
    "document_path": "search-order-by-external-order-reference-202406",
    "scope_list": [
      {
        "package_id": 1033028,
        "package_name": "Read External Order References",
        "package_name_starling_key": "",
        "package_description": "This application will be able to retrieve information on the mapping between order IDs from other platforms (e.g., DTC, OMS, ERPs) and TikTok order IDs.",
        "package_status": 200,
        "package_type": 200,
        "auth_info_starling_key": "",
        "auth_info": "This application will be able to retrieve information on the mapping between order IDs from other platforms (e.g., DTC, OMS, ERPs) and TikTok order IDs.",
        "auth_type": 1,
        "launch_time": 1722397514248,
        "update_time": 1754022214115,
        "create_time": 1722397514249,
        "operator": "shenxiaochuan@bytedance.com",
        "package_description_starling_key": "",
        "scope_tags": [],
        "scope_key": "seller.order.ext_ref.read",
        "data_source_list": [
          100
        ]
      }
    ],
    "request_path_param": [],
    "api_request_path_sheet": {
      "header_list": [
        "Properties",
        "Type",
        "Required",
        "Properties description"
      ],
      "value_sheet": []
    }
  }
}