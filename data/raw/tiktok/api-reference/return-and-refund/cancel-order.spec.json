{
  "document_id": "cancel-order-202309",
  "document_api_meta": {
    "interface_path": "/return_refund/202309/cancellations",
    "title": "Cancel Order",
    "env_desc": "Use this API to cancel an order on behalf of a seller. In the US and UK markets, when an item is out of stock, partial cancellation on the single item level is supported by this API.",
    "method": 1,
    "query": "https://open-api.tiktokglobalshop.com/return_refund/202309/cancellations?app_key=123abc&sign=5361235029d141222525e303d742f9e38aea052d10896d3197ab9d6233730b8c&timestamp=1625484268&shop_cipher=ROW_RHkDDABBAAB8tKAVoAqsMTjsQZFLyNfY",
    "request_header_param": [
      {
        "name": "content-type",
        "type": "string",
        "required": "Y",
        "desc": "Allowed type: application/json"
      },
      {
        "name": "x-tts-access-token",
        "type": "string",
        "required": "Y",
        "desc": "The seller access_token value from [Get Access Token](https://partner.tiktokshop.com/docv2/page/678e3a3292b0f40314a92d75#Get%20Access%20Token%20API), when user_type = 0. Follow this [guide](https://partner.tiktokshop.com/docv2/page/678e3a344ddec3030b238fa0) to get seller access_token."
      }
    ],
    "request_query_param": [
      {
        "name": "app_key",
        "type": "string",
        "required": "N",
        "desc": "Every single app will have a unique key. Please use the specific key assigned to your app."
      },
      {
        "name": "sign",
        "type": "string",
        "required": "N",
        "desc": "Signature generated by gen algorithm. When you send API requests to TTS, you must sign them so that TTS can identify the senders. "
      },
      {
        "name": "timestamp",
        "type": "int",
        "required": "N",
        "desc": "Unix timestamp GMT (UTC+00:00). This timestamp is used across all API requests. Developers can use this convert to local time."
      },
      {
        "name": "shop_cipher",
        "type": "string",
        "required": "Y",
        "desc": "Use this property to pass shop information in requesting the API. Failure in passing the correct value when requesting the API for cross-border shops will return incorrect response. \nGet by API [Get Authorization Shop](https://partner.tiktokshop.com/docv2/page/6507ead7b99d5302be949ba9?external_id=6507ead7b99d5302be949ba9)"
      }
    ],
    "request_body_param": [
      {
        "name": "order_id",
        "type": "string",
        "required": "Y",
        "desc": "TikTok Shop order id"
      },
      {
        "name": "skus",
        "type": "[]object",
        "required": "N",
        "desc": "List of SKU to cancel"
      },
      {
        "name": "^sku_id",
        "type": "string",
        "required": "Y",
        "desc": "The SKU id to cancel"
      },
      {
        "name": "^quantity",
        "type": "int",
        "required": "Y",
        "desc": "The quantity of SKU to cancel"
      },
      {
        "name": "order_line_item_ids",
        "type": "[]string",
        "required": "N",
        "desc": "List of order line item ids to cancel. In the US and UK markets, when an item is out of stock, partial cancellation on the single item level is supported. To initiate a partial cancellation, specify the item's order line id."
      },
      {
        "name": "cancel_reason",
        "type": "string",
        "required": "Y",
        "desc": "Reason to cancel the order \nPlease see \"Return API Overview\" for a list of reasons a seller can select to cancel the order. "
      }
    ],
    "response_param": [
      {
        "name": "code",
        "type": "int",
        "required": "N",
        "example": "0",
        "desc": "The success or failure status code returned in API response."
      },
      {
        "name": "message",
        "type": "string",
        "required": "N",
        "example": "Success",
        "desc": "The success or failure messages returned in API response. Reasons of failure will be described in the message."
      },
      {
        "name": "request_id",
        "type": "string",
        "required": "N",
        "example": "202203070749000101890810281E8C70B7",
        "desc": "Request log"
      },
      {
        "name": "data",
        "type": "object",
        "required": "N",
        "example": "",
        "desc": "Specific return information"
      },
      {
        "name": "^cancel_id",
        "type": "string",
        "required": "N",
        "example": "4035319218955782461",
        "desc": "The identifier of a specific order cancellation."
      },
      {
        "name": "^cancel_status",
        "type": "string",
        "required": "N",
        "example": "CANCELLATION_REQUEST_SUCCESS",
        "desc": "The status of an order cancellation request. \nAvailable values:\n- CANCELLATION_REQUEST_PENDING\n- CANCELLATION_REQUEST_SUCCESS\n- CANCELLATION_REQUEST_CANCEL\n- CANCELLATION_REQUEST_COMPLETE"
      }
    ],
    "error_code_list": [
      {
        "code": "25001001",
        "msg": "An invalid request parameter was passed. Please check that you have the correct parameter type(s) and format."
      },
      {
        "code": "25001011",
        "msg": "A return request is already in process, or the order has already been cancelled."
      },
      {
        "code": "25001014",
        "msg": "Unknown return reason. Please ensure you are passing a valid return reason."
      },
      {
        "code": "25001015",
        "msg": "The provided return reason cannot be used by the seller. Please select a valid return reason and try again."
      },
      {
        "code": "25001020",
        "msg": "The provided return reason is currently offline. Please select a different return reason."
      },
      {
        "code": "25001021",
        "msg": "Reason not match order status"
      },
      {
        "code": "25001028",
        "msg": "reverse lock failed"
      },
      {
        "code": "25001045",
        "msg": "The order has already been shipped and we are unable to cancel shipment with the courier."
      },
      {
        "code": "25001046",
        "msg": "Return request has failed due to an interception by TikTok risk control."
      },
      {
        "code": "25001051",
        "msg": "Not allowed to return or cancel since order is completed or cancelled"
      },
      {
        "code": "25005010",
        "msg": "Unable to cancel individual line items within this request."
      },
      {
        "code": "25005011",
        "msg": "The requested line item(s) for return or refund exceeds the allowable limit."
      },
      {
        "code": "25020005",
        "msg": "No permission to process this order"
      },
      {
        "code": "36009003",
        "msg": "Internal error. Please try again. If the issue persists after multiple attempts, please contact platform support."
      }
    ],
    "request_body": "{\"order_id\":\"577087614418520388\",\"skus\":[{\"sku_id\":\"1729386416015578024\",\"quantity\":1}],\"order_line_item_ids\":[\"577087614418716996\"],\"cancel_reason\":\"ecom_order_delivered_refund_and_return_reason_wrong_product_seller\"}",
    "response_body": "{\"code\":0,\"data\":{\"cancel_id\":\"4035319218955782461\",\"cancel_status\":\"CANCELLATION_REQUEST_SUCCESS\"},\"message\":\"Success\",\"request_id\":\"202203070749000101890810281E8C70B7\"}",
    "title_list": [
      "Common Require / 公共入参",
      "API Require / API入参",
      "Require Sample / 请求示例",
      "API Response / API出参",
      "ResponseSample / 响应示例",
      "Error Code / 错误码",
      "Feedback / 文档反馈"
    ],
    "error_code_sheet": {
      "header_list": [
        "Code",
        "Message"
      ],
      "value_sheet": []
    },
    "api_request_header_sheet": {
      "header_list": [
        "Properties",
        "Type",
        "Required",
        "Properties description"
      ],
      "value_sheet": []
    },
    "api_request_query_sheet": {
      "header_list": [
        "Properties",
        "Type",
        "Required",
        "Properties description"
      ],
      "value_sheet": []
    },
    "api_request_body_sheet": {
      "header_list": [
        "Properties",
        "Type",
        "Required",
        "Properties description"
      ],
      "value_sheet": []
    },
    "api_response_sheet": {
      "header_list": [
        "Properties",
        "Type",
        "Sample",
        "Properties description"
      ],
      "value_sheet": []
    },
    "is_post_method": true,
    "is_request_path_exist": false,
    "is_request_query_exist": true,
    "is_request_body_exist": true,
    "api_auth_info_sheet": {
      "header_list": [
        "API Scope",
        "API Scope Type"
      ],
      "value_sheet": []
    },
    "api_auth_info_list": [
      {
        "package": "Return & Refund Basic",
        "package_type": "Public"
      }
    ],
    "is_shop_chiper_exist": true,
    "is_v2": true,
    "dynamic_configuration": {
      "common_error_code_link": "https://partner.tiktokshop.com/docv2/page/678e3a45786253031531b942",
      "common_param_link": "https://partner.tiktokshop.com/docv2/page/678e3a4278f4c20311b8b57e"
    },
    "sample_code": [
      {
        "label": "Curl",
        "key": "curl",
        "value": "curl -X POST \\\n 'https://open-api.tiktokglobalshop.com/return_refund/202309/cancellations?app_key=38abcd&sign=5361235029d141222525e303d742f9e38aea052d10896d3197ab9d6233730b8c&timestamp=1623812664&shop_cipher=GCP_XF90igAAAABh00qsWgtvOiGFNqyubMt3' \\\n-H 'x-tts-access-token: TTP_pwSm2AAAAABmmtFz1xlyKMnwg74T2GJ5s0uQbS8jPjb_GkdFVCxPqzQXSyuyfXdQa0AqyDsea2tYFNVf4XeqgZHFfPyv0Vs659QqyLYfsGzanZ5XZAin3_ZkcIxxS0_In6u6XDeU96k' \\\n-H 'content-type: application/json' \\\n-d '{\n  \"order_id\": \"577087614418520388\",\n  \"skus\": [\n    {\n      \"sku_id\": \"1729386416015578024\",\n      \"quantity\": 1\n    }\n  ],\n  \"order_line_item_ids\": [\n    \"577087614418716996\"\n  ],\n  \"cancel_reason\": \"ecom_order_delivered_refund_and_return_reason_wrong_product_seller\"\n}'",
        "language": "shell"
      },
      {
        "label": "Go",
        "key": "go",
        "value": "// For more details about the SDK, refer to the documentation:\n// https://partner.tiktokshop.com/docv2/page/67c83e0799a75104986ae498\nfunc returnRefund202309CancelOrderPost() {\n    configuration := apis.NewConfiguration()\n    configuration.AddAppInfo(appKey, appSecret)\n    apiClient := apis.NewAPIClient(configuration)\n    request := apiClient.ReturnRefundV202309API.ReturnRefund202309CancellationsPost(context.Background())\n    request = request.XTtsAccessToken(\"your access token\")\n    request = request.ContentType(\"application/json\")\n    request = request.ShopCipher(\"your shop cipher\")\n    returnRefund202309CancelOrderRequestBody := returnRefund_v202309.NewReturnRefund202309CancelOrderRequestBody()\n    returnRefund202309CancelOrderRequestBody.SetOrderId(\"577087614418520388\")\n    returnRefund202309CancelOrderRequestBodySkus := returnRefund_v202309.NewReturnRefund202309CancelOrderRequestBodySkus()\n    returnRefund202309CancelOrderRequestBodySkus.SetSkuId(\"1729386416015578024\")\n    returnRefund202309CancelOrderRequestBodySkus.SetQuantity(1)\n    returnRefund202309CancelOrderRequestBodySkusList := []returnRefund_v202309.ReturnRefund202309CancelOrderRequestBodySkus{*returnRefund202309CancelOrderRequestBodySkus}\n    returnRefund202309CancelOrderRequestBody.SetSkus(returnRefund202309CancelOrderRequestBodySkusList)\n    returnRefund202309CancelOrderRequestBodyOrderLineItemIdsList := []string{\"577087614418716996\"}\n    returnRefund202309CancelOrderRequestBody.SetOrderLineItemIds(returnRefund202309CancelOrderRequestBodyOrderLineItemIdsList)\n    returnRefund202309CancelOrderRequestBody.SetCancelReason(\"ecom_order_delivered_refund_and_return_reason_wrong_product_seller\")\n    request = request.ReturnRefund202309CancelOrderRequestBody(*returnRefund202309CancelOrderRequestBody)\n    resp, httpResp, err := request.Execute()\n    if err != nil || httpResp.StatusCode != 200 {\n        fmt.Printf(\"productsRequest err:%v resbody:%s\", err, httpResp.Body)\n        return\n    }\n    if resp == nil {\n        fmt.Printf(\"response is nil\")\n        return\n    }\n    if resp.GetCode()!= 0 {\n        fmt.Printf(\"response business is error, errorCode:%d errorMessage:%s\", resp.GetCode(), resp.GetMessage())\n        return\n    }\n    respDataJson, _ := json.MarshalIndent(resp.GetData(), \"\", \"  \")\n    fmt.Println(\"response data:\", string(respDataJson))\n    return\n}\n",
        "language": "go"
      },
      {
        "label": "Node.js",
        "key": "node",
        "value": "// For more details about the SDK, refer to the documentation:\n// https://partner.tiktokshop.com/docv2/page/67c83e0799a75104986ae498\nasync function returnRefund202309CancelOrderPost() {\n    const returnRefund202309CancelOrderRequestBody = new ReturnRefund202309CancelOrderRequestBody();\n    returnRefund202309CancelOrderRequestBody.orderId = \"577087614418520388\";\n    const returnRefund202309CancelOrderRequestBodySkus = new ReturnRefund202309CancelOrderRequestBodySkus();\n    returnRefund202309CancelOrderRequestBodySkus.skuId = \"1729386416015578024\";\n    returnRefund202309CancelOrderRequestBodySkus.quantity = 1;\n    returnRefund202309CancelOrderRequestBody.skus = [returnRefund202309CancelOrderRequestBodySkus];\n    returnRefund202309CancelOrderRequestBody.orderLineItemIds = [\"577087614418716996\"];\n    returnRefund202309CancelOrderRequestBody.cancelReason = \"ecom_order_delivered_refund_and_return_reason_wrong_product_seller\";\n    const result = await client.api.ReturnRefundV202309Api.CancellationsPost(\"your access token\", \"application/json\", \"your shop cipher\", returnRefund202309CancelOrderRequestBody);\n    console.log('response: ', JSON.stringify(result, null, 2));\n}\n",
        "language": "typescript"
      },
      {
        "label": "Java",
        "key": "java",
        "value": "// For more details about the SDK, refer to the documentation:\n// https://partner.tiktokshop.com/docv2/page/67c83e0799a75104986ae498\npublic void returnRefund202309CancelOrderPost() throws Exception {\n    ApiClient defaultClient = Configuration.getDefaultApiClient()\n            .setAppkey(\"your appKey\")\n            .setSecret(\"your secret\")\n            .setBasePath(\"https://open-api.tiktokglobalshop.com\");\n    ReturnRefundV202309Api apiInstance = new ReturnRefundV202309Api(defaultClient);\n    CancelOrderRequestBody cancelOrderRequestBody = new CancelOrderRequestBody();\n    cancelOrderRequestBody.setOrderId(\"577087614418520388\");\n    CancelOrderRequestBodySkus cancelOrderRequestBodySkus = new tiktokshop.open.sdk_java.model.ReturnRefund.V202309.CancelOrderRequestBodySkus();\n    cancelOrderRequestBodySkus.setSkuId(\"1729386416015578024\");\n    cancelOrderRequestBodySkus.setQuantity(1L);\n    List<CancelOrderRequestBodySkus> cancelOrderRequestBodySkusList = new ArrayList<>(Arrays.asList(cancelOrderRequestBodySkus));\n    cancelOrderRequestBody.setSkus(cancelOrderRequestBodySkusList);\n    List<String> cancelOrderRequestBodyOrderLineItemIdsList = new ArrayList<>(Arrays.asList(\"577087614418716996\"));\n    cancelOrderRequestBody.setOrderLineItemIds(cancelOrderRequestBodyOrderLineItemIdsList);\n    cancelOrderRequestBody.setCancelReason(\"ecom_order_delivered_refund_and_return_reason_wrong_product_seller\");\n    CancelOrderResponse result = apiInstance.returnRefund202309CancellationsPost(\"your access token\", \"application/json\", \"your shop cipher\", cancelOrderRequestBody);\n    System.out.println(result);\n}\n",
        "language": "java"
      }
    ],
    "scenario": 1,
    "document_path": "cancel-order-202309",
    "scope_list": [
      {
        "package_id": 431684,
        "package_name": "Return & Refund Basic",
        "package_name_starling_key": "apipackage_pkg_name_431684",
        "package_description": "The Partner will be able to manage seller's return and refund requests.",
        "package_status": 200,
        "package_type": 100,
        "auth_info_starling_key": "apipackage_pkg_authinfo_431684",
        "auth_info": "The Partner will be able to manage your return and refund requests.",
        "auth_type": 1,
        "launch_time": 1677492312981,
        "update_time": 1695291067229,
        "create_time": 1677492312981,
        "operator": "shenxiaochuan@bytedance.com",
        "package_description_starling_key": "apipackage_pkg_desc_431684",
        "scope_tags": [],
        "scope_key": "seller.return_refund.basic",
        "data_source_list": [
          100
        ]
      }
    ],
    "request_path_param": [],
    "api_request_path_sheet": {
      "header_list": [
        "Properties",
        "Type",
        "Required",
        "Properties description"
      ],
      "value_sheet": []
    }
  }
}