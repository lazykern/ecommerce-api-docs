{
  "document_id": "recommend-category-202309",
  "document_api_meta": {
    "interface_path": "/product/202309/categories/recommend",
    "title": "Recommend Category",
    "env_desc": "Retrieve the recommended category for a candidate product based on its title, description, and images.\nIf you are syncing product catalogs from an external system to TikTok Shop, use this API to facilitate product categorization.\n**Note**: The language used in text fields such as descriptions and titles must align with the target market's language (e.g. don't use Chinese).",
    "method": 1,
    "query": "https://open-api.tiktokglobalshop.com/product/202309/categories/recommend?app_key=123abc&sign=5361235029d141222525e303d742f9e38aea052d10896d3197ab9d6233730b8c&timestamp=1625484268&shop_cipher=ROW_RHkDDABBAAB8tKAVoAqsMTjsQZFLyNfY",
    "request_header_param": [
      {
        "name": "content-type",
        "type": "string",
        "required": "Y",
        "desc": "Allowed type: application/json"
      },
      {
        "name": "x-tts-access-token",
        "type": "string",
        "required": "Y",
        "desc": "The seller access_token value from [Get Access Token](https://partner.tiktokshop.com/docv2/page/678e3a3292b0f40314a92d75#Get%20Access%20Token%20API), when user_type = 0. Follow this [guide](https://partner.tiktokshop.com/docv2/page/678e3a344ddec3030b238fa0) to get seller access_token."
      }
    ],
    "request_query_param": [
      {
        "name": "app_key",
        "type": "string",
        "required": "Y",
        "desc": "Every single app will have a unique key. Please use the specific key assigned to your app."
      },
      {
        "name": "sign",
        "type": "string",
        "required": "Y",
        "desc": "Signature generated by gen algorithm. When you send API requests to TTS, you must sign them so that TTS can identify the senders. "
      },
      {
        "name": "timestamp",
        "type": "int",
        "required": "Y",
        "desc": "Unix timestamp GMT (UTC+00:00). This timestamp is used across all API requests. Developers can use this convert to local time."
      },
      {
        "name": "shop_cipher",
        "type": "string",
        "required": "N",
        "desc": "Use this property to pass shop information in requesting the API. Failure in passing the correct value when requesting the API for cross-border shops will return incorrect response. \nGet by API [Get Authorization Shop](https://partner.tiktokshop.com/docv2/page/6507ead7b99d5302be949ba9?external_id=6507ead7b99d5302be949ba9)"
      }
    ],
    "request_body_param": [
      {
        "name": "product_title",
        "type": "string",
        "required": "Y",
        "desc": "The product title. \nTitle length:\n- DE, ES, FR, IE, IT, JP, UK, US: [1, 255] \n- BR, MX: [1, 300]\n- Other regions: [25, 255]"
      },
      {
        "name": "description",
        "type": "string",
        "required": "N",
        "desc": "The product description in HTML format.\n\n**Note**:\n- The content must conform to the [HTML syntax](https://html.spec.whatwg.org/). All HTML tags are accepted but to optimize display on the TikTok Shop product detail page, the system will automatically convert certain tags into alternative formats, such as rendering `<table>` tags as images.\n- Max length: 10,000 characters.\n- Image guidelines: You must use [TikTok Shop image URLs](6509df95defece02be598a22). Max 30 `<img>` tags, each under 4000px with `src`, `width`, and `height` attributes.\n\n**Recommendations**: \n- If you are syncing a pre-existing description from another platform, include the full HTML source description here.\n- Provide a detailed description, ideally over 300 characters.\n- Include 3-5 key selling points, each under 250 characters, with supporting images.\n- Use 1600x1600 px for the image dimensions."
      },
      {
        "name": "images",
        "type": "[]object",
        "required": "N",
        "desc": "Product images, including gallery images, images that appear in the description, product variant images."
      },
      {
        "name": "^uri",
        "type": "string",
        "required": "N",
        "desc": "The URI of the image. Retrieve the URI from the [Upload Product Image API](https://partner.tiktokshop.com/docv2/page/6509df95defece02be598a22)."
      },
      {
        "name": "category_version",
        "type": "string",
        "required": "N",
        "desc": "The category tree version to use for this product.\nPossible values based on region:\n- US: `v2`, represents the 7-level category tree.\n  **Important**: For US shops, you must pass `v2` when using this API.\n- Other regions: `v1`, represents the 3-level category tree.\nDefault: `v1`"
      },
      {
        "name": "listing_platform",
        "type": "string",
        "required": "N",
        "desc": "Recommend categories that belong to the specified platform.\nPossible values:\n- TIKTOK_SHOP\n- TOKOPEDIA\nDefault: TIKTOK_SHOP\n\nApplicable only for sellers that migrated from Tokopedia."
      },
      {
        "name": "include_prohibited_categories",
        "type": "bool",
        "required": "N",
        "desc": "A flag to indicate whether to include matching categories that are prohibited on TikTok Shop. Set this to `true` to identify if the product falls under a category that you can't list on TikTok Shop in any circumstances.\n**Note**:\n- Applicable only for BR and MX markets.\n- Default: `false`"
      }
    ],
    "response_param": [
      {
        "name": "code",
        "type": "int",
        "required": "N",
        "example": "0",
        "desc": "The success or failure status code returned in API response."
      },
      {
        "name": "message",
        "type": "string",
        "required": "N",
        "example": "Success",
        "desc": "The success or failure messages returned in API response. Reasons of failure will be described in the message."
      },
      {
        "name": "request_id",
        "type": "string",
        "required": "N",
        "example": "202203070749000101890810281E8C70B7",
        "desc": "Request log"
      },
      {
        "name": "data",
        "type": "object",
        "required": "N",
        "example": "",
        "desc": "Specific return information"
      },
      {
        "name": "^leaf_category_id",
        "type": "string",
        "required": "N",
        "example": "605254",
        "desc": "The recommended category ID. This is always a leaf category."
      },
      {
        "name": "^categories",
        "type": "[]object",
        "required": "N",
        "example": "",
        "desc": "Recommended category information."
      },
      {
        "name": "^^id",
        "type": "string",
        "required": "N",
        "example": "605254",
        "desc": "The category ID."
      },
      {
        "name": "^^name",
        "type": "string",
        "required": "N",
        "example": "Teas",
        "desc": "The category name."
      },
      {
        "name": "^^level",
        "type": "int",
        "required": "N",
        "example": "1",
        "desc": "The category level."
      },
      {
        "name": "^^is_leaf",
        "type": "bool",
        "required": "N",
        "example": "true",
        "desc": "A flag to indicate if the category is a leaf category. \n\n**Note**: You can only create or edit products that belong to a leaf category."
      },
      {
        "name": "^^permission_statuses",
        "type": "[]string",
        "required": "N",
        "example": "[\"INVITE_ONLY\"]",
        "desc": "The shop's permission status for this category.\nPossible values:\n- AVAILABLE: You have the permission to create products in this category.\n- INVITE_ONLY: This is a restricted category and you do not have permission to use it. Submit an application through the Qualification Center on TikTok Shop Seller Center to gain access. In Seller Center, `INVITE_ONLY` is also known as \"restricted\".\n- PROHIBITED: This category is prohibited on TikTok Shop. If your product falls under this category, do not attempt to list it, as it will be rejected during audit. Applicable only for BR and MX markets."
      }
    ],
    "error_code_list": [
      {
        "code": "12019006",
        "msg": "product description is invalid"
      },
      {
        "code": "12019009",
        "msg": "product image list is invalid"
      },
      {
        "code": "12019064",
        "msg": "No matching categories. Provide the full name of your product, edit its product properties, and try again."
      },
      {
        "code": "12052013",
        "msg": "The product description cannot exceed maximum characters"
      },
      {
        "code": "12052051",
        "msg": "The product name exceed max limit characters"
      },
      {
        "code": "12052056",
        "msg": "The num of image in description cannot exceed max limit"
      },
      {
        "code": "12052217",
        "msg": "Incorrect category version. For US shops or global sellers with an active US shop, specify 'category version=v2'. For shops in other regions specify 'category_version=v1'."
      },
      {
        "code": "12052230",
        "msg": "The specified category ID is not a leaf category, or it does not belong to the specified category version. Note: For US shops or global sellers with an active US shop, specify 'category_version=v2'. For shops in other regions, specify 'category_version=v1'. Use the Get Categories/Get Global Categories endpoint to check the leaf categories that belong to the required category version."
      },
      {
        "code": "12052261",
        "msg": "product name is empty"
      },
      {
        "code": "12052262",
        "msg": "Chinese characters are not supported in product name"
      },
      {
        "code": "12052266",
        "msg": "The product name contains non-English characters."
      },
      {
        "code": "12052300",
        "msg": "product main image uri illegal"
      },
      {
        "code": "12052301",
        "msg": "Width and length of main image must be at least {{min_limit}}, check uri {{uri}}"
      },
      {
        "code": "12052305",
        "msg": "The main images aspect ratio cannot exceed max limit."
      },
      {
        "code": "12052306",
        "msg": "main product images count exceed limit"
      },
      {
        "code": "12052340",
        "msg": "product description image uri illegal"
      },
      {
        "code": "12052341",
        "msg": "The description images size cannot exceed limit."
      },
      {
        "code": "12052343",
        "msg": "Product description image format not support."
      },
      {
        "code": "12052345",
        "msg": "The product description html tag not support."
      },
      {
        "code": "12052346",
        "msg": "The product description has Chinese characters"
      },
      {
        "code": "12052348",
        "msg": "The product description html tag required attribute is miss."
      },
      {
        "code": "12052349",
        "msg": "The product description html tag not support nest."
      },
      {
        "code": "12052350",
        "msg": "The product description html tag contain illegal attribute."
      },
      {
        "code": "12052351",
        "msg": "The product description contains non-English characters."
      },
      {
        "code": "12052352",
        "msg": "The product description nest exceeding limit"
      },
      {
        "code": "12052700",
        "msg": "The seller is inactive."
      },
      {
        "code": "12052704",
        "msg": "seller id not exist"
      },
      {
        "code": "12052722",
        "msg": "The image URI does not exist in TikTok Shop."
      },
      {
        "code": "36009003",
        "msg": "Internal error. Please try again. If the issue persists after multiple attempts, please contact platform support."
      },
      {
        "code": "12052912",
        "msg": "No matching category found within your account's main category. Check your main category in the seller profile on Seller Center and ensure your product falls within its scope."
      },
      {
        "code": "12052931",
        "msg": "The title must follow these formatting rules: it cannot contain HTML escape characters (e.g., &nbsp;), emojis, or ASCII control characters (e.g., \\u007F). It also cannot consist solely of symbols (e.g., //// or !@#$$$&), nor can it have more than 9 consecutive repeated characters (e.g., aaaaaaaaa or 111111111)."
      }
    ],
    "request_body": "{\"product_title\":\"Men\\\\'s Fashion Sports Low Cut Cotton Breathable Ankle Short\\n\",\"description\":\"\\u003cp\\u003ePlease check the measurements before purchase.\\u003c/p\\u003e\\n\\u003cul\\u003e\\n  \\u003cli\\u003eM-Size\\u003c/li\\u003e\\n  \\u003cli\\u003eXL-Size\\u003c/li\\u003e\\n\\u003c/ul\\u003e \\n\\u003cimg src=\\\"https://p16-oec-va.ibyteimg.com/tos-maliva-i-o3syd03w52-us/181595ea7d26489284b5667488d708c1~tplv-o3syd03w52-origin-jpeg.jpeg?from=1432613627\\\" width='100' height='100' /\\u003e \\n \",\"images\":[{\"uri\":\"tos-maliva-i-o3syd03w52-us/c668cdf70b7f483c94dbe\"}],\"category_version\":\"v1\",\"listing_platform\":\"TIKTOK_SHOP\",\"include_prohibited_categories\":false}",
    "response_body": "{\"code\":0,\"data\":{\"leaf_category_id\":\"605254\",\"categories\":[{\"id\":\"605254\",\"name\":\"Teas\",\"level\":1,\"is_leaf\":true,\"permission_statuses\":[\"INVITE_ONLY\"]}]},\"message\":\"Success\",\"request_id\":\"202203070749000101890810281E8C70B7\"}",
    "title_list": [
      "Common Require / 公共入参",
      "API Require / API入参",
      "Require Sample / 请求示例",
      "API Response / API出参",
      "ResponseSample / 响应示例",
      "Error Code / 错误码",
      "Feedback / 文档反馈"
    ],
    "error_code_sheet": {
      "header_list": [
        "Code",
        "Message"
      ],
      "value_sheet": []
    },
    "api_request_header_sheet": {
      "header_list": [
        "Properties",
        "Type",
        "Required",
        "Properties description"
      ],
      "value_sheet": []
    },
    "api_request_query_sheet": {
      "header_list": [
        "Properties",
        "Type",
        "Required",
        "Properties description"
      ],
      "value_sheet": []
    },
    "api_request_body_sheet": {
      "header_list": [
        "Properties",
        "Type",
        "Required",
        "Properties description"
      ],
      "value_sheet": []
    },
    "api_response_sheet": {
      "header_list": [
        "Properties",
        "Type",
        "Sample",
        "Properties description"
      ],
      "value_sheet": []
    },
    "is_post_method": true,
    "is_request_path_exist": false,
    "is_request_query_exist": true,
    "is_request_body_exist": true,
    "api_auth_info_sheet": {
      "header_list": [
        "API Scope",
        "API Scope Type"
      ],
      "value_sheet": []
    },
    "api_auth_info_list": [
      {
        "package": "Product Basic",
        "package_type": "Public"
      }
    ],
    "is_shop_chiper_exist": true,
    "is_v2": true,
    "dynamic_configuration": {
      "common_error_code_link": "https://partner.tiktokshop.com/docv2/page/678e3a45786253031531b942",
      "common_param_link": "https://partner.tiktokshop.com/docv2/page/678e3a4278f4c20311b8b57e"
    },
    "sample_code": [
      {
        "label": "Curl",
        "key": "curl",
        "value": "curl -X POST \\\n 'https://open-api.tiktokglobalshop.com/product/202309/categories/recommend?app_key=38abcd&sign=5361235029d141222525e303d742f9e38aea052d10896d3197ab9d6233730b8c&timestamp=1623812664&shop_cipher=GCP_XF90igAAAABh00qsWgtvOiGFNqyubMt3' \\\n-H 'x-tts-access-token: TTP_pwSm2AAAAABmmtFz1xlyKMnwg74T2GJ5s0uQbS8jPjb_GkdFVCxPqzQXSyuyfXdQa0AqyDsea2tYFNVf4XeqgZHFfPyv0Vs659QqyLYfsGzanZ5XZAin3_ZkcIxxS0_In6u6XDeU96k' \\\n-H 'content-type: application/json' \\\n-d '{\n  \"product_title\": \"Men'\\''s Fashion Sports Low Cut Cotton Breathable Ankle Short\",\n  \"description\": \"\\u003cp\\u003ePlease check the measurements before purchase.\\u003c/p\\u003e\\u003cul\\u003e  \\u003cli\\u003eM-Size\\u003c/li\\u003e  \\u003cli\\u003eXL-Size\\u003c/li\\u003e\\u003c/ul\\u003e \\u003cimg src=\\\"https://p16-oec-va.ibyteimg.com/tos-maliva-i-o3syd03w52-us/181595ea7d26489284b5667488d708c1~tplv-o3syd03w52-origin-jpeg.jpeg?from=1432613627\\\" width='100' height='100' /\\u003e  \",\n  \"images\": [\n    {\n      \"uri\": \"tos-maliva-i-o3syd03w52-us/c668cdf70b7f483c94dbe\"\n    }\n  ],\n  \"category_version\": \"v1\",\n  \"listing_platform\": \"TIKTOK_SHOP\",\n  \"include_prohibited_categories\": false\n}'",
        "language": "shell"
      },
      {
        "label": "Go",
        "key": "go",
        "value": "// For more details about the SDK, refer to the documentation:\n// https://partner.tiktokshop.com/docv2/page/67c83e0799a75104986ae498\nfunc product202309RecommendCategoryPost() {\n    configuration := apis.NewConfiguration()\n    configuration.AddAppInfo(appKey, appSecret)\n    apiClient := apis.NewAPIClient(configuration)\n    request := apiClient.ProductV202309API.Product202309CategoriesRecommendPost(context.Background())\n    request = request.XTtsAccessToken(\"your access token\")\n    request = request.ContentType(\"application/json\")\n    request = request.ShopCipher(\"GCP_XF90igAAAABh00qsWgtvOiGFNqyubMt3\")\n    product202309RecommendCategoryRequestBody := product_v202309.NewProduct202309RecommendCategoryRequestBody()\n    product202309RecommendCategoryRequestBody.SetProductTitle(\"Men\\\\'s Fashion Sports Low Cut Cotton Breathable Ankle Short\\n\")\n    product202309RecommendCategoryRequestBody.SetDescription(\"<p>Please check the measurements before purchase.</p>\\n<ul>\\n  <li>M-Size</li>\\n  <li>XL-Size</li>\\n</ul> \\n<img src=\\\"https://p16-oec-va.ibyteimg.com/tos-maliva-i-o3syd03w52-us/181595ea7d26489284b5667488d708c1~tplv-o3syd03w52-origin-jpeg.jpeg?from=1432613627\\\" width='100' height='100' /> \\n \")\n    product202309RecommendCategoryRequestBodyImages := product_v202309.NewProduct202309RecommendCategoryRequestBodyImages()\n    product202309RecommendCategoryRequestBodyImages.SetUri(\"tos-maliva-i-o3syd03w52-us/c668cdf70b7f483c94dbe\")\n    product202309RecommendCategoryRequestBodyImagesList := []product_v202309.Product202309RecommendCategoryRequestBodyImages{*product202309RecommendCategoryRequestBodyImages}\n    product202309RecommendCategoryRequestBody.SetImages(product202309RecommendCategoryRequestBodyImagesList)\n    product202309RecommendCategoryRequestBody.SetCategoryVersion(\"v1\")\n    product202309RecommendCategoryRequestBody.SetListingPlatform(\"TIKTOK_SHOP\")\n    product202309RecommendCategoryRequestBody.SetIncludeProhibitedCategories(false)\n    request = request.Product202309RecommendCategoryRequestBody(*product202309RecommendCategoryRequestBody)\n    resp, httpResp, err := request.Execute()\n    if err != nil || httpResp.StatusCode != 200 {\n        fmt.Printf(\"productsRequest err:%v resbody:%s\", err, httpResp.Body)\n        return\n    }\n    if resp == nil {\n        fmt.Printf(\"response is nil\")\n        return\n    }\n    if resp.GetCode()!= 0 {\n        fmt.Printf(\"response business is error, errorCode:%d errorMessage:%s\", resp.GetCode(), resp.GetMessage())\n        return\n    }\n    respDataJson, _ := json.MarshalIndent(resp.GetData(), \"\", \"  \")\n    fmt.Println(\"response data:\", string(respDataJson))\n    return\n}\n",
        "language": "go"
      },
      {
        "label": "Node.js",
        "key": "node",
        "value": "// For more details about the SDK, refer to the documentation:\n// https://partner.tiktokshop.com/docv2/page/67c83e0799a75104986ae498\nasync function product202309RecommendCategoryPost() {\n    const product202309RecommendCategoryRequestBody = new Product202309RecommendCategoryRequestBody();\n    product202309RecommendCategoryRequestBody.productTitle = \"Men\\\\'s Fashion Sports Low Cut Cotton Breathable Ankle Short\\n\";\n    product202309RecommendCategoryRequestBody.description = \"<p>Please check the measurements before purchase.</p>\\n<ul>\\n  <li>M-Size</li>\\n  <li>XL-Size</li>\\n</ul> \\n<img src=\\\"https://p16-oec-va.ibyteimg.com/tos-maliva-i-o3syd03w52-us/181595ea7d26489284b5667488d708c1~tplv-o3syd03w52-origin-jpeg.jpeg?from=1432613627\\\" width='100' height='100' /> \\n \";\n    const product202309RecommendCategoryRequestBodyImages = new Product202309RecommendCategoryRequestBodyImages();\n    product202309RecommendCategoryRequestBodyImages.uri = \"tos-maliva-i-o3syd03w52-us/c668cdf70b7f483c94dbe\";\n    product202309RecommendCategoryRequestBody.images = [product202309RecommendCategoryRequestBodyImages];\n    product202309RecommendCategoryRequestBody.categoryVersion = \"v1\";\n    product202309RecommendCategoryRequestBody.listingPlatform = \"TIKTOK_SHOP\";\n    product202309RecommendCategoryRequestBody.includeProhibitedCategories = false;\n    const result = await client.api.ProductV202309Api.CategoriesRecommendPost(\"your access token\", \"application/json\", \"GCP_XF90igAAAABh00qsWgtvOiGFNqyubMt3\", product202309RecommendCategoryRequestBody);\n    console.log('response: ', JSON.stringify(result, null, 2));\n}\n",
        "language": "typescript"
      },
      {
        "label": "Java",
        "key": "java",
        "value": "// For more details about the SDK, refer to the documentation:\n// https://partner.tiktokshop.com/docv2/page/67c83e0799a75104986ae498\npublic void product202309RecommendCategoryPost() throws Exception {\n    ApiClient defaultClient = Configuration.getDefaultApiClient()\n            .setAppkey(\"your appKey\")\n            .setSecret(\"your secret\")\n            .setBasePath(\"https://open-api.tiktokglobalshop.com\");\n    ProductV202309Api apiInstance = new ProductV202309Api(defaultClient);\n    RecommendCategoryRequestBody recommendCategoryRequestBody = new RecommendCategoryRequestBody();\n    recommendCategoryRequestBody.setProductTitle(\"Men\\\\'s Fashion Sports Low Cut Cotton Breathable Ankle Short\\n\");\n    recommendCategoryRequestBody.setDescription(\"<p>Please check the measurements before purchase.</p>\\n<ul>\\n  <li>M-Size</li>\\n  <li>XL-Size</li>\\n</ul> \\n<img src=\\\"https://p16-oec-va.ibyteimg.com/tos-maliva-i-o3syd03w52-us/181595ea7d26489284b5667488d708c1~tplv-o3syd03w52-origin-jpeg.jpeg?from=1432613627\\\" width='100' height='100' /> \\n \");\n    RecommendCategoryRequestBodyImages recommendCategoryRequestBodyImages = new tiktokshop.open.sdk_java.model.Product.V202309.RecommendCategoryRequestBodyImages();\n    recommendCategoryRequestBodyImages.setUri(\"tos-maliva-i-o3syd03w52-us/c668cdf70b7f483c94dbe\");\n    List<RecommendCategoryRequestBodyImages> recommendCategoryRequestBodyImagesList = new ArrayList<>(Arrays.asList(recommendCategoryRequestBodyImages));\n    recommendCategoryRequestBody.setImages(recommendCategoryRequestBodyImagesList);\n    recommendCategoryRequestBody.setCategoryVersion(\"v1\");\n    recommendCategoryRequestBody.setListingPlatform(\"TIKTOK_SHOP\");\n    recommendCategoryRequestBody.setIncludeProhibitedCategories(false);\n    RecommendCategoryResponse result = apiInstance.product202309CategoriesRecommendPost(\"your access token\", \"application/json\", \"GCP_XF90igAAAABh00qsWgtvOiGFNqyubMt3\", recommendCategoryRequestBody);\n    System.out.println(result);\n}\n",
        "language": "java"
      }
    ],
    "scenario": 1,
    "document_path": "recommend-category-202309",
    "scope_list": [
      {
        "package_id": 430148,
        "package_name": "Product Basic",
        "package_name_starling_key": "apipackage_pkg_name_430148",
        "package_description": "The Partner will be able to sync your product information to TikTok Shop(s). For products available in the EU markets, this also includes the information of the Responsible Persons and Manufacturer.",
        "package_status": 200,
        "package_type": 100,
        "auth_info_starling_key": "apipackage_pkg_authinfo_430148",
        "auth_info": "The Partner will be able to sync your product information to TikTok Shop(s). For products available in the EU markets, this also includes the information of the Responsible Persons and Manufacturer.",
        "auth_type": 1,
        "launch_time": 1677483415076,
        "update_time": 1763616545620,
        "create_time": 1677483415077,
        "operator": "lvkang@bytedance.com",
        "package_description_starling_key": "apipackage_pkg_desc_430148",
        "scope_tags": [],
        "scope_key": "seller.product.basic",
        "data_source_list": [
          100
        ]
      }
    ],
    "request_path_param": [],
    "api_request_path_sheet": {
      "header_list": [
        "Properties",
        "Type",
        "Required",
        "Properties description"
      ],
      "value_sheet": []
    }
  }
}