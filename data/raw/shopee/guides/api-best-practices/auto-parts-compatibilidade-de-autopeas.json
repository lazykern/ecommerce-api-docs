{
  "category_name": "API Best Practices",
  "category_id": 2058,
  "document_id": 378,
  "release_time": 1719800710,
  "update_time": 1719800710,
  "operator": "caixia.tu@shopee.com",
  "title": "AUTO PARTS: COMPATIBILIDADE DE AUTOPEÇAS",
  "raw_content": "[{\"name\":\"paragraph\",\"children\":[{\"data\":\"A partir do dia 24 de junho de 2024 está disponível na Shopee a feature que permite adicionar compatibilidade entre veículos e produtos de auto peças. Com isso alguns endpoints foram criados e outros tiveram atualizações relacionadas a esse tema.\"}]},{\"name\":\"heading3\",\"children\":[{\"attributes\":{\"bold\":true,\"fontColor\":\"#EE4D2D\"},\"data\":\"Vantagens no uso da feature de compatibilidade\"}]},{\"name\":\"paragraph\"},{\"attributes\":{\"listIndent\":0,\"listType\":\"bulleted\"},\"name\":\"listItem\",\"children\":[{\"data\":\"Sellers poderão configurar itens mais completos, com os dados de veículos compatíveis com seus produtos;\"}]},{\"attributes\":{\"listIndent\":0,\"listType\":\"bulleted\"},\"name\":\"listItem\",\"children\":[{\"data\":\"Os itens com compatibilidade preenchida irão aparecer em posições de melhor relevância na página de resultados da pesquisa (SRP) do buyer;\"}]},{\"attributes\":{\"listIndent\":0,\"listType\":\"bulleted\"},\"name\":\"listItem\",\"children\":[{\"data\":\"O buyer terá maior confiabilidade na compra, uma vez que será mais fácil confirmar se um item é de fato compatível com seu veículo.\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"data\":\"Considerando esse cenário, se o seus clientes (os sellers) trabalham com itens de autopeças, recomendamos fortemente que implementem os novos endpoints na plataforma de vocês.\"}]},{\"name\":\"heading3\",\"children\":[{\"attributes\":{\"bold\":true,\"fontColor\":\"#EE4D2D\"},\"data\":\"Estrutura dos dados\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"data\":\"Os dados dos veículos são armazenados da seguinte forma:\"}]},{\"attributes\":{\"headingRows\":1},\"name\":\"table\",\"children\":[{\"name\":\"tableRow\",\"children\":[{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"data\":\"Parâmetro\"}]}]},{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"data\":\"Significado\"}]}]},{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"data\":\"Exemplo\"}]}]}]},{\"name\":\"tableRow\",\"children\":[{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"data\":\"brand_id\"}]}]},{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"data\":\"O id de uma marca específica.\"}]}]},{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontColor\":\"#098658\"},\"data\":\"5770\"}]}]}]},{\"name\":\"tableRow\",\"children\":[{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"data\":\"brand_name\"}]}]},{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"data\":\"O nome da marca relacionada a cada brand_id.\"}]}]},{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontColor\":\"#0451a5\"},\"data\":\"\\\"Chevrolet\\\"\"}]}]}]},{\"name\":\"tableRow\",\"children\":[{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"data\":\"model_id\"}]}]},{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"data\":\"O id de um modelo específico.\"}]}]},{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontColor\":\"#098658\"},\"data\":\"5905\"}]}]}]},{\"name\":\"tableRow\",\"children\":[{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"data\":\"model_name\"}]}]},{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"data\":\"O nome do modelo relacionado ao model_id.\"}]}]},{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontColor\":\"#0451a5\"},\"data\":\"\\\"Chevette\\\"\"}]}]}]},{\"name\":\"tableRow\",\"children\":[{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"data\":\"year_id\"}]}]},{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"data\":\"O id de cada ano.\"}]}]},{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontColor\":\"#098658\"},\"data\":\"5712\"}]}]}]},{\"name\":\"tableRow\",\"children\":[{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"data\":\"year_name\"}]}]},{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"data\":\"O ano relacionado a um dado year_id.\"}]}]},{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontColor\":\"#0451a5\"},\"data\":\"\\\"1979\\\"\"}]}]}]},{\"name\":\"tableRow\",\"children\":[{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"data\":\"version_id\"}]}]},{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"data\":\"A id de cada versão de um veículo.\"}]}]},{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontColor\":\"#098658\"},\"data\":\"5907\"}]}]}]},{\"name\":\"tableRow\",\"children\":[{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"data\":\"version_name\"}]}]},{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"data\":\"O nome da versão associada ao version_id.\"}]}]},{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontColor\":\"#0451a5\"},\"data\":\"\\\"Hatch\\\"\"}]}]}]}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"data\":\"Estabelecido isso, é importante reforçar que os parâmetros listados acima seguem a seguinte relação de dependência: brand > model > year > version.\"}]},{\"name\":\"heading3\",\"children\":[{\"attributes\":{\"bold\":true,\"fontColor\":\"#EE4D2D\"},\"data\":\"Novos endpoints:\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true,\"fontColor\":\"#EE4D2D\"},\"data\":\"v2.product.get_all_vehicle_list\"}]},{\"name\":\"paragraph\"},{\"attributes\":{\"listIndent\":0,\"listType\":\"bulleted\"},\"name\":\"listItem\",\"children\":[{\"attributes\":{\"fontColor\":\"#2B2C2D\"},\"data\":\"Como o nome indica, é o endpoint responsável por trazer toda a lista de veículos presente na base de dados da Shopee. Para usá-lo, o parâmetro obrigatório é o tamanho da página (page_size) que pode ser de no máximo 100 itens. Mais detalhes do endpoint você encontra em \"},{\"attributes\":{\"linkHref\":\"https://open.shopee.com/documents/v2/v2.product.get_all_vehicle_list?module=89&type=1\"},\"data\":\"sua página do API Reference\"},{\"attributes\":{\"fontColor\":\"#2B2C2D\"},\"data\":\".\"}]},{\"attributes\":{\"listIndent\":0,\"listType\":\"bulleted\"},\"name\":\"listItem\",\"children\":[{\"data\":\"Exemplo de retorno do endpoint:\"}]},{\"attributes\":{\"language\":\"python\"},\"name\":\"codeBlock\",\"children\":[{\"data\":\"{\"},{\"name\":\"softBreak\"},{\"data\":\"    \\\"error\\\": \\\"\\\",\"},{\"name\":\"softBreak\"},{\"data\":\"    \\\"message\\\": \\\"\\\",\"},{\"name\":\"softBreak\"},{\"data\":\"    \\\"warning\\\": \\\"\\\",\"},{\"name\":\"softBreak\"},{\"data\":\"    \\\"request_id\\\": \\\"6535ecb33a3f8c6900c8d2b515f3c821\\\",\"},{\"name\":\"softBreak\"},{\"data\":\"    \\\"response\\\": {\"},{\"name\":\"softBreak\"},{\"data\":\"        \\\"vehicle_list\\\": [\"},{\"name\":\"softBreak\"},{\"data\":\"            {\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"brand_id\\\": 5770,\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"brand_name\\\": \\\"Chevrolet\\\",\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"model_id\\\": 5905,\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"model_name\\\": \\\"Chevette\\\",\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"year_id\\\": 5712,\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"year_name\\\": \\\"1979\\\",\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"version_id\\\": 5907,\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"version_name\\\": \\\"Hatch\\\"\"},{\"name\":\"softBreak\"},{\"data\":\"            },\"},{\"name\":\"softBreak\"},{\"data\":\"            {\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"brand_id\\\": 5770,\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"brand_name\\\": \\\"Chevrolet\\\",\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"model_id\\\": 5905,\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"model_name\\\": \\\"Chevette\\\",\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"year_id\\\": 5712,\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"year_name\\\": \\\"1979\\\",\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"version_id\\\": 5906,\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"version_name\\\": \\\"S\\\"\"},{\"name\":\"softBreak\"},{\"data\":\"            }....\"},{\"name\":\"softBreak\"},{\"data\":\"           ],\"},{\"name\":\"softBreak\"},{\"data\":\"        \\\"has_next_page\\\": true,\"},{\"name\":\"softBreak\"},{\"data\":\"        \\\"next_offset\\\": 61\"},{\"name\":\"softBreak\"},{\"data\":\"    }\"},{\"name\":\"softBreak\"},{\"data\":\"}\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true,\"fontBackgroundColor\":\"rgb(255,255,255)\",\"fontColor\":\"#EE4D2D\"},\"data\":\"v2.product.get_vehicle_list_by_compatibility_detail\"}]},{\"name\":\"paragraph\"},{\"attributes\":{\"listIndent\":0,\"listType\":\"bulleted\"},\"name\":\"listItem\",\"children\":[{\"data\":\"Nesse endpoint é possível identificar os detalhes para cada um dos elementos do veículo (marca / modelo / ano / versão). O parâmetro obrigatório é o \\\"compatibility_details\\\" onde você pode especificar que nível de detalhamento deseja ver. Parâmetros opcionais (brand_id / model_id / year_id / version_id) ajudam no refinamento da busca. Mais informações em sua \"},{\"attributes\":{\"linkHref\":\"https://open.shopee.com/documents/v2/v2.product.get_vehicle_list_by_compatibility_detail?module=89&type=1\"},\"data\":\"página na API Reference\"},{\"data\":\".\"}]},{\"attributes\":{\"listIndent\":0,\"listType\":\"bulleted\"},\"name\":\"listItem\",\"children\":[{\"data\":\"Exemplos de chamadas no endpoint:\"}]},{\"attributes\":{\"headingRows\":1},\"name\":\"table\",\"children\":[{\"name\":\"tableRow\",\"children\":[{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"Request\"}]}]},{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"Response\"}]}]}]},{\"name\":\"tableRow\",\"children\":[{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"compatibility_details\"},{\"data\":\"=\\\"Brand\\\"\"}]}]},{\"name\":\"tableCell\",\"children\":[{\"attributes\":{\"language\":\"python\"},\"name\":\"codeBlock\",\"children\":[{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"\\\"response\\\": {\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"compatibility_tree\\\": [\"},{\"name\":\"softBreak\"},{\"data\":\"                    {\"},{\"name\":\"softBreak\"},{\"data\":\"                       \\\"compatibility_details\\\": [\"},{\"name\":\"softBreak\"},{\"data\":\"                            {\"},{\"name\":\"softBreak\"},{\"data\":\"                                 \\\"brand_id\\\": 12345,\"},{\"name\":\"softBreak\"},{\"data\":\"                                 \\\"brand_name\\\": \\\"Toyota\\\",\"},{\"name\":\"softBreak\"},{\"data\":\"                            },\"},{\"name\":\"softBreak\"},{\"data\":\"                            {\"},{\"name\":\"softBreak\"},{\"data\":\"                                 \\\"brand_id\\\": 13524,\"},{\"name\":\"softBreak\"},{\"data\":\"                                 \\\"brand_name\\\": \\\"Renault\\\",\"},{\"name\":\"softBreak\"},{\"data\":\"                            },\"},{\"name\":\"softBreak\"},{\"data\":\"                            {\"},{\"name\":\"softBreak\"},{\"data\":\"                                \\\"brand_id\\\": 14235,\"},{\"name\":\"softBreak\"},{\"data\":\"                                \\\"brand_name\\\": \\\"Chevrolet\\\",\"},{\"name\":\"softBreak\"},{\"data\":\"                            },\"},{\"name\":\"softBreak\"},{\"data\":\" …\"}]}]}]},{\"name\":\"tableRow\",\"children\":[{\"name\":\"tableCell\",\"children\":[{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"bold\":true},\"data\":\"compatibility_brand_id\"},{\"data\":\"=12345&\"},{\"attributes\":{\"bold\":true},\"data\":\"compatibility_details\"},{\"data\":\"=\\\"Model\\\"\"}]}]},{\"name\":\"tableCell\",\"children\":[{\"attributes\":{\"language\":\"python\"},\"name\":\"codeBlock\",\"children\":[{\"name\":\"softBreak\"},{\"name\":\"softBreak\"},{\"data\":\"\\\"response\\\": {\"},{\"name\":\"softBreak\"},{\"data\":\"               \\\"compatibility_tree\\\": [\"},{\"name\":\"softBreak\"},{\"data\":\"                   {\"},{\"name\":\"softBreak\"},{\"data\":\"                  \\\"compatibility_details\\\": [\"},{\"name\":\"softBreak\"},{\"data\":\"                            {\"},{\"name\":\"softBreak\"},{\"data\":\"                                 \\\"model_id\\\": 222234,\"},{\"name\":\"softBreak\"},{\"data\":\"                               \\\"model_name\\\": \\\"Etios\\\",\"},{\"name\":\"softBreak\"},{\"data\":\"                            },\"},{\"name\":\"softBreak\"},{\"data\":\"                            {\"},{\"name\":\"softBreak\"},{\"data\":\"                                \\\"model_id\\\": 234234,\"},{\"name\":\"softBreak\"},{\"data\":\"                                 \\\"model_name\\\": \\\"Corolla\\\",\"},{\"name\":\"softBreak\"},{\"data\":\"                            },\"},{\"name\":\"softBreak\"},{\"data\":\"                            {\"},{\"name\":\"softBreak\"},{\"data\":\"                                 \\\"model_id\\\": 225243,\"},{\"name\":\"softBreak\"},{\"data\":\"                                 \\\"model_name\\\": \\\"Bandeirante\\\",\"},{\"name\":\"softBreak\"},{\"data\":\"                           },\"},{\"name\":\"softBreak\"},{\"data\":\" …\"}]}]}]}]},{\"name\":\"heading3\",\"children\":[{\"attributes\":{\"fontColor\":\"#EE4D2D\"},\"data\":\"Mudanças em endpoints existentes\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontColor\":\"#2B2C2D\"},\"data\":\"Alguns endpoints sofreram ajustes para que possam se adequar ao fluxo de compatibilidade, são eles:\"}]},{\"attributes\":{\"listIndent\":0,\"listType\":\"bulleted\"},\"name\":\"listItem\",\"children\":[{\"attributes\":{\"fontColor\":\"#EE4D2D\"},\"data\":\"V2.product.add_item;\"}]},{\"attributes\":{\"listIndent\":0,\"listType\":\"bulleted\"},\"name\":\"listItem\",\"children\":[{\"attributes\":{\"fontColor\":\"#EE4D2D\"},\"data\":\"V2.product.update_item;\"}]},{\"attributes\":{\"listIndent\":0,\"listType\":\"bulleted\"},\"name\":\"listItem\",\"children\":[{\"attributes\":{\"fontColor\":\"#EE4D2D\"},\"data\":\"v2.product.get_item_base_info;\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontColor\":\"#2B2C2D\"},\"data\":\"Nos dois primeiros endpoints é possível inserir as informações de compatibilidade para itens novos / existentes, respectivamente. No terceiro as mudanças auxiliam a confirmar se as informações de compatibilidade foram adicionadas corretamente.\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"attributes\":{\"fontColor\":\"#EE4D2D\"},\"data\":\"Exemplo de estrutura para chamadas no v2.product.add_item e v2.product.update_item\"}]},{\"attributes\":{\"language\":\"python\"},\"name\":\"codeBlock\",\"children\":[{\"data\":\"    \\\"compatibility_info\\\": {\"},{\"name\":\"softBreak\"},{\"data\":\"        \\\"vehicle_info_list\\\": [\"},{\"name\":\"softBreak\"},{\"data\":\"            {\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"brand_id\\\": 5770,\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"model_id\\\": 5911,\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"year_id\\\": 5590,\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"version_id\\\": 5912\"},{\"name\":\"softBreak\"},{\"data\":\"            },\"},{\"name\":\"softBreak\"},{\"data\":\"            {\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"brand_id\\\": 5508,\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"model_id\\\": 5509,\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"year_id\\\": 5516\"},{\"name\":\"softBreak\"},{\"data\":\"            },\"},{\"name\":\"softBreak\"},{\"data\":\"            {\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"brand_id\\\": 5770,\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"model_id\\\": 5905\"},{\"name\":\"softBreak\"},{\"data\":\"            }\"},{\"name\":\"softBreak\"},{\"data\":\"        ]\"},{\"name\":\"softBreak\"},{\"data\":\"    },\"}]},{\"name\":\"paragraph\",\"children\":[{\"data\":\"    \"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"data\":\"Algumas considerações importantes:\"}]},{\"attributes\":{\"listIndent\":0,\"listType\":\"bulleted\"},\"name\":\"listItem\",\"children\":[{\"data\":\"Se um determinado produto é compatível com todas as versões de um determinado ano, basta informar os ids para brand, model e year, o sistema entenderá que todas as versões daquele ano deverão ser inseridas na lista de compatibilidade;\"}]},{\"attributes\":{\"language\":\"python\"},\"name\":\"codeBlock\",\"children\":[{\"data\":\"\\t\\t\\t{\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"brand_id\\\": 5508,\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"model_id\\\": 5509,\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"year_id\\\": 5516\"},{\"name\":\"softBreak\"},{\"data\":\"            }\"}]},{\"name\":\"paragraph\"},{\"attributes\":{\"listIndent\":0,\"listType\":\"bulleted\"},\"name\":\"listItem\",\"children\":[{\"data\":\"De maneira similar, se todas as versões de todos os anos de um dado modelo forem compatíveis com o produto, basta informar os ids para brand e model;\"}]},{\"attributes\":{\"language\":\"python\"},\"name\":\"codeBlock\",\"children\":[{\"data\":\"            {\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"brand_id\\\": 5770,\"},{\"name\":\"softBreak\"},{\"data\":\"                \\\"model_id\\\": 5905\"},{\"name\":\"softBreak\"},{\"data\":\"            }\"}]},{\"name\":\"paragraph\"},{\"attributes\":{\"listIndent\":0,\"listType\":\"bulleted\"},\"name\":\"listItem\",\"children\":[{\"data\":\"O v2.product.update_item poderá ser usado normalmente para adicionar as informações de compatibilidade em itens existentes que não a possuam. Nesse caso, basta informar a lista de compatibilidade conforme exemplos acima;\"}]},{\"name\":\"paragraph\"},{\"attributes\":{\"listIndent\":0,\"listType\":\"bulleted\"},\"name\":\"listItem\",\"children\":[{\"attributes\":{\"bold\":true,\"fontColor\":\"#EE4D2D\"},\"data\":\"ATENÇÃO:\"},{\"data\":\" Ao usar o v2.product.update_item \"},{\"attributes\":{\"bold\":true,\"fontBackgroundColor\":\"#E9EEF6\"},\"data\":\"para adicionar compatibilidade em um item que já possui veículos em sua lista\"},{\"attributes\":{\"fontBackgroundColor\":\"#E9EEF6\"},\"data\":\", você deverá informar a lista de ids existente atualmente no item + os novos ids de compatibilidade\"},{\"data\":\". Caso contrário, a lista de ids existente será sobreposta pelos novos ids informados na chamada do update item.\"}]},{\"name\":\"paragraph\"},{\"name\":\"paragraph\",\"children\":[{\"data\":\"Se restar alguma dúvida no uso dos novos endpoints, \"},{\"attributes\":{\"linkHref\":\"https://open.shopee.com/myconsole/ticket-system/raise-ticket/\"},\"data\":\"basta abrir um ticket\"},{\"data\":\" e iremos te auxiliar a integrar corretamente com a nova funcionalidade.\"}]}]",
  "content": "<p>A partir do dia 24 de junho de 2024 está disponível na Shopee a feature que permite adicionar compatibilidade entre veículos e produtos de auto peças. Com isso alguns endpoints foram criados e outros tiveram atualizações relacionadas a esse tema.</p><h3><span style=\"color:#EE4D2D;\"><strong>Vantagens no uso da feature de compatibilidade</strong></span></h3><p>&nbsp;</p><ul><li>Sellers poderão configurar itens mais completos, com os dados de veículos compatíveis com seus produtos;</li><li>Os itens com compatibilidade preenchida irão aparecer em posições de melhor relevância na página de resultados da pesquisa (SRP) do buyer;</li><li>O buyer terá maior confiabilidade na compra, uma vez que será mais fácil confirmar se um item é de fato compatível com seu veículo.</li></ul><p>&nbsp;</p><p>Considerando esse cenário, se o seus clientes (os sellers) trabalham com itens de autopeças, recomendamos fortemente que implementem os novos endpoints na plataforma de vocês.</p><h3><span style=\"color:#EE4D2D;\"><strong>Estrutura dos dados</strong></span></h3><p>&nbsp;</p><p>Os dados dos veículos são armazenados da seguinte forma:</p><figure class=\"table\"><table><thead><tr><th>Parâmetro</th><th>Significado</th><th>Exemplo</th></tr></thead><tbody><tr><td>brand_id</td><td>O id de uma marca específica.</td><td><span style=\"color:#098658;\">5770</span></td></tr><tr><td>brand_name</td><td>O nome da marca relacionada a cada brand_id.</td><td><span style=\"color:#0451a5;\">\"Chevrolet\"</span></td></tr><tr><td>model_id</td><td>O id de um modelo específico.</td><td><span style=\"color:#098658;\">5905</span></td></tr><tr><td>model_name</td><td>O nome do modelo relacionado ao model_id.</td><td><span style=\"color:#0451a5;\">\"Chevette\"</span></td></tr><tr><td>year_id</td><td>O id de cada ano.</td><td><span style=\"color:#098658;\">5712</span></td></tr><tr><td>year_name</td><td>O ano relacionado a um dado year_id.</td><td><span style=\"color:#0451a5;\">\"1979\"</span></td></tr><tr><td>version_id</td><td>A id de cada versão de um veículo.</td><td><span style=\"color:#098658;\">5907</span></td></tr><tr><td>version_name</td><td>O nome da versão associada ao version_id.</td><td><span style=\"color:#0451a5;\">\"Hatch\"</span></td></tr></tbody></table></figure><p>&nbsp;</p><p>Estabelecido isso, é importante reforçar que os parâmetros listados acima seguem a seguinte relação de dependência: brand &gt; model &gt; year &gt; version.</p><h3><span style=\"color:#EE4D2D;\"><strong>Novos endpoints:</strong></span></h3><p>&nbsp;</p><p><span style=\"color:#EE4D2D;\"><strong>v2.product.get_all_vehicle_list</strong></span></p><p>&nbsp;</p><ul><li><span style=\"color:#2B2C2D;\">Como o nome indica, é o endpoint responsável por trazer toda a lista de veículos presente na base de dados da Shopee. Para usá-lo, o parâmetro obrigatório é o tamanho da página (page_size) que pode ser de no máximo 100 itens. Mais detalhes do endpoint você encontra em </span><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://open.shopee.com/documents/v2/v2.product.get_all_vehicle_list?module=89&amp;type=1\">sua página do API Reference</a><span style=\"color:#2B2C2D;\">.</span></li><li>Exemplo de retorno do endpoint:</li></ul><pre><code class=\"python hljs\">{\n    \"error\": \"\",\n    \"message\": \"\",\n    \"warning\": \"\",\n    \"request_id\": \"6535ecb33a3f8c6900c8d2b515f3c821\",\n    \"response\": {\n        \"vehicle_list\": [\n            {\n                \"brand_id\": 5770,\n                \"brand_name\": \"Chevrolet\",\n                \"model_id\": 5905,\n                \"model_name\": \"Chevette\",\n                \"year_id\": 5712,\n                \"year_name\": \"1979\",\n                \"version_id\": 5907,\n                \"version_name\": \"Hatch\"\n            },\n            {\n                \"brand_id\": 5770,\n                \"brand_name\": \"Chevrolet\",\n                \"model_id\": 5905,\n                \"model_name\": \"Chevette\",\n                \"year_id\": 5712,\n                \"year_name\": \"1979\",\n                \"version_id\": 5906,\n                \"version_name\": \"S\"\n            }....\n           ],\n        \"has_next_page\": true,\n        \"next_offset\": 61\n    }\n}</code></pre><p>&nbsp;</p><p><span style=\"background-color:rgb(255,255,255);color:#EE4D2D;\"><strong>v2.product.get_vehicle_list_by_compatibility_detail</strong></span></p><p>&nbsp;</p><ul><li>Nesse endpoint é possível identificar os detalhes para cada um dos elementos do veículo (marca / modelo / ano / versão). O parâmetro obrigatório é o \"compatibility_details\" onde você pode especificar que nível de detalhamento deseja ver. Parâmetros opcionais (brand_id / model_id / year_id / version_id) ajudam no refinamento da busca. Mais informações em sua <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://open.shopee.com/documents/v2/v2.product.get_vehicle_list_by_compatibility_detail?module=89&amp;type=1\">página na API Reference</a>.</li><li>Exemplos de chamadas no endpoint:</li></ul><figure class=\"table\"><table><thead><tr><th><strong>Request</strong></th><th><strong>Response</strong></th></tr></thead><tbody><tr><td><strong>compatibility_details</strong>=\"Brand\"</td><td><pre><code class=\"python hljs\">\n\n\"response\": {\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"compatibility_tree\": [\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"compatibility_details\": [\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"brand_id\": 12345,\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"brand_name\": \"Toyota\",\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"brand_id\": 13524,\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"brand_name\": \"Renault\",\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"brand_id\": 14235,\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"brand_name\": \"Chevrolet\",\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\n …</code></pre></td></tr><tr><td><strong>compatibility_brand_id</strong>=12345&amp;<strong>compatibility_details</strong>=\"Model\"</td><td><pre><code class=\"python hljs\">\n\n\"response\": {\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"compatibility_tree\": [\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"compatibility_details\": [\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"model_id\": 222234,\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"model_name\": \"Etios\",\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"model_id\": 234234,\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"model_name\": \"Corolla\",\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"model_id\": 225243,\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"model_name\": \"Bandeirante\",\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\n …</code></pre></td></tr></tbody></table></figure><h3><span style=\"color:#EE4D2D;\">Mudanças em endpoints existentes</span></h3><p>&nbsp;</p><p><span style=\"color:#2B2C2D;\">Alguns endpoints sofreram ajustes para que possam se adequar ao fluxo de compatibilidade, são eles:</span></p><ul><li><span style=\"color:#EE4D2D;\">V2.product.add_item;</span></li><li><span style=\"color:#EE4D2D;\">V2.product.update_item;</span></li><li><span style=\"color:#EE4D2D;\">v2.product.get_item_base_info;</span></li></ul><p>&nbsp;</p><p><span style=\"color:#2B2C2D;\">Nos dois primeiros endpoints é possível inserir as informações de compatibilidade para itens novos / existentes, respectivamente. No terceiro as mudanças auxiliam a confirmar se as informações de compatibilidade foram adicionadas corretamente.</span></p><p>&nbsp;</p><p><span style=\"color:#EE4D2D;\">Exemplo de estrutura para chamadas no v2.product.add_item e v2.product.update_item</span></p><pre><code class=\"python hljs\">    \"compatibility_info\": {\n        \"vehicle_info_list\": [\n            {\n                \"brand_id\": 5770,\n                \"model_id\": 5911,\n                \"year_id\": 5590,\n                \"version_id\": 5912\n            },\n            {\n                \"brand_id\": 5508,\n                \"model_id\": 5509,\n                \"year_id\": 5516\n            },\n            {\n                \"brand_id\": 5770,\n                \"model_id\": 5905\n            }\n        ]\n    },</code></pre><p>&nbsp; &nbsp;&nbsp;</p><p>&nbsp;</p><p>Algumas considerações importantes:</p><ul><li>Se um determinado produto é compatível com todas as versões de um determinado ano, basta informar os ids para brand, model e year, o sistema entenderá que todas as versões daquele ano deverão ser inseridas na lista de compatibilidade;</li></ul><pre><code class=\"python hljs\">\t\t\t{\n                \"brand_id\": 5508,\n                \"model_id\": 5509,\n                \"year_id\": 5516\n            }</code></pre><p>&nbsp;</p><ul><li>De maneira similar, se todas as versões de todos os anos de um dado modelo forem compatíveis com o produto, basta informar os ids para brand e model;</li></ul><pre><code class=\"python hljs\">            {\n                \"brand_id\": 5770,\n                \"model_id\": 5905\n            }</code></pre><p>&nbsp;</p><ul><li>O v2.product.update_item poderá ser usado normalmente para adicionar as informações de compatibilidade em itens existentes que não a possuam. Nesse caso, basta informar a lista de compatibilidade conforme exemplos acima;</li></ul><p>&nbsp;</p><ul><li><span style=\"color:#EE4D2D;\"><strong>ATENÇÃO:</strong></span> Ao usar o v2.product.update_item <span style=\"background-color:#E9EEF6;\"><strong>para adicionar compatibilidade em um item que já possui veículos em sua lista</strong>, você deverá informar a lista de ids existente atualmente no item + os novos ids de compatibilidade</span>. Caso contrário, a lista de ids existente será sobreposta pelos novos ids informados na chamada do update item.</li></ul><p>&nbsp;</p><p>Se restar alguma dúvida no uso dos novos endpoints, <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://open.shopee.com/myconsole/ticket-system/raise-ticket/\">basta abrir um ticket</a> e iremos te auxiliar a integrar corretamente com a nova funcionalidade.</p>",
  "status": 1,
  "language_code": "en",
  "language_list": [
    "en",
    "pt-BR"
  ]
}