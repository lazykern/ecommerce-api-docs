{
  "platform": "tiktok_shop",
  "module": "fulfillment",
  "endpoint_name": "packages_deliver",
  "version": "202309",
  "summary": "Use this API to update the delivery status of the package from in transit status",
  "description": "Use this API to update the delivery status of the package from in transit status. Please note that only sellers utilizing the SOF( Seller Own Fleet) capability can use this API to update the package status to 'DELIVERED'. This API is only available for the SEA region. Version\n202309\n  \nAPI Testing Tool",
  "path": "/fulfillment/202309/packages/deliver",
  "http_method": [
    "POST"
  ],
  "parameters": {
    "path": [],
    "query": [
      {
        "properties": "shop_cipher Required",
        "type": "string",
        "description": "Use this property to pass shop information in requesting the API. Failure in passing the correct value when requesting the API for cross-border shops will return incorrect response.  Get by API Get Authorization Shop"
      },
      {
        "properties": "app_key Required",
        "type": "string",
        "description": "Every single app will have a unique key. Please use the specific key assigned to your app."
      },
      {
        "properties": "sign Required",
        "type": "string",
        "description": "Signature generated by gen algorithm. When you send API requests to TTS, you must sign them so that TTS can identify the senders."
      },
      {
        "properties": "timestamp Required",
        "type": "int",
        "description": "Unix timestamp GMT (UTC+00:00). This timestamp is used across all API requests. Developers can use this convert to local time."
      }
    ],
    "header": [
      {
        "properties": "content-type Required",
        "type": "string",
        "description": "Allowed type: application/json"
      },
      {
        "properties": "x-tts-access-token Required",
        "type": "string",
        "description": "The seller access_token value from Get Access Token, when user_type = 0. Follow this guide to get seller access_token."
      }
    ],
    "body": [
      {
        "properties": "packages Required",
        "type": "[]object",
        "description": "The return list of packages.",
        "children": [
          {
            "properties": "id Required",
            "type": "string",
            "description": "The package ID."
          },
          {
            "properties": "delivery_type Required",
            "type": "string",
            "description": "Delivery status of the package. Possible values: - DELIVERY_SUCCESS: Package has been successfully delivered. - DELIVERY_FAILED: Package delivery has been unsuccessful. - UPDATE_POD: For packages that have been delivered, but you would like to update an attachment."
          },
          {
            "properties": "fail_delivery_reason",
            "type": "string",
            "description": "Delivery failure reasons.  When delivery_type = DELIVERY_FAILED, this field is required. For other delivery types, this field is not required.  Possible values: - INVALID_ADDRESS: The buyer shipping address is invalid. - UNABLE_RECEIVE: The buyer is currently unable to receive the delivery. - UNABLE_CONTACT_BUYER: Unable to contact the buyer. - BUYER_REFUSED: The buyer has refused to receive the product. - DELAY_DELIVERY: Delay in delivery. - PACKAGE_LOST: The package is lost. - PACKAGE_DAMAGE: The package is damaged. - FORCE_MAJEURE: An unforeseeable event of force majeure has occurred. - OTHER: Other reason."
          },
          {
            "properties": "file_type",
            "type": "string",
            "description": "Attachment type: - IMG - PDF"
          },
          {
            "properties": "file_url",
            "type": "string",
            "description": "Attachment URL. The seller can use the Upload Delivery File and Upload Delivery Image APIs to generate the URL. The attachment will be used by TikTok Shop to verify the package delivery."
          }
        ]
      }
    ],
    "common": []
  },
  "request_examples": [],
  "response": {
    "schema": [
      {
        "properties": "code",
        "type": "int",
        "description": "The success or failure status code returned in API response."
      },
      {
        "properties": "message",
        "type": "string",
        "description": "The success or failure messages returned in API response. Reasons of failure will be described in the message."
      },
      {
        "properties": "request_id",
        "type": "string",
        "description": "Request log"
      },
      {
        "properties": "data",
        "type": "object",
        "description": "Specific return information",
        "children": [
          {
            "properties": "errors",
            "type": "[]object",
            "description": "Specific return information (returns multiple errors and reasons).",
            "children": [
              {
                "properties": "code",
                "type": "int",
                "description": "The failure reason code."
              },
              {
                "properties": "message",
                "type": "string",
                "description": "Fulfillment failure reason."
              },
              {
                "properties": "detail",
                "type": "object",
                "description": "Error detail.",
                "children": [
                  {
                    "properties": "package_id",
                    "type": "string",
                    "description": "Package ID."
                  }
                ]
              }
            ]
          }
        ]
      }
    ],
    "examples": [
      {
        "language": "json",
        "code": "{\n  \"code\": 0,\n  \"data\": {\n    \"errors\": [\n      {\n        \"code\": 10007014,\n        \"message\": \"order not in sof service\",\n        \"detail\": {\n          \"package_id\": \"1231231231231\"\n        }\n      }\n    ]\n  },\n  \"message\": \"Success\",\n  \"request_id\": \"202203070749000101890810281E8C70B7\"\n}"
      }
    ]
  },
  "error_codes": [
    {
      "code": "21001010",
      "message": "System process error, please try it later"
    },
    {
      "code": "21001011",
      "message": "System process error, please try it later"
    },
    {
      "code": "21001201",
      "message": "System process error, please try it later"
    },
    {
      "code": "21011028",
      "message": "The package does not belong to the current shop."
    },
    {
      "code": "21011500",
      "message": "system process error, please try it later"
    },
    {
      "code": "99999999",
      "message": "System process error. If multiple retry have failed, please contact the platform for assistance."
    }
  ],
  "platform_specific": {
    "original_url": "https://partner.tiktokshop.com/docv2/page/650aa332c16ffe02b8f0ba82"
  }
}