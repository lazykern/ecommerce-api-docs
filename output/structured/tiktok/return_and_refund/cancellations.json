{
  "platform": "tiktok",
  "module": "return_and_refund",
  "endpoint_name": "cancellations",
  "version": "202309",
  "summary": "Use this API to cancel an order on behalf of a seller",
  "description": "Use this API to cancel an order on behalf of a seller. In the US and UK markets, when an item is out of stock, partial cancellation on the single item level is supported by this API. Version\n202309\n  \nAPI Testing Tool",
  "path": "/return_refund/202309/cancellations",
  "http_method": [
    "POST"
  ],
  "parameters": {
    "path": [],
    "query": [
      {
        "properties": "shop_cipher Required",
        "type": "string",
        "description": "Use this property to pass shop information in requesting the API. Failure in passing the correct value when requesting the API for cross-border shops will return incorrect response.  Get by API Get Authorization Shop"
      },
      {
        "properties": "app_key",
        "type": "string",
        "description": "Every single app will have a unique key. Please use the specific key assigned to your app."
      },
      {
        "properties": "sign",
        "type": "string",
        "description": "Signature generated by gen algorithm. When you send API requests to TTS, you must sign them so that TTS can identify the senders."
      },
      {
        "properties": "timestamp",
        "type": "int",
        "description": "Unix timestamp GMT (UTC+00:00). This timestamp is used across all API requests. Developers can use this convert to local time."
      }
    ],
    "header": [
      {
        "properties": "content-type Required",
        "type": "string",
        "description": "Allowed type: application/json"
      },
      {
        "properties": "x-tts-access-token Required",
        "type": "string",
        "description": "The seller access_token value from Get Access Token, when user_type = 0. Follow this guide to get seller access_token."
      }
    ],
    "body": [
      {
        "properties": "order_id Required",
        "type": "string",
        "description": "TikTok Shop order id"
      },
      {
        "properties": "skus",
        "type": "[]object",
        "description": "List of SKU to cancel",
        "children": [
          {
            "properties": "sku_id Required",
            "type": "string",
            "description": "The SKU id to cancel"
          },
          {
            "properties": "quantity Required",
            "type": "int",
            "description": "The quantity of SKU to cancel"
          },
          {
            "properties": "order_line_item_ids",
            "type": "[]string",
            "description": "List of order line item ids to cancel. In the US and UK markets, when an item is out of stock, partial cancellation on the single item level is supported. To initiate a partial cancellation, specify the item's order line id."
          },
          {
            "properties": "cancel_reason Required",
            "type": "string",
            "description": "Reason to cancel the order  Please see \"Return API Overview\" for a list of reasons a seller can select to cancel the order."
          }
        ]
      }
    ],
    "common": []
  },
  "request_examples": [],
  "response": {
    "schema": [
      {
        "properties": "code",
        "type": "int",
        "description": "The success or failure status code returned in API response."
      },
      {
        "properties": "message",
        "type": "string",
        "description": "The success or failure messages returned in API response. Reasons of failure will be described in the message."
      },
      {
        "properties": "request_id",
        "type": "string",
        "description": "Request log"
      },
      {
        "properties": "data",
        "type": "object",
        "description": "Specific return information",
        "children": [
          {
            "properties": "cancel_id",
            "type": "string",
            "description": "The identifier of a specific order cancellation."
          },
          {
            "properties": "cancel_status",
            "type": "string",
            "description": "The status of an order cancellation request.  Available values: - CANCELLATION_REQUEST_PENDING - CANCELLATION_REQUEST_SUCCESS - CANCELLATION_REQUEST_CANCEL - CANCELLATION_REQUEST_COMPLETE"
          }
        ]
      }
    ],
    "examples": [
      {
        "language": "json",
        "code": "{\n  \"code\": 0,\n  \"data\": {\n    \"cancel_id\": \"4035319218955782461\",\n    \"cancel_status\": \"CANCELLATION_REQUEST_SUCCESS\"\n  },\n  \"message\": \"Success\",\n  \"request_id\": \"202203070749000101890810281E8C70B7\"\n}"
      }
    ]
  },
  "error_codes": [
    {
      "code": "25001001",
      "message": "Invalid request parameters"
    },
    {
      "code": "25001011",
      "message": "There are processing return or cancel order exists"
    },
    {
      "code": "25001014",
      "message": "Unknown reason"
    },
    {
      "code": "25001015",
      "message": "This return/refund reason can not be used by sellers, please select the correct return/refund reason and try again."
    },
    {
      "code": "25001020",
      "message": "The reason is offline"
    },
    {
      "code": "25001021",
      "message": "Reason not match order status"
    },
    {
      "code": "25001028",
      "message": "Another repeated request is processing"
    },
    {
      "code": "25001045",
      "message": "Unable to cancel shipment with the courier"
    },
    {
      "code": "25001046",
      "message": "Request was intercepted by TikTok risk control"
    },
    {
      "code": "25001051",
      "message": "Not allowed to return or cancel since order is completed or cancelled"
    },
    {
      "code": "25005010",
      "message": "Unable to cancel individual line items within this request"
    },
    {
      "code": "25005011",
      "message": "The requested line item(s) for refund or return exceeds the allowable limit."
    },
    {
      "code": "25020005",
      "message": "No permission to process this order"
    }
  ],
  "platform_specific": {
    "original_url": "https://partner.tiktokshop.com/docv2/page/650aecb64a0bb702c076b03d"
  }
}