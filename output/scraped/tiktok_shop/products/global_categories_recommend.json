{
  "platform": "tiktok_shop",
  "module": "products",
  "endpoint_name": "global_categories_recommend",
  "version": "202309",
  "summary": "Retrieve the recommended categories for a candidate global product based on its title, description, and images",
  "description": "Retrieve the recommended categories for a candidate global product based on its title, description, and images. If you are syncing product catalogs from an external system to TikTok Shop, use this API to facilitate product classification. Note: Double-byte characters (e.g. Chinese characters) are not supported in text fields such as descriptions and titles. If you include them, the API request will fail. Version\n202309\n  \nAPI Testing Tool",
  "path": "/product/202309/global_categories/recommend",
  "http_method": [
    "POST"
  ],
  "parameters": {
    "path": [],
    "query": [
      {
        "properties": "app_key Required",
        "type": "string",
        "description": "Every single app will have a unique key. Please use the specific key assigned to your app."
      },
      {
        "properties": "sign Required",
        "type": "string",
        "description": "Signature generated by gen algorithm. When you send API requests to TTS, you must sign them so that TTS can identify the senders."
      },
      {
        "properties": "timestamp Required",
        "type": "int",
        "description": "Unix timestamp GMT (UTC+00:00). This timestamp is used across all API requests. Developers can use this convert to local time."
      }
    ],
    "header": [
      {
        "properties": "content-type Required",
        "type": "string",
        "description": "Allowed type: application/json"
      },
      {
        "properties": "x-tts-access-token Required",
        "type": "string",
        "description": "The seller access_token value from Get Access Token, when user_type = 0. Follow this guide to get seller access_token."
      }
    ],
    "body": [
      {
        "properties": "product_title Required",
        "type": "string",
        "description": "The product title.  Title length: - DE, ES, FR, IE, IT, JP, UK, US: [1, 255]  - Other regions: [25, 255]"
      },
      {
        "properties": "description",
        "type": "string",
        "description": "The product description in HTML format.  Note: - The content must conform to the HTML syntax. All HTML tags are accepted but to optimize display on the TikTok Shop product detail page, the system will automatically convert certain tags into alternative formats, such as rendering <table> tags as images. - Max length: 10,000 characters. - Image guidelines: You must use TikTok Shop image URLs. Max 30 <img> tags, each under 4000px with src, width, and height attributes.  Recommendations:  - If you are syncing a pre-existing description from another platform, include the full HTML source description here. - Provide a detailed description, ideally over 300 characters. - Include 3-5 key selling points, each under 250 characters, with supporting images. - Use 1600x1600 px for the image dimensions."
      },
      {
        "properties": "images",
        "type": "[]object",
        "description": "Product images, including gallery images, images that appear in the description, product variant images.",
        "children": [
          {
            "properties": "uri",
            "type": "string",
            "description": "The URI of the image. Retrieve the URI from the Upload Product Image API."
          },
          {
            "properties": "category_version",
            "type": "string",
            "description": "The category tree version to use for this product. Possible values based on region: - US: v2, represents the 7-level category tree. Important: If the seller account contains an active US shop, you must pass v2 when using this API. - Other regions: v1, represents the 3-level category tree. Default: v1"
          }
        ]
      }
    ],
    "common": []
  },
  "request_examples": [],
  "response": {
    "schema": [
      {
        "properties": "code",
        "type": "int",
        "description": "The success or failure status code returned in API response."
      },
      {
        "properties": "message",
        "type": "string",
        "description": "The success or failure messages returned in API response. Reasons of failure will be described in the message."
      },
      {
        "properties": "request_id",
        "type": "string",
        "description": "Request log"
      },
      {
        "properties": "data",
        "type": "object",
        "description": "Specific return information",
        "children": [
          {
            "properties": "leaf_category_id",
            "type": "string",
            "description": "The recommended category ID. This is always a leaf category."
          },
          {
            "properties": "categories",
            "type": "[]object",
            "description": "Recommended category information.",
            "children": [
              {
                "properties": "id",
                "type": "string",
                "description": "The category ID."
              },
              {
                "properties": "name",
                "type": "string",
                "description": "The category name."
              },
              {
                "properties": "level",
                "type": "int",
                "description": "The category level."
              },
              {
                "properties": "is_leaf",
                "type": "bool",
                "description": "A flag to indicate if the category is a leaf category.  Note: You can only create or edit products that belong to a leaf category."
              }
            ]
          }
        ]
      }
    ],
    "examples": [
      {
        "language": "json",
        "code": "{\n  \"code\": 0,\n  \"data\": {\n    \"leaf_category_id\": \"605254\",\n    \"categories\": [\n      {\n        \"id\": \"605254\",\n        \"name\": \"Christmas Gifts\",\n        \"level\": 3,\n        \"is_leaf\": true\n      }\n    ]\n  },\n  \"message\": \"Success\",\n  \"request_id\": \"202203070749000101890810281E8C70B7\"\n}"
      }
    ]
  },
  "error_codes": [
    {
      "code": "12019006",
      "message": "product description is invalid"
    },
    {
      "code": "12019009",
      "message": "product image list is invalid"
    },
    {
      "code": "12019064",
      "message": "No matching categories. Please edit the product name and try again. Make sure to enter the full product name."
    },
    {
      "code": "12052013",
      "message": "The product description cannot exceed maximum characters"
    },
    {
      "code": "12052051",
      "message": "The product name exceed max limit characters"
    },
    {
      "code": "12052217",
      "message": "Incorrect category version. For US shops or global sellers with an active US shop, specify 'category version=v2'. For shops in other regions specify 'category_version=v1'."
    },
    {
      "code": "12052230",
      "message": "The specified category ID is not a leaf category, or it does not belong to the specified category version. Note: For US shops or global sellers with an active US shop, specify 'category_version=v2'. For shops in other regions, specify 'category_version=v1'. Use the Get Categories/Get Global Categories endpoint to check the leaf categories that belong to the required category version."
    },
    {
      "code": "12052261",
      "message": "product name is empty"
    },
    {
      "code": "12052262",
      "message": "product name contain chinese"
    },
    {
      "code": "12052266",
      "message": "The product name contains non-English characters."
    },
    {
      "code": "12052301",
      "message": "Width and length of main image must be at least {{min_limit}}, check uri {{uri}}"
    },
    {
      "code": "12052305",
      "message": "The main images aspect ratio cannot exceed max limit."
    },
    {
      "code": "12052306",
      "message": "main product images count exceed limit"
    },
    {
      "code": "12052340",
      "message": "product description image uri illegal"
    },
    {
      "code": "12052345",
      "message": "The product description html tag not support."
    },
    {
      "code": "12052346",
      "message": "The product description has Chinese characters"
    },
    {
      "code": "12052348",
      "message": "The product description html tag required attribute is miss."
    },
    {
      "code": "12052349",
      "message": "The product description html tag not support nest."
    },
    {
      "code": "12052350",
      "message": "The product description html tag contain illegal attribute."
    },
    {
      "code": "12052351",
      "message": "The product description contains non-English characters."
    },
    {
      "code": "12052700",
      "message": "seller is inactived"
    },
    {
      "code": "12052704",
      "message": "seller id not exist"
    },
    {
      "code": "12052722",
      "message": "material URI not exist"
    },
    {
      "code": "12052900",
      "message": "System error, try again later"
    },
    {
      "code": "12052912",
      "message": "The product category is not the main category"
    },
    {
      "code": "12056001",
      "message": "System error, try again later"
    }
  ],
  "platform_specific": {
    "original_url": "https://partner.tiktokshop.com/docv2/page/650a9354f1fd3102b92a853b"
  }
}